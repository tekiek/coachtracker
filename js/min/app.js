function EventManagerBase(){this.EVENTS={}}(function(t,e){"use strict";function i(t){var e=t.length,i=re.type(t);return re.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t){var e=we[t]={};return re.each(t.match(ce)||[],function(t,i){e[i]=!0}),e}function a(t,i,n,a){if(re.acceptData(t)){var s,o,r=re.expando,l="string"==typeof i,c=t.nodeType,h=c?re.cache:t,u=c?t[r]:t[r]&&r;if(u&&h[u]&&(a||h[u].data)||!l||n!==e)return u||(c?t[r]=u=Q.pop()||re.guid++:u=r),h[u]||(h[u]={},c||(h[u].toJSON=re.noop)),("object"==typeof i||"function"==typeof i)&&(a?h[u]=re.extend(h[u],i):h[u].data=re.extend(h[u].data,i)),s=h[u],a||(s.data||(s.data={}),s=s.data),n!==e&&(s[re.camelCase(i)]=n),l?(o=s[i],null==o&&(o=s[re.camelCase(i)])):o=s,o}}function s(t,e,i){if(re.acceptData(t)){var n,a,s,o=t.nodeType,l=o?re.cache:t,c=o?t[re.expando]:re.expando;if(l[c]){if(e&&(n=i?l[c]:l[c].data)){re.isArray(e)?e=e.concat(re.map(e,re.camelCase)):e in n?e=[e]:(e=re.camelCase(e),e=e in n?[e]:e.split(" "));for(a=0,s=e.length;s>a;a++)delete n[e[a]];if(!(i?r:re.isEmptyObject)(n))return}(i||(delete l[c].data,r(l[c])))&&(o?re.cleanData([t],!0):re.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function o(t,i,n){if(n===e&&1===t.nodeType){var a="data-"+i.replace(Te,"-$1").toLowerCase();if(n=t.getAttribute(a),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xe.test(n)?re.parseJSON(n):n}catch(s){}re.data(t,i,n)}else n=e}return n}function r(t){var e;for(e in t)if(("data"!==e||!re.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function c(){return!1}function h(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function u(t,e,i){if(e=e||0,re.isFunction(e))return re.grep(t,function(t,n){var a=!!e.call(t,n,t);return a===i});if(e.nodeType)return re.grep(t,function(t){return t===e===i});if("string"==typeof e){var n=re.grep(t,function(t){return 1===t.nodeType});if(Be.test(e))return re.filter(e,n,!i);e=re.filter(e,n)}return re.grep(t,function(t){return re.inArray(t,e)>=0===i})}function d(t){var e=Ue.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function p(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function f(t){var e=t.getAttributeNode("type");return t.type=(e&&e.specified)+"/"+t.type,t}function g(t){var e=ii.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var i,n=0;null!=(i=t[n]);n++)re._data(i,"globalEval",!e||re._data(e[n],"globalEval"))}function v(t,e){if(1===e.nodeType&&re.hasData(t)){var i,n,a,s=re._data(t),o=re._data(e,s),r=s.events;if(r){delete o.handle,o.events={};for(i in r)for(n=0,a=r[i].length;a>n;n++)re.event.add(e,i,r[i][n])}o.data&&(o.data=re.extend({},o.data))}}function b(t,e){var i,n,a;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!re.support.noCloneEvent&&e[re.expando]){n=re._data(e);for(a in n.events)re.removeEvent(e,a,n.handle);e.removeAttribute(re.expando)}"script"===i&&e.text!==t.text?(f(e).text=t.text,g(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),re.support.html5Clone&&t.innerHTML&&!re.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Ze.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function y(t,i){var n,a,s=0,o=t.getElementsByTagName!==e?t.getElementsByTagName(i||"*"):t.querySelectorAll!==e?t.querySelectorAll(i||"*"):e;if(!o)for(o=[],n=t.childNodes||t;null!=(a=n[s]);s++)!i||re.nodeName(a,i)?o.push(a):re.merge(o,y(a,i));return i===e||i&&re.nodeName(t,i)?re.merge([t],o):o}function _(t){Ze.test(t.type)&&(t.defaultChecked=t.checked)}function w(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,a=xi.length;a--;)if(e=xi[a]+i,e in t)return e;return n}function x(t,e){return t=e||t,"none"===re.css(t,"display")||!re.contains(t.ownerDocument,t)}function T(t,e){for(var i,n=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(n[a]=re._data(i,"olddisplay"),e?(n[a]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&x(i)&&(n[a]=re._data(i,"olddisplay",D(i.nodeName)))):n[a]||x(i)||re._data(i,"olddisplay",re.css(i,"display")));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?n[a]||"":"none"));return t}function S(t,e,i){var n=gi.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function C(t,e,i,n,a){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=re.css(t,i+wi[s],!0,a)),n?("content"===i&&(o-=re.css(t,"padding"+wi[s],!0,a)),"margin"!==i&&(o-=re.css(t,"border"+wi[s]+"Width",!0,a))):(o+=re.css(t,"padding"+wi[s],!0,a),"padding"!==i&&(o+=re.css(t,"border"+wi[s]+"Width",!0,a)));return o}function k(t,e,i){var n=!0,a="width"===e?t.offsetWidth:t.offsetHeight,s=li(t),o=re.support.boxSizing&&"border-box"===re.css(t,"boxSizing",!1,s);if(0>=a||null==a){if(a=ri(t,e,s),(0>a||null==a)&&(a=t.style[e]),mi.test(a))return a;n=o&&(re.support.boxSizingReliable||a===t.style[e]),a=parseFloat(a)||0}return a+C(t,e,i||(o?"border":"content"),n,s)+"px"}function D(t){var e=X,i=bi[t];return i||(i=I(t,e),"none"!==i&&i||(ci=(ci||re("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(ci[0].contentWindow||ci[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=I(t,e),ci.detach()),bi[t]=i),i}function I(t,e){var i=re(e.createElement(t)).appendTo(e.body),n=re.css(i[0],"display");return i.remove(),n}function A(t,e,i,n){var a;if(re.isArray(e))re.each(e,function(e,a){i||Si.test(t)?n(t,a):A(t+"["+("object"==typeof a?e:"")+"]",a,i,n)});else if(i||"object"!==re.type(e))n(t,e);else for(a in e)A(t+"["+a+"]",e[a],i,n)}function P(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,a=0,s=e.toLowerCase().match(ce)||[];if(re.isFunction(i))for(;n=s[a++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function E(t,i,n,a){function s(l){var c;return o[l]=!0,re.each(t[l]||[],function(t,l){var h=l(i,n,a);return"string"!=typeof h||r||o[h]?r?!(c=h):e:(i.dataTypes.unshift(h),s(h),!1)}),c}var o={},r=t===Bi;return s(i.dataTypes[0])||!o["*"]&&s("*")}function F(t,i){var n,a,s=re.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((s[n]?t:a||(a={}))[n]=i[n]);return a&&re.extend(!0,t,a),t}function M(t,i,n){var a,s,o,r,l=t.contents,c=t.dataTypes,h=t.responseFields;for(s in h)s in n&&(i[h[s]]=n[s]);for(;"*"===c[0];)c.shift(),a===e&&(a=t.mimeType||i.getResponseHeader("Content-Type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){c.unshift(s);break}if(c[0]in n)o=c[0];else{for(s in n){if(!c[0]||t.converters[s+" "+c[0]]){o=s;break}r||(r=s)}o=o||r}return o?(o!==c[0]&&c.unshift(o),n[o]):e}function L(t,e){var i,n,a,s,o={},r=0,l=t.dataTypes.slice(),c=l[0];if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l[1])for(i in t.converters)o[i.toLowerCase()]=t.converters[i];for(;a=l[++r];)if("*"!==a){if("*"!==c&&c!==a){if(i=o[c+" "+a]||o["* "+a],!i)for(n in o)if(s=n.split(" "),s[1]===a&&(i=o[c+" "+s[0]]||o["* "+s[0]])){i===!0?i=o[n]:o[n]!==!0&&(a=s[0],l.splice(r--,0,a));break}if(i!==!0)if(i&&t["throws"])e=i(e);else try{e=i(e)}catch(h){return{state:"parsererror",error:i?h:"No conversion from "+c+" to "+a}}}c=a}return{state:"success",data:e}}function N(){try{return new t.XMLHttpRequest}catch(e){}}function $(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function O(){return setTimeout(function(){Ji=e}),Ji=re.now()}function R(t,e){re.each(e,function(e,i){for(var n=(nn[e]||[]).concat(nn["*"]),a=0,s=n.length;s>a;a++)if(n[a].call(t,e,i))return})}function j(t,e,i){var n,a,s=0,o=en.length,r=re.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=Ji||O(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,s=1-n,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(s);return r.notifyWith(t,[c,s,i]),1>s&&l?i:(r.resolveWith(t,[c]),!1)},c=r.promise({elem:t,props:re.extend({},e),opts:re.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Ji||O(),duration:i.duration,tweens:[],createTween:function(e,i){var n=re.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;n>i;i++)c.tweens[i].run(1);return e?r.resolveWith(t,[c,e]):r.rejectWith(t,[c,e]),this}}),h=c.props;for(H(h,c.opts.specialEasing);o>s;s++)if(n=en[s].call(c,t,h,c.opts))return n;return R(c,h),re.isFunction(c.opts.start)&&c.opts.start.call(t,c),re.fx.timer(re.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(t,e){var i,n,a,s,o;for(i in t)if(n=re.camelCase(i),a=e[n],s=t[i],re.isArray(s)&&(a=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),o=re.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=a)}else e[n]=a}function B(t,e,i){var n,a,s,o,r,l,c,h,u,d=this,p=t.style,f={},g=[],m=t.nodeType&&x(t);i.queue||(h=re._queueHooks(t,"fx"),null==h.unqueued&&(h.unqueued=0,u=h.empty.fire,h.empty.fire=function(){h.unqueued||u()}),h.unqueued++,d.always(function(){d.always(function(){h.unqueued--,re.queue(t,"fx").length||h.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===re.css(t,"display")&&"none"===re.css(t,"float")&&(re.support.inlineBlockNeedsLayout&&"inline"!==D(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",re.support.shrinkWrapBlocks||d.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],Qi.exec(s)){if(delete e[n],l=l||"toggle"===s,s===(m?"hide":"show"))continue;g.push(n)}if(o=g.length){r=re._data(t,"fxshow")||re._data(t,"fxshow",{}),"hidden"in r&&(m=r.hidden),l&&(r.hidden=!m),m?re(t).show():d.done(function(){re(t).hide()}),d.done(function(){var e;re._removeData(t,"fxshow");for(e in f)re.style(t,e,f[e])});for(n=0;o>n;n++)a=g[n],c=d.createTween(a,m?r[a]:0),f[a]=r[a]||re.style(t,a),a in r||(r[a]=c.start,m&&(c.end=c.start,c.start="width"===a||"height"===a?1:0))}}function z(t,e,i,n,a){return new z.prototype.init(t,e,i,n,a)}function W(t,e){var i,n={height:t},a=0;for(e=e?1:0;4>a;a+=2-e)i=wi[a],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function U(t){return re.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var q,Y,X=t.document,V=t.location,G=t.jQuery,J=t.$,K={},Q=[],Z="1.9.0",te=Q.concat,ee=Q.push,ie=Q.slice,ne=Q.indexOf,ae=K.toString,se=K.hasOwnProperty,oe=Z.trim,re=function(t,e){return new re.fn.init(t,e,q)},le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ce=/\S+/g,he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ue=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pe=/^[\],:{}\s]*$/,fe=/(?:^|:|,)(?:\s*\[)+/g,ge=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,me=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ve=/^-ms-/,be=/-([\da-z])/gi,ye=function(t,e){return e.toUpperCase()},_e=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",_e,!1),re.ready()):"complete"===X.readyState&&(X.detachEvent("onreadystatechange",_e),re.ready())};re.fn=re.prototype={jquery:Z,constructor:re,init:function(t,i,n){var a,s;if(!t)return this;if("string"==typeof t){if(a="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ue.exec(t),!a||!a[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(a[1]){if(i=i instanceof re?i[0]:i,re.merge(this,re.parseHTML(a[1],i&&i.nodeType?i.ownerDocument||i:X,!0)),de.test(a[1])&&re.isPlainObject(i))for(a in i)re.isFunction(this[a])?this[a](i[a]):this.attr(a,i[a]);return this}if(s=X.getElementById(a[2]),s&&s.parentNode){if(s.id!==a[2])return n.find(t);this.length=1,this[0]=s}return this.context=X,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):re.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),re.makeArray(t,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ie.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=re.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return re.each(this,t,e)},ready:function(t){return re.ready.promise().done(t),this},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(re.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:ee,sort:[].sort,splice:[].splice},re.fn.init.prototype=re.fn,re.extend=re.fn.extend=function(){var t,i,n,a,s,o,r=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"==typeof r&&(h=r,r=arguments[1]||{},l=2),"object"==typeof r||re.isFunction(r)||(r={}),c===l&&(r=this,--l);c>l;l++)if(null!=(t=arguments[l]))for(i in t)n=r[i],a=t[i],r!==a&&(h&&a&&(re.isPlainObject(a)||(s=re.isArray(a)))?(s?(s=!1,o=n&&re.isArray(n)?n:[]):o=n&&re.isPlainObject(n)?n:{},r[i]=re.extend(h,o,a)):a!==e&&(r[i]=a));return r},re.extend({noConflict:function(e){return t.$===re&&(t.$=J),e&&t.jQuery===re&&(t.jQuery=G),re},isReady:!1,readyWait:1,holdReady:function(t){t?re.readyWait++:re.ready(!0)},ready:function(t){if(t===!0?!--re.readyWait:!re.isReady){if(!X.body)return setTimeout(re.ready);re.isReady=!0,t!==!0&&--re.readyWait>0||(Y.resolveWith(X,[re]),re.fn.trigger&&re(X).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===re.type(t)},isArray:Array.isArray||function(t){return"array"===re.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?K[ae.call(t)]||"object":typeof t},isPlainObject:function(t){if(!t||"object"!==re.type(t)||t.nodeType||re.isWindow(t))return!1;try{if(t.constructor&&!se.call(t,"constructor")&&!se.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||se.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||X;var n=de.exec(t),a=!i&&[];return n?[e.createElement(n[1])]:(n=re.buildFragment([t],e,a),a&&re(a).remove(),re.merge([],n.childNodes))},parseJSON:function(i){return t.JSON&&t.JSON.parse?t.JSON.parse(i):null===i?i:"string"==typeof i&&(i=re.trim(i),i&&pe.test(i.replace(ge,"@").replace(me,"]").replace(fe,"")))?Function("return "+i)():(re.error("Invalid JSON: "+i),e)},parseXML:function(i){var n,a;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(a=new DOMParser,n=a.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&re.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ve,"ms-").replace(be,ye)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var a,s=0,o=t.length,r=i(t);if(n){if(r)for(;o>s&&(a=e.apply(t[s],n),a!==!1);s++);else for(s in t)if(a=e.apply(t[s],n),a===!1)break}else if(r)for(;o>s&&(a=e.call(t[s],s,t[s]),a!==!1);s++);else for(s in t)if(a=e.call(t[s],s,t[s]),a===!1)break;return t},trim:oe&&!oe.call("﻿ ")?function(t){return null==t?"":oe.call(t)}:function(t){return null==t?"":(t+"").replace(he,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?re.merge(n,"string"==typeof t?[t]:t):ee.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(ne)return ne.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,a=t.length,s=0;if("number"==typeof n)for(;n>s;s++)t[a++]=i[s];else for(;i[s]!==e;)t[a++]=i[s++];return t.length=a,t},grep:function(t,e,i){var n,a=[],s=0,o=t.length;for(i=!!i;o>s;s++)n=!!e(t[s],s),i!==n&&a.push(t[s]);return a},map:function(t,e,n){var a,s=0,o=t.length,r=i(t),l=[];if(r)for(;o>s;s++)a=e(t[s],s,n),null!=a&&(l[l.length]=a);else for(s in t)a=e(t[s],s,n),null!=a&&(l[l.length]=a);return te.apply([],l)},guid:1,proxy:function(t,i){var n,a,s;return"string"==typeof i&&(n=t[i],i=t,t=n),re.isFunction(t)?(a=ie.call(arguments,2),s=function(){return t.apply(i||this,a.concat(ie.call(arguments)))},s.guid=t.guid=t.guid||re.guid++,s):e},access:function(t,i,n,a,s,o,r){var l=0,c=t.length,h=null==n;if("object"===re.type(n)){s=!0;for(l in n)re.access(t,i,l,n[l],!0,o,r)}else if(a!==e&&(s=!0,re.isFunction(a)||(r=!0),h&&(r?(i.call(t,a),i=null):(h=i,i=function(t,e,i){return h.call(re(t),i)})),i))for(;c>l;l++)i(t[l],n,r?a:a.call(t[l],l,i(t[l],n)));return s?t:h?i.call(t):c?i(t[0],n):o},now:function(){return(new Date).getTime()}}),re.ready.promise=function(e){if(!Y)if(Y=re.Deferred(),"complete"===X.readyState)setTimeout(re.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",_e,!1),t.addEventListener("load",re.ready,!1);else{X.attachEvent("onreadystatechange",_e),t.attachEvent("onload",re.ready);var i=!1;try{i=null==t.frameElement&&X.documentElement}catch(n){}i&&i.doScroll&&function a(){if(!re.isReady){try{i.doScroll("left")}catch(t){return setTimeout(a,50)}re.ready()}}()}return Y.promise(e)},re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){K["[object "+e+"]"]=e.toLowerCase()}),q=re(X);var we={};re.Callbacks=function(t){t="string"==typeof t?we[t]||n(t):re.extend({},t);var i,a,s,o,r,l,c=[],h=!t.once&&[],u=function(e){for(i=t.memory&&e,a=!0,l=o||0,o=0,r=c.length,s=!0;c&&r>l;l++)if(c[l].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}s=!1,c&&(h?h.length&&u(h.shift()):i?c=[]:d.disable())},d={add:function(){if(c){var e=c.length;(function n(e){re.each(e,function(e,i){var a=re.type(i);"function"===a?t.unique&&d.has(i)||c.push(i):i&&i.length&&"string"!==a&&n(i)})})(arguments),s?r=c.length:i&&(o=e,u(i))}return this},remove:function(){return c&&re.each(arguments,function(t,e){for(var i;(i=re.inArray(e,c,i))>-1;)c.splice(i,1),s&&(r>=i&&r--,l>=i&&l--)}),this},has:function(t){return re.inArray(t,c)>-1},empty:function(){return c=[],this},disable:function(){return c=h=i=e,this},disabled:function(){return!c},lock:function(){return h=e,i||d.disable(),this},locked:function(){return!h},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!c||a&&!h||(s?h.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},re.extend({Deferred:function(t){var e=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var t=arguments;return re.Deferred(function(i){re.each(e,function(e,s){var o=s[0],r=re.isFunction(t[e])&&t[e];a[s[1]](function(){var t=r&&r.apply(this,arguments);t&&re.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?re.extend(t,n):n}},a={};return n.pipe=n.then,re.each(e,function(t,s){var o=s[2],r=s[3];n[s[1]]=o.add,r&&o.add(function(){i=r},e[1^t][2].disable,e[2][2].lock),a[s[0]]=function(){return a[s[0]+"With"](this===a?n:this,arguments),this},a[s[0]+"With"]=o.fireWith}),n.promise(a),t&&t.call(a,a),a},when:function(t){var e,i,n,a=0,s=ie.call(arguments),o=s.length,r=1!==o||t&&re.isFunction(t.promise)?o:0,l=1===r?t:re.Deferred(),c=function(t,i,n){return function(a){i[t]=this,n[t]=arguments.length>1?ie.call(arguments):a,n===e?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(o>1)for(e=Array(o),i=Array(o),n=Array(o);o>a;a++)s[a]&&re.isFunction(s[a].promise)?s[a].promise().done(c(a,n,s)).fail(l.reject).progress(c(a,i,e)):--r;return r||l.resolveWith(n,s),l.promise()}}),re.support=function(){var i,n,a,s,o,r,l,c,h,u,d=X.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),a=d.getElementsByTagName("a")[0],!n||!a||!n.length)return{};s=X.createElement("select"),o=s.appendChild(X.createElement("option")),r=d.getElementsByTagName("input")[0],a.style.cssText="top:1px;float:left;opacity:.5",i={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:"/a"===a.getAttribute("href"),opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:!!r.value,optSelected:o.selected,enctype:!!X.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===X.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,i.noCloneChecked=r.cloneNode(!0).checked,s.disabled=!0,i.optDisabled=!o.disabled;try{delete d.test}catch(p){i.deleteExpando=!1}r=X.createElement("input"),r.setAttribute("value",""),i.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),i.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),l=X.createDocumentFragment(),l.appendChild(r),i.appendChecked=r.checked,i.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){i.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+u,"t"),i[u+"Bubbles"]=c in t||d.attributes[c].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",i.clearCloneStyle="content-box"===d.style.backgroundClip,re(function(){var n,a,s,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=X.getElementsByTagName("body")[0];r&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=d.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",i.reliableHiddenOffsets=h&&0===s[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",i.boxSizing=4===d.offsetWidth,i.doesNotIncludeMarginInBodyOffset=1!==r.offsetTop,t.getComputedStyle&&(i.pixelPosition="1%"!==(t.getComputedStyle(d,null)||{}).top,i.boxSizingReliable="4px"===(t.getComputedStyle(d,null)||{width:"4px"}).width,a=d.appendChild(X.createElement("div")),a.style.cssText=d.style.cssText=o,a.style.marginRight=a.style.width="0",d.style.width="1px",i.reliableMarginRight=!parseFloat((t.getComputedStyle(a,null)||{}).marginRight)),d.style.zoom!==e&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",i.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",i.shrinkWrapBlocks=3!==d.offsetWidth,r.style.zoom=1),r.removeChild(n),n=d=s=a=null)}),n=s=l=o=a=r=null,i}();var xe=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Te=/([A-Z])/g;re.extend({cache:{},expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?re.cache[t[re.expando]]:t[re.expando],!!t&&!r(t)},data:function(t,e,i){return a(t,e,i,!1)},removeData:function(t,e){return s(t,e,!1)},_data:function(t,e,i){return a(t,e,i,!0)},_removeData:function(t,e){return s(t,e,!0)},acceptData:function(t){var e=t.nodeName&&re.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),re.fn.extend({data:function(t,i){var n,a,s=this[0],r=0,l=null;if(t===e){if(this.length&&(l=re.data(s),1===s.nodeType&&!re._data(s,"parsedAttrs"))){for(n=s.attributes;n.length>r;r++)a=n[r].name,a.indexOf("data-")||(a=re.camelCase(a.substring(5)),o(s,a,l[a]));re._data(s,"parsedAttrs",!0)}return l}return"object"==typeof t?this.each(function(){re.data(this,t)}):re.access(this,function(i){return i===e?s?o(s,t,re.data(s,t)):null:(this.each(function(){re.data(this,t,i)}),e)},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){re.removeData(this,t)})}}),re.extend({queue:function(t,i,n){var a;return t?(i=(i||"fx")+"queue",a=re._data(t,i),n&&(!a||re.isArray(n)?a=re._data(t,i,re.makeArray(n)):a.push(n)),a||[]):e},dequeue:function(t,e){e=e||"fx";var i=re.queue(t,e),n=i.length,a=i.shift(),s=re._queueHooks(t,e),o=function(){re.dequeue(t,e)};"inprogress"===a&&(a=i.shift(),n--),s.cur=a,a&&("fx"===e&&i.unshift("inprogress"),delete s.stop,a.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return re._data(t,i)||re._data(t,i,{empty:re.Callbacks("once memory").add(function(){re._removeData(t,e+"queue"),re._removeData(t,i)})})}}),re.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),n>arguments.length?re.queue(this[0],t):i===e?this:this.each(function(){var e=re.queue(this,t,i);re._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&re.dequeue(this,t)})},dequeue:function(t){return this.each(function(){re.dequeue(this,t)})},delay:function(t,e){return t=re.fx?re.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,a=1,s=re.Deferred(),o=this,r=this.length,l=function(){--a||s.resolveWith(o,[o])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";r--;)n=re._data(o[r],t+"queueHooks"),n&&n.empty&&(a++,n.empty.add(l));return l(),s.promise(i)}});var Se,Ce,ke=/[\t\r\n]/g,De=/\r/g,Ie=/^(?:input|select|textarea|button|object)$/i,Ae=/^(?:a|area)$/i,Pe=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Ee=/^(?:checked|selected)$/i,Fe=re.support.getSetAttribute,Me=re.support.input;re.fn.extend({attr:function(t,e){return re.access(this,re.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){re.removeAttr(this,t)})},prop:function(t,e){return re.access(this,re.prop,t,e,arguments.length>1)},removeProp:function(t){return t=re.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,a,s,o=0,r=this.length,l="string"==typeof t&&t;if(re.isFunction(t))return this.each(function(e){re(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ce)||[];r>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ke," "):" ")){for(s=0;a=e[s++];)0>n.indexOf(" "+a+" ")&&(n+=a+" ");i.className=re.trim(n)}return this},removeClass:function(t){var e,i,n,a,s,o=0,r=this.length,l=0===arguments.length||"string"==typeof t&&t;if(re.isFunction(t))return this.each(function(e){re(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ce)||[];r>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ke," "):"")){for(s=0;a=e[s++];)for(;n.indexOf(" "+a+" ")>=0;)n=n.replace(" "+a+" "," ");i.className=t?re.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return re.isFunction(t)?this.each(function(i){re(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var a,s=0,o=re(this),r=e,l=t.match(ce)||[];a=l[s++];)r=n?r:!o.hasClass(a),o[r?"addClass":"removeClass"](a);else("undefined"===i||"boolean"===i)&&(this.className&&re._data(this,"__className__",this.className),this.className=this.className||t===!1?"":re._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ke," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,a,s=this[0];return arguments.length?(a=re.isFunction(t),this.each(function(n){var s,o=re(this);1===this.nodeType&&(s=a?t.call(this,n,o.val()):t,null==s?s="":"number"==typeof s?s+="":re.isArray(s)&&(s=re.map(s,function(t){return null==t?"":t+""})),i=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==e||(this.value=s))})):s?(i=re.valHooks[s.type]||re.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==e?n:(n=s.value,"string"==typeof n?n.replace(De,""):null==n?"":n)):void 0}}),re.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,i,n=t.options,a=t.selectedIndex,s="select-one"===t.type||0>a,o=s?null:[],r=s?a+1:n.length,l=0>a?r:s?a:0;r>l;l++)if(i=n[l],!(!i.selected&&l!==a||(re.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&re.nodeName(i.parentNode,"optgroup"))){if(e=re(i).val(),s)return e;o.push(e)}return o},set:function(t,e){var i=re.makeArray(e);return re(t).find("option").each(function(){this.selected=re.inArray(re(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attr:function(t,i,n){var a,s,o,r=t.nodeType;return t&&3!==r&&8!==r&&2!==r?t.getAttribute===e?re.prop(t,i,n):(o=1!==r||!re.isXMLDoc(t),o&&(i=i.toLowerCase(),s=re.attrHooks[i]||(Pe.test(i)?Ce:Se)),n===e?s&&o&&"get"in s&&null!==(a=s.get(t,i))?a:(t.getAttribute!==e&&(a=t.getAttribute(i)),null==a?e:a):null!==n?s&&o&&"set"in s&&(a=s.set(t,n,i))!==e?a:(t.setAttribute(i,n+""),n):(re.removeAttr(t,i),e)):void 0},removeAttr:function(t,e){var i,n,a=0,s=e&&e.match(ce);if(s&&1===t.nodeType)for(;i=s[a++];)n=re.propFix[i]||i,Pe.test(i)?!Fe&&Ee.test(i)?t[re.camelCase("default-"+i)]=t[n]=!1:t[n]=!1:re.attr(t,i,""),t.removeAttribute(Fe?i:n)},attrHooks:{type:{set:function(t,e){if(!re.support.radioValue&&"radio"===e&&re.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var a,s,o,r=t.nodeType;return t&&3!==r&&8!==r&&2!==r?(o=1!==r||!re.isXMLDoc(t),o&&(i=re.propFix[i]||i,s=re.propHooks[i]),n!==e?s&&"set"in s&&(a=s.set(t,n,i))!==e?a:t[i]=n:s&&"get"in s&&null!==(a=s.get(t,i))?a:t[i]):void 0},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Ie.test(t.nodeName)||Ae.test(t.nodeName)&&t.href?0:e}}}}),Ce={get:function(t,i){var n=re.prop(t,i),a="boolean"==typeof n&&t.getAttribute(i),s="boolean"==typeof n?Me&&Fe?null!=a:Ee.test(i)?t[re.camelCase("default-"+i)]:!!a:t.getAttributeNode(i);return s&&s.value!==!1?i.toLowerCase():e},set:function(t,e,i){return e===!1?re.removeAttr(t,i):Me&&Fe||!Ee.test(i)?t.setAttribute(!Fe&&re.propFix[i]||i,i):t[re.camelCase("default-"+i)]=t[i]=!0,i}},Me&&Fe||(re.attrHooks.value={get:function(t,i){var n=t.getAttributeNode(i);
return re.nodeName(t,"input")?t.defaultValue:n&&n.specified?n.value:e},set:function(t,i,n){return re.nodeName(t,"input")?(t.defaultValue=i,e):Se&&Se.set(t,i,n)}}),Fe||(Se=re.valHooks.button={get:function(t,i){var n=t.getAttributeNode(i);return n&&("id"===i||"name"===i||"coords"===i?""!==n.value:n.specified)?n.value:e},set:function(t,i,n){var a=t.getAttributeNode(n);return a||t.setAttributeNode(a=t.ownerDocument.createAttribute(n)),a.value=i+="","value"===n||i===t.getAttribute(n)?i:e}},re.attrHooks.contenteditable={get:Se.get,set:function(t,e,i){Se.set(t,""===e?!1:e,i)}},re.each(["width","height"],function(t,i){re.attrHooks[i]=re.extend(re.attrHooks[i],{set:function(t,n){return""===n?(t.setAttribute(i,"auto"),n):e}})})),re.support.hrefNormalized||(re.each(["href","src","width","height"],function(t,i){re.attrHooks[i]=re.extend(re.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null==n?e:n}})}),re.each(["href","src"],function(t,e){re.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),re.support.style||(re.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),re.support.optSelected||(re.propHooks.selected=re.extend(re.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),re.support.enctype||(re.propFix.enctype="encoding"),re.support.checkOn||re.each(["radio","checkbox"],function(){re.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]=re.extend(re.valHooks[this],{set:function(t,i){return re.isArray(i)?t.checked=re.inArray(re(t).val(),i)>=0:e}})});var Le=/^(?:input|select|textarea)$/i,Ne=/^key/,$e=/^(?:mouse|contextmenu)|click/,Oe=/^(?:focusinfocus|focusoutblur)$/,Re=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(t,i,n,a,s){var o,r,l,c,h,u,d,p,f,g,m,v=3!==t.nodeType&&8!==t.nodeType&&re._data(t);if(v){for(n.handler&&(o=n,n=o.handler,s=o.selector),n.guid||(n.guid=re.guid++),(c=v.events)||(c=v.events={}),(r=v.handle)||(r=v.handle=function(t){return re===e||t&&re.event.triggered===t.type?e:re.event.dispatch.apply(r.elem,arguments)},r.elem=t),i=(i||"").match(ce)||[""],h=i.length;h--;)l=Re.exec(i[h])||[],f=m=l[1],g=(l[2]||"").split(".").sort(),d=re.event.special[f]||{},f=(s?d.delegateType:d.bindType)||f,d=re.event.special[f]||{},u=re.extend({type:f,origType:m,data:a,handler:n,guid:n.guid,selector:s,needsContext:s&&re.expr.match.needsContext.test(s),namespace:g.join(".")},o),(p=c[f])||(p=c[f]=[],p.delegateCount=0,d.setup&&d.setup.call(t,a,g,r)!==!1||(t.addEventListener?t.addEventListener(f,r,!1):t.attachEvent&&t.attachEvent("on"+f,r))),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,u):p.push(u),re.event.global[f]=!0;t=null}},remove:function(t,e,i,n,a){var s,o,r,l,c,h,u,d,p,f,g,m=re.hasData(t)&&re._data(t);if(m&&(l=m.events)){for(e=(e||"").match(ce)||[""],c=e.length;c--;)if(r=Re.exec(e[c])||[],p=g=r[1],f=(r[2]||"").split(".").sort(),p){for(u=re.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,d=l[p]||[],r=r[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)h=d[s],!a&&g!==h.origType||i&&i.guid!==h.guid||r&&!r.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(s,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(t,h));o&&!d.length&&(u.teardown&&u.teardown.call(t,f,m.handle)!==!1||re.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)re.event.remove(t,p+e[c],i,n,!0);re.isEmptyObject(l)&&(delete m.handle,re._removeData(t,"events"))}},trigger:function(i,n,a,s){var o,r,l,c,h,u,d,p=[a||X],f=i.type||i,g=i.namespace?i.namespace.split("."):[];if(r=l=a=a||X,3!==a.nodeType&&8!==a.nodeType&&!Oe.test(f+re.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),h=0>f.indexOf(":")&&"on"+f,i=i[re.expando]?i:new re.Event(f,"object"==typeof i&&i),i.isTrigger=!0,i.namespace=g.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=a),n=null==n?[i]:re.makeArray(n,[i]),d=re.event.special[f]||{},s||!d.trigger||d.trigger.apply(a,n)!==!1)){if(!s&&!d.noBubble&&!re.isWindow(a)){for(c=d.delegateType||f,Oe.test(c+f)||(r=r.parentNode);r;r=r.parentNode)p.push(r),l=r;l===(a.ownerDocument||X)&&p.push(l.defaultView||l.parentWindow||t)}for(o=0;(r=p[o++])&&!i.isPropagationStopped();)i.type=o>1?c:d.bindType||f,u=(re._data(r,"events")||{})[i.type]&&re._data(r,"handle"),u&&u.apply(r,n),u=h&&r[h],u&&re.acceptData(r)&&u.apply&&u.apply(r,n)===!1&&i.preventDefault();if(i.type=f,!(s||i.isDefaultPrevented()||d._default&&d._default.apply(a.ownerDocument,n)!==!1||"click"===f&&re.nodeName(a,"a")||!re.acceptData(a)||!h||!a[f]||re.isWindow(a))){l=a[h],l&&(a[h]=null),re.event.triggered=f;try{a[f]()}catch(m){}re.event.triggered=e,l&&(a[h]=l)}return i.result}},dispatch:function(t){t=re.event.fix(t);var i,n,a,s,o,r=[],l=ie.call(arguments),c=(re._data(this,"events")||{})[t.type]||[],h=re.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(r=re.event.handlers.call(this,t,c),i=0;(s=r[i++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,n=0;(o=s.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,a=((re.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l),a!==e&&(t.result=a)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,a,s,o,r=[],l=i.delegateCount,c=t.target;if(l&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(c.disabled!==!0||"click"!==t.type){for(a=[],n=0;l>n;n++)o=i[n],s=o.selector+" ",a[s]===e&&(a[s]=o.needsContext?re(s,this).index(c)>=0:re.find(s,this,null,[c]).length),a[s]&&a.push(o);a.length&&r.push({elem:c,handlers:a})}return i.length>l&&r.push({elem:this,handlers:i.slice(l)}),r},fix:function(t){if(t[re.expando])return t;var e,i,n=t,a=re.event.fixHooks[t.type]||{},s=a.props?this.props.concat(a.props):this.props;for(t=new re.Event(n),e=s.length;e--;)i=s[e],t[i]=n[i];return t.target||(t.target=n.srcElement||X),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,n):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,a,s,o=i.button,r=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||X,a=n.documentElement,s=n.body,t.pageX=i.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=i.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?i.toElement:r),t.which||o===e||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},click:{trigger:function(){return re.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):e}},focus:{trigger:function(){if(this!==X.activeElement&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===X.activeElement&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var a=re.extend(new re.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?re.event.trigger(a,null,e):re.event.dispatch.call(e,a),a.isDefaultPrevented()&&i.preventDefault()}},re.removeEvent=X.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,i,n){var a="on"+i;t.detachEvent&&(t[a]===e&&(t[a]=null),t.detachEvent(a,n))},re.Event=function(t,i){return this instanceof re.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:c):this.type=t,i&&re.extend(this,i),this.timeStamp=t&&t.timeStamp||re.now(),this[re.expando]=!0,e):new re.Event(t,i)},re.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){re.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,a=t.relatedTarget,s=t.handleObj;return(!a||a!==n&&!re.contains(n,a))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),re.support.submitBubbles||(re.event.special.submit={setup:function(){return re.nodeName(this,"form")?!1:(re.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=re.nodeName(i,"input")||re.nodeName(i,"button")?i.form:e;n&&!re._data(n,"submitBubbles")&&(re.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),re._data(n,"submitBubbles",!0))}),e)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&re.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return re.nodeName(this,"form")?!1:(re.event.remove(this,"._submit"),e)}}),re.support.changeBubbles||(re.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(re.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),re.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),re.event.simulate("change",this,t,!0)})),!1):(re.event.add(this,"beforeactivate._change",function(t){var e=t.target;Le.test(e.nodeName)&&!re._data(e,"changeBubbles")&&(re.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||re.event.simulate("change",this.parentNode,t,!0)}),re._data(e,"changeBubbles",!0))}),e)},handle:function(t){var i=t.target;return this!==i||t.isSimulated||t.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return re.event.remove(this,"._change"),!Le.test(this.nodeName)}}),re.support.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){re.event.simulate(e,t.target,re.event.fix(t),!0)};re.event.special[e]={setup:function(){0===i++&&X.addEventListener(t,n,!0)},teardown:function(){0===--i&&X.removeEventListener(t,n,!0)}}}),re.fn.extend({on:function(t,i,n,a,s){var o,r;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(r in t)this.on(r,i,n,t[r],s);return this}if(null==n&&null==a?(a=i,n=i=e):null==a&&("string"==typeof i?(a=n,n=e):(a=n,n=i,i=e)),a===!1)a=c;else if(!a)return this;return 1===s&&(o=a,a=function(t){return re().off(t),o.apply(this,arguments)},a.guid=o.guid||(o.guid=re.guid++)),this.each(function(){re.event.add(this,t,a,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var a,s;if(t&&t.preventDefault&&t.handleObj)return a=t.handleObj,re(t.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof t){for(s in t)this.off(s,i,t[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=c),this.each(function(){re.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},trigger:function(t,e){return this.each(function(){re.event.trigger(t,e,this)})},triggerHandler:function(t,i){var n=this[0];return n?re.event.trigger(t,i,n,!0):e},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){re.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)},Ne.test(e)&&(re.event.fixHooks[e]=re.event.keyHooks),$e.test(e)&&(re.event.fixHooks[e]=re.event.mouseHooks)}),function(t,e){function i(t){return fe.test(t+"")}function n(){var t,e=[];return t=function(i,n){return e.push(i+=" ")>S.cacheLength&&delete t[e.shift()],t[i]=n}}function a(t){return t[j]=!0,t}function s(t){var e=E.createElement("div");try{return t(e)}catch(i){return!1}finally{e=null}}function o(t,e,i,n){var a,s,o,r,l,c,h,p,f,g;if((e?e.ownerDocument||e:H)!==E&&P(e),e=e||E,i=i||[],!t||"string"!=typeof t)return i;if(1!==(r=e.nodeType)&&9!==r)return[];if(!M&&!n){if(a=ge.exec(t))if(o=a[1]){if(9===r){if(s=e.getElementById(o),!s||!s.parentNode)return i;if(s.id===o)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(o))&&O(e,s)&&s.id===o)return i.push(s),i}else{if(a[2])return K.apply(i,Q.call(e.getElementsByTagName(t),0)),i;if((o=a[3])&&B.getByClassName&&e.getElementsByClassName)return K.apply(i,Q.call(e.getElementsByClassName(o),0)),i}if(B.qsa&&!L.test(t)){if(h=!0,p=j,f=e,g=9===r&&t,1===r&&"object"!==e.nodeName.toLowerCase()){for(c=u(t),(h=e.getAttribute("id"))?p=h.replace(be,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+d(c[l]);f=pe.test(t)&&e.parentNode||e,g=c.join(",")}if(g)try{return K.apply(i,Q.call(f.querySelectorAll(g),0)),i}catch(m){}finally{h||e.removeAttribute("id")}}}return _(t.replace(oe,"$1"),e,i,n)}function r(t,e){for(var i=t&&e&&t.nextSibling;i;i=i.nextSibling)if(i===e)return-1;return t?1:-1}function l(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function c(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return a(function(e){return e=+e,a(function(i,n){for(var a,s=t([],i.length,e),o=s.length;o--;)i[a=s[o]]&&(i[a]=!(n[a]=i[a]))})})}function u(t,e){var i,n,a,s,r,l,c,h=q[t+" "];if(h)return e?0:h.slice(0);for(r=t,l=[],c=S.preFilter;r;){(!i||(n=le.exec(r)))&&(n&&(r=r.slice(n[0].length)||r),l.push(a=[])),i=!1,(n=ce.exec(r))&&(i=n.shift(),a.push({value:i,type:n[0].replace(oe," ")}),r=r.slice(i.length));for(s in S.filter)!(n=de[s].exec(r))||c[s]&&!(n=c[s](n))||(i=n.shift(),a.push({value:i,type:s,matches:n}),r=r.slice(i.length));if(!i)break}return e?r.length:r?o.error(t):q(t,l).slice(0)}function d(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,a=i&&"parentNode"===e.dir,s=W++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,s)}:function(e,i,o){var r,l,c,h=z+" "+s;if(o){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(c=e[j]||(e[j]={}),(l=c[n])&&l[0]===h){if((r=l[1])===!0||r===T)return r===!0}else if(l=c[n]=[h],l[1]=t(e,i,o)||T,l[1]===!0)return!0}}function f(t){return t.length>1?function(e,i,n){for(var a=t.length;a--;)if(!t[a](e,i,n))return!1;return!0}:t[0]}function g(t,e,i,n,a){for(var s,o=[],r=0,l=t.length,c=null!=e;l>r;r++)(s=t[r])&&(!i||i(s,n,a))&&(o.push(s),c&&e.push(r));return o}function m(t,e,i,n,s,o){return n&&!n[j]&&(n=m(n)),s&&!s[j]&&(s=m(s,o)),a(function(a,o,r,l){var c,h,u,d=[],p=[],f=o.length,m=a||y(e||"*",r.nodeType?[r]:r,[]),v=!t||!a&&e?m:g(m,d,t,r,l),b=i?s||(a?t:f||n)?[]:o:v;if(i&&i(v,b,r,l),n)for(c=g(b,p),n(c,[],r,l),h=c.length;h--;)(u=c[h])&&(b[p[h]]=!(v[p[h]]=u));if(a){if(s||t){if(s){for(c=[],h=b.length;h--;)(u=b[h])&&c.push(v[h]=u);s(null,b=[],c,l)}for(h=b.length;h--;)(u=b[h])&&(c=s?Z.call(a,u):d[h])>-1&&(a[c]=!(o[c]=u))}}else b=g(b===o?b.splice(f,b.length):b),s?s(null,o,b,l):K.apply(o,b)})}function v(t){for(var e,i,n,a=t.length,s=S.relative[t[0].type],o=s||S.relative[" "],r=s?1:0,l=p(function(t){return t===e},o,!0),c=p(function(t){return Z.call(e,t)>-1},o,!0),h=[function(t,i,n){return!s&&(n||i!==A)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];a>r;r++)if(i=S.relative[t[r].type])h=[p(f(h),i)];else{if(i=S.filter[t[r].type].apply(null,t[r].matches),i[j]){for(n=++r;a>n&&!S.relative[t[n].type];n++);return m(r>1&&f(h),r>1&&d(t.slice(0,r-1)).replace(oe,"$1"),i,n>r&&v(t.slice(r,n)),a>n&&v(t=t.slice(n)),a>n&&d(t))}h.push(i)}return f(h)}function b(t,e){var i=0,n=e.length>0,s=t.length>0,r=function(a,r,l,c,h){var u,d,p,f=[],m=0,v="0",b=a&&[],y=null!=h,_=A,w=a||s&&S.find.TAG("*",h&&r.parentNode||r),x=z+=null==_?1:Math.E;for(y&&(A=r!==E&&r,T=i);null!=(u=w[v]);v++){if(s&&u){for(d=0;p=t[d];d++)if(p(u,r,l)){c.push(u);break}y&&(z=x,T=++i)}n&&((u=!p&&u)&&m--,a&&b.push(u))}if(m+=v,n&&v!==m){for(d=0;p=e[d];d++)p(b,f,r,l);if(a){if(m>0)for(;v--;)b[v]||f[v]||(f[v]=J.call(c));f=g(f)}K.apply(c,f),y&&!a&&f.length>0&&m+e.length>1&&o.uniqueSort(c)}return y&&(z=x,A=_),b};return n?a(r):r}function y(t,e,i){for(var n=0,a=e.length;a>n;n++)o(t,e[n],i);return i}function _(t,e,i,n){var a,s,o,r,l,c=u(t);if(!n&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&9===e.nodeType&&!M&&S.relative[s[1].type]){if(e=S.find.ID(o.matches[0].replace(_e,we),e)[0],!e)return i;t=t.slice(s.shift().value.length)}for(a=de.needsContext.test(t)?-1:s.length-1;a>=0&&(o=s[a],!S.relative[r=o.type]);a--)if((l=S.find[r])&&(n=l(o.matches[0].replace(_e,we),pe.test(s[0].type)&&e.parentNode||e))){if(s.splice(a,1),t=n.length&&d(s),!t)return K.apply(i,Q.call(n,0)),i;break}}return D(t,c)(n,e,M,i,pe.test(t)),i}function w(){}var x,T,S,C,k,D,I,A,P,E,F,M,L,N,$,O,R,j="sizzle"+-new Date,H=t.document,B={},z=0,W=0,U=n(),q=n(),Y=n(),X=typeof e,V=1<<31,G=[],J=G.pop,K=G.push,Q=G.slice,Z=G.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},te="[\\x20\\t\\r\\n\\f]",ee="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=ee.replace("w","w#"),ne="([*^$|!~]?=)",ae="\\["+te+"*("+ee+")"+te+"*(?:"+ne+te+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ie+")|)|)"+te+"*\\]",se=":("+ee+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ae.replace(3,8)+")*)|.*)\\)|)",oe=RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),le=RegExp("^"+te+"*,"+te+"*"),ce=RegExp("^"+te+"*([\\x20\\t\\r\\n\\f>+~])"+te+"*"),he=RegExp(se),ue=RegExp("^"+ie+"$"),de={ID:RegExp("^#("+ee+")"),CLASS:RegExp("^\\.("+ee+")"),NAME:RegExp("^\\[name=['\"]?("+ee+")['\"]?\\]"),TAG:RegExp("^("+ee.replace("w","w*")+")"),ATTR:RegExp("^"+ae),PSEUDO:RegExp("^"+se),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),needsContext:RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/[\x20\t\r\n\f]*[+~]/,fe=/\{\s*\[native code\]\s*\}/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,be=/'|\\/g,ye=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,_e=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,we=function(t,e){var i="0x"+e-65536;return i!==i?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{Q.call(F.childNodes,0)[0].nodeType}catch(xe){Q=function(t){for(var e,i=[];e=this[t];t++)i.push(e);return i}}k=o.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},P=o.setDocument=function(t){var n=t?t.ownerDocument||t:H;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,F=n.documentElement,M=k(n),B.tagNameNoComments=s(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),B.attributes=s(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),B.getByClassName=s(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),B.getByName=s(function(t){t.id=j+0,t.innerHTML="<a name='"+j+"'></a><div name='"+j+"'></div>",F.insertBefore(t,F.firstChild);var e=n.getElementsByName&&n.getElementsByName(j).length===2+n.getElementsByName(j+0).length;return B.getIdNotName=!n.getElementById(j),F.removeChild(t),e}),S.attrHandle=s(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==X&&"#"===t.firstChild.getAttribute("href")})?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},B.getIdNotName?(S.find.ID=function(t,e){if(typeof e.getElementById!==X&&!M){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},S.filter.ID=function(t){var e=t.replace(_e,we);return function(t){return t.getAttribute("id")===e}}):(S.find.ID=function(t,i){if(typeof i.getElementById!==X&&!M){var n=i.getElementById(t);return n?n.id===t||typeof n.getAttributeNode!==X&&n.getAttributeNode("id").value===t?[n]:e:[]}},S.filter.ID=function(t){var e=t.replace(_e,we);return function(t){var i=typeof t.getAttributeNode!==X&&t.getAttributeNode("id");return i&&i.value===e}}),S.find.TAG=B.tagNameNoComments?function(t,i){return typeof i.getElementsByTagName!==X?i.getElementsByTagName(t):e}:function(t,e){var i,n=[],a=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[a];a++)1===i.nodeType&&n.push(i);return n}return s},S.find.NAME=B.getByName&&function(t,i){return typeof i.getElementsByName!==X?i.getElementsByName(name):e},S.find.CLASS=B.getByClassName&&function(t,i){return typeof i.getElementsByClassName===X||M?e:i.getElementsByClassName(t)},N=[],L=[":focus"],(B.qsa=i(n.querySelectorAll))&&(s(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||L.push("\\["+te+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||L.push(":checked")}),s(function(t){t.innerHTML="<input type='hidden' i=''/>",t.querySelectorAll("[i^='']").length&&L.push("[*^$]="+te+"*(?:\"\"|'')"),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(B.matchesSelector=i($=F.matchesSelector||F.mozMatchesSelector||F.webkitMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&s(function(t){B.disconnectedMatch=$.call(t,"div"),$.call(t,"[s!='']:x"),N.push("!=",se)}),L=RegExp(L.join("|")),N=RegExp(N.join("|")),O=i(F.contains)||F.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},R=F.compareDocumentPosition?function(t,e){var i;return t===e?(I=!0,0):(i=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e))?1&i||t.parentNode&&11===t.parentNode.nodeType?t===n||O(H,t)?-1:e===n||O(H,e)?1:0:4&i?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var i,a=0,s=t.parentNode,o=e.parentNode,l=[t],c=[e];if(t===e)return I=!0,0;if(t.sourceIndex&&e.sourceIndex)return(~e.sourceIndex||V)-(O(H,t)&&~t.sourceIndex||V);if(!s||!o)return t===n?-1:e===n?1:s?-1:o?1:0;if(s===o)return r(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[a]===c[a];)a++;return a?r(l[a],c[a]):l[a]===H?-1:c[a]===H?1:0},I=!1,[0,0].sort(R),B.detectDuplicates=I,E):E},o.matches=function(t,e){return o(t,null,null,e)},o.matchesSelector=function(t,e){if((t.ownerDocument||t)!==E&&P(t),e=e.replace(ye,"='$1']"),!(!B.matchesSelector||M||N&&N.test(e)||L.test(e)))try{var i=$.call(t,e);if(i||B.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(n){}return o(e,E,null,[t]).length>0},o.contains=function(t,e){return(t.ownerDocument||t)!==E&&P(t),O(t,e)},o.attr=function(t,e){var i;return(t.ownerDocument||t)!==E&&P(t),M||(e=e.toLowerCase()),(i=S.attrHandle[e])?i(t):M||B.attributes?t.getAttribute(e):((i=t.getAttributeNode(e))||t.getAttribute(e))&&t[e]===!0?e:i&&i.specified?i.value:null},o.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},o.uniqueSort=function(t){var e,i=[],n=1,a=0;if(I=!B.detectDuplicates,t.sort(R),I){for(;e=t[n];n++)e===t[n-1]&&(a=i.push(n));for(;a--;)t.splice(i[a],1)}return t},C=o.getText=function(t){var e,i="",n=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[n];n++)i+=C(e);return i},S=o.selectors={cacheLength:50,createPseudo:a,match:de,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_e,we),t[3]=(t[4]||t[5]||"").replace(_e,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||o.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&o.error(t[0]),t},PSEUDO:function(t){var e,i=!t[5]&&t[2];return de.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:i&&he.test(i)&&(e=u(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(_e,we).toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=U[t+" "];return e||(e=RegExp("(^|"+te+")"+t+"("+te+"|$)"))&&U(t,function(t){return e.test(t.className||typeof t.getAttribute!==X&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var a=o.attr(n,t);return null==a?"!="===e:e?(a+="","="===e?a===i:"!="===e?a!==i:"^="===e?i&&0===a.indexOf(i):"*="===e?i&&a.indexOf(i)>-1:"$="===e?i&&a.substr(a.length-i.length)===i:"~="===e?(" "+a+" ").indexOf(i)>-1:"|="===e?a===i||a.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,i,n,a){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),r="of-type"===e;return 1===n&&0===a?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,p,f,g=s!==o?"nextSibling":"previousSibling",m=e.parentNode,v=r&&e.nodeName.toLowerCase(),b=!l&&!r;if(m){if(s){for(;g;){for(u=e;u=u[g];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&b){for(h=m[j]||(m[j]={}),c=h[t]||[],p=c[0]===z&&c[1],d=c[0]===z&&c[2],u=p&&m.childNodes[p];u=++p&&u&&u[g]||(d=p=0)||f.pop();)if(1===u.nodeType&&++d&&u===e){h[t]=[z,p,d];break}}else if(b&&(c=(e[j]||(e[j]={}))[t])&&c[0]===z)d=c[1];else for(;(u=++p&&u&&u[g]||(d=p=0)||f.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(b&&((u[j]||(u[j]={}))[t]=[z,d]),u!==e)););return d-=a,d===n||0===d%n&&d/n>=0}}},PSEUDO:function(t,e){var i,n=S.pseudos[t]||S.setFilters[t.toLowerCase()]||o.error("unsupported pseudo: "+t);return n[j]?n(e):n.length>1?(i=[t,t,"",e],S.setFilters.hasOwnProperty(t.toLowerCase())?a(function(t,i){for(var a,s=n(t,e),o=s.length;o--;)a=Z.call(t,s[o]),t[a]=!(i[a]=s[o])}):function(t){return n(t,0,i)}):n}},pseudos:{not:a(function(t){var e=[],i=[],n=D(t.replace(oe,"$1"));return n[j]?a(function(t,e,i,a){for(var s,o=n(t,null,a,[]),r=t.length;r--;)(s=o[r])&&(t[r]=!(e[r]=s))}):function(t,a,s){return e[0]=t,n(e,null,s,i),!i.pop()}}),has:a(function(t){return function(e){return o(t,e).length>0}}),contains:a(function(t){return function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:a(function(t){return ue.test(t||"")||o.error("unsupported lang: "+t),t=t.replace(_e,we).toLowerCase(),function(e){var i;do if(i=M?e.getAttribute("xml:lang")||e.getAttribute("lang"):e.lang)return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===F},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return ve.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[0>i?i+e:i]}),even:h(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=0>i?i+e:i;e>++n;)t.push(n);return t})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=c(x);D=o.compile=function(t,e){var i,n=[],a=[],s=Y[t+" "];if(!s){for(e||(e=u(t)),i=e.length;i--;)s=v(e[i]),s[j]?n.push(s):a.push(s);s=Y(t,b(a,n))}return s},S.pseudos.nth=S.pseudos.eq,S.filters=w.prototype=S.pseudos,S.setFilters=new w,P(),o.attr=re.attr,re.find=o,re.expr=o.selectors,re.expr[":"]=re.expr.pseudos,re.unique=o.uniqueSort,re.text=o.getText,re.isXMLDoc=o.isXML,re.contains=o.contains}(t);var je=/Until$/,He=/^(?:parents|prev(?:Until|All))/,Be=/^.[^:#\[\.,]*$/,ze=re.expr.match.needsContext,We={children:!0,contents:!0,next:!0,prev:!0};re.fn.extend({find:function(t){var e,i,n;if("string"!=typeof t)return n=this,this.pushStack(re(t).filter(function(){for(e=0;n.length>e;e++)if(re.contains(n[e],this))return!0}));for(i=[],e=0;this.length>e;e++)re.find(t,this[e],i);return i=this.pushStack(re.unique(i)),i.selector=(this.selector?this.selector+" ":"")+t,i},has:function(t){var e,i=re(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(re.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(u(this,t,!1))},filter:function(t){return this.pushStack(u(this,t,!0))},is:function(t){return!!t&&("string"==typeof t?ze.test(t)?re(t,this.context).index(this[0])>=0:re.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var i,n=0,a=this.length,s=[],o=ze.test(t)||"string"!=typeof t?re(t,e||this.context):0;a>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==e&&11!==i.nodeType;){if(o?o.index(i)>-1:re.find.matchesSelector(i,t)){s.push(i);break}i=i.parentNode}return this.pushStack(s.length>1?re.unique(s):s)},index:function(t){return t?"string"==typeof t?re.inArray(this[0],re(t)):re.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?re(t,e):re.makeArray(t&&t.nodeType?[t]:t),n=re.merge(this.get(),i);return this.pushStack(re.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),re.fn.andSelf=re.fn.addBack,re.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return re.dir(t,"parentNode")},parentsUntil:function(t,e,i){return re.dir(t,"parentNode",i)
},next:function(t){return h(t,"nextSibling")},prev:function(t){return h(t,"previousSibling")},nextAll:function(t){return re.dir(t,"nextSibling")},prevAll:function(t){return re.dir(t,"previousSibling")},nextUntil:function(t,e,i){return re.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return re.dir(t,"previousSibling",i)},siblings:function(t){return re.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return re.sibling(t.firstChild)},contents:function(t){return re.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:re.merge([],t.childNodes)}},function(t,e){re.fn[t]=function(i,n){var a=re.map(this,e,i);return je.test(t)||(n=i),n&&"string"==typeof n&&(a=re.filter(n,a)),a=this.length>1&&!We[t]?re.unique(a):a,this.length>1&&He.test(t)&&(a=a.reverse()),this.pushStack(a)}}),re.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?re.find.matchesSelector(e[0],t)?[e[0]]:[]:re.find.matches(t,e)},dir:function(t,i,n){for(var a=[],s=t[i];s&&9!==s.nodeType&&(n===e||1!==s.nodeType||!re(s).is(n));)1===s.nodeType&&a.push(s),s=s[i];return a},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Ue="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qe=/ jQuery\d+="(?:null|\d+)"/g,Ye=RegExp("<(?:"+Ue+")[\\s/>]","i"),Xe=/^\s+/,Ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ge=/<([\w:]+)/,Je=/<tbody/i,Ke=/<|&#?\w+;/,Qe=/<(?:script|style|link)/i,Ze=/^(?:checkbox|radio)$/i,ti=/checked\s*(?:[^=]|=\s*.checked.)/i,ei=/^$|\/(?:java|ecma)script/i,ii=/^true\/(.*)/,ni=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ai={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:re.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},si=d(X),oi=si.appendChild(X.createElement("div"));ai.optgroup=ai.option,ai.tbody=ai.tfoot=ai.colgroup=ai.caption=ai.thead,ai.th=ai.td,re.fn.extend({text:function(t){return re.access(this,function(t){return t===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(re.isFunction(t))return this.each(function(e){re(this).wrapAll(t.call(this,e))});if(this[0]){var e=re(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return re.isFunction(t)?this.each(function(e){re(this).wrapInner(t.call(this,e))}):this.each(function(){var e=re(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=re.isFunction(t);return this.each(function(i){re(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,!1,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||re.filter(t,[i]).length>0)&&(e||1!==i.nodeType||re.cleanData(y(i)),i.parentNode&&(e&&re.contains(i.ownerDocument,i)&&m(y(i,"script")),i.parentNode.removeChild(i)));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&re.cleanData(y(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&re.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return re.clone(this,t,e)})},html:function(t){return re.access(this,function(t){var i=this[0]||{},n=0,a=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(qe,""):e;if(!("string"!=typeof t||Qe.test(t)||!re.support.htmlSerialize&&Ye.test(t)||!re.support.leadingWhitespace&&Xe.test(t)||ai[(Ge.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Ve,"<$1></$2>");try{for(;a>n;n++)i=this[n]||{},1===i.nodeType&&(re.cleanData(y(i,!1)),i.innerHTML=t);i=0}catch(s){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){var e=re.isFunction(t);return e||"string"==typeof t||(t=re(t).not(this).detach()),this.domManip([t],!0,function(t){var e=this.nextSibling,i=this.parentNode;(i&&1===this.nodeType||11===this.nodeType)&&(re(this).remove(),e?e.parentNode.insertBefore(t,e):i.appendChild(t))})},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){t=te.apply([],t);var a,s,o,r,l,c,h=0,u=this.length,d=this,m=u-1,v=t[0],b=re.isFunction(v);if(b||!(1>=u||"string"!=typeof v||re.support.checkClone)&&ti.test(v))return this.each(function(a){var s=d.eq(a);b&&(t[0]=v.call(this,a,i?s.html():e)),s.domManip(t,i,n)});if(u&&(a=re.buildFragment(t,this[0].ownerDocument,!1,this),s=a.firstChild,1===a.childNodes.length&&(a=s),s)){for(i=i&&re.nodeName(s,"tr"),o=re.map(y(a,"script"),f),r=o.length;u>h;h++)l=a,h!==m&&(l=re.clone(l,!0,!0),r&&re.merge(o,y(l,"script"))),n.call(i&&re.nodeName(this[h],"table")?p(this[h],"tbody"):this[h],l,h);if(r)for(c=o[o.length-1].ownerDocument,re.map(o,g),h=0;r>h;h++)l=o[h],ei.test(l.type||"")&&!re._data(l,"globalEval")&&re.contains(c,l)&&(l.src?re.ajax({url:l.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):re.globalEval((l.text||l.textContent||l.innerHTML||"").replace(ni,"")));a=s=null}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){re.fn[t]=function(t){for(var i,n=0,a=[],s=re(t),o=s.length-1;o>=n;n++)i=n===o?this:this.clone(!0),re(s[n])[e](i),ee.apply(a,i.get());return this.pushStack(a)}}),re.extend({clone:function(t,e,i){var n,a,s,o,r,l=re.contains(t.ownerDocument,t);if(re.support.html5Clone||re.isXMLDoc(t)||!Ye.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(oi.innerHTML=t.outerHTML,oi.removeChild(r=oi.firstChild)),!(re.support.noCloneEvent&&re.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||re.isXMLDoc(t)))for(n=y(r),a=y(t),o=0;null!=(s=a[o]);++o)n[o]&&b(s,n[o]);if(e)if(i)for(a=a||y(t),n=n||y(r),o=0;null!=(s=a[o]);o++)v(s,n[o]);else v(t,r);return n=y(r,"script"),n.length>0&&m(n,!l&&y(t,"script")),n=a=s=null,r},buildFragment:function(t,e,i,n){for(var a,s,o,r,l,c,h,u=t.length,p=d(e),f=[],g=0;u>g;g++)if(s=t[g],s||0===s)if("object"===re.type(s))re.merge(f,s.nodeType?[s]:s);else if(Ke.test(s)){for(r=r||p.appendChild(e.createElement("div")),o=(Ge.exec(s)||["",""])[1].toLowerCase(),l=ai[o]||ai._default,r.innerHTML=l[1]+s.replace(Ve,"<$1></$2>")+l[2],h=l[0];h--;)r=r.lastChild;if(!re.support.leadingWhitespace&&Xe.test(s)&&f.push(e.createTextNode(Xe.exec(s)[0])),!re.support.tbody)for(s="table"!==o||Je.test(s)?"<table>"!==l[1]||Je.test(s)?0:r:r.firstChild,h=s&&s.childNodes.length;h--;)re.nodeName(c=s.childNodes[h],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(re.merge(f,r.childNodes),r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=p.lastChild}else f.push(e.createTextNode(s));for(r&&p.removeChild(r),re.support.appendChecked||re.grep(y(f,"input"),_),g=0;s=f[g++];)if((!n||-1===re.inArray(s,n))&&(a=re.contains(s.ownerDocument,s),r=y(p.appendChild(s),"script"),a&&m(r),i))for(h=0;s=r[h++];)ei.test(s.type||"")&&i.push(s);return r=null,p},cleanData:function(t,i){for(var n,a,s,o,r=0,l=re.expando,c=re.cache,h=re.support.deleteExpando,u=re.event.special;null!=(s=t[r]);r++)if((i||re.acceptData(s))&&(a=s[l],n=a&&c[a])){if(n.events)for(o in n.events)u[o]?re.event.remove(s,o):re.removeEvent(s,o,n.handle);c[a]&&(delete c[a],h?delete s[l]:s.removeAttribute!==e?s.removeAttribute(l):s[l]=null,Q.push(a))}}});var ri,li,ci,hi=/alpha\([^)]*\)/i,ui=/opacity\s*=\s*([^)]*)/,di=/^(top|right|bottom|left)$/,pi=/^(none|table(?!-c[ea]).+)/,fi=/^margin/,gi=RegExp("^("+le+")(.*)$","i"),mi=RegExp("^("+le+")(?!px)[a-z%]+$","i"),vi=RegExp("^([+-])=("+le+")","i"),bi={BODY:"block"},yi={position:"absolute",visibility:"hidden",display:"block"},_i={letterSpacing:0,fontWeight:400},wi=["Top","Right","Bottom","Left"],xi=["Webkit","O","Moz","ms"];re.fn.extend({css:function(t,i){return re.access(this,function(t,i,n){var a,s,o={},r=0;if(re.isArray(i)){for(a=li(t),s=i.length;s>r;r++)o[i[r]]=re.css(t,i[r],!1,a);return o}return n!==e?re.style(t,i,n):re.css(t,i)},t,i,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:x(this))?re(this).show():re(this).hide()})}}),re.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ri(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":re.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,a){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,r,l=re.camelCase(i),c=t.style;if(i=re.cssProps[l]||(re.cssProps[l]=w(c,l)),r=re.cssHooks[i]||re.cssHooks[l],n===e)return r&&"get"in r&&(s=r.get(t,!1,a))!==e?s:c[i];if(o=typeof n,"string"===o&&(s=vi.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(re.css(t,i)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||re.cssNumber[l]||(n+="px"),re.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),r&&"set"in r&&(n=r.set(t,n,a))===e)))try{c[i]=n}catch(h){}}},css:function(t,i,n,a){var s,o,r,l=re.camelCase(i);return i=re.cssProps[l]||(re.cssProps[l]=w(t.style,l)),r=re.cssHooks[i]||re.cssHooks[l],r&&"get"in r&&(s=r.get(t,!0,n)),s===e&&(s=ri(t,i,a)),"normal"===s&&i in _i&&(s=_i[i]),n?(o=parseFloat(s),n===!0||re.isNumeric(o)?o||0:s):s},swap:function(t,e,i,n){var a,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];a=i.apply(t,n||[]);for(s in e)t.style[s]=o[s];return a}}),t.getComputedStyle?(li=function(e){return t.getComputedStyle(e,null)},ri=function(t,i,n){var a,s,o,r=n||li(t),l=r?r.getPropertyValue(i)||r[i]:e,c=t.style;return r&&(""!==l||re.contains(t.ownerDocument,t)||(l=re.style(t,i)),mi.test(l)&&fi.test(i)&&(a=c.width,s=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=r.width,c.width=a,c.minWidth=s,c.maxWidth=o)),l}):X.documentElement.currentStyle&&(li=function(t){return t.currentStyle},ri=function(t,i,n){var a,s,o,r=n||li(t),l=r?r[i]:e,c=t.style;return null==l&&c&&c[i]&&(l=c[i]),mi.test(l)&&!di.test(i)&&(a=c.left,s=t.runtimeStyle,o=s&&s.left,o&&(s.left=t.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=a,o&&(s.left=o)),""===l?"auto":l}),re.each(["height","width"],function(t,i){re.cssHooks[i]={get:function(t,n,a){return n?0===t.offsetWidth&&pi.test(re.css(t,"display"))?re.swap(t,yi,function(){return k(t,i,a)}):k(t,i,a):e},set:function(t,e,n){var a=n&&li(t);return S(t,e,n?C(t,i,n,re.support.boxSizing&&"border-box"===re.css(t,"boxSizing",!1,a),a):0)}}}),re.support.opacity||(re.cssHooks.opacity={get:function(t,e){return ui.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,a=re.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===re.trim(s.replace(hi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=hi.test(s)?s.replace(hi,a):s+" "+a)}}),re(function(){re.support.reliableMarginRight||(re.cssHooks.marginRight={get:function(t,i){return i?re.swap(t,{display:"inline-block"},ri,[t,"marginRight"]):e}}),!re.support.pixelPosition&&re.fn.position&&re.each(["top","left"],function(t,i){re.cssHooks[i]={get:function(t,n){return n?(n=ri(t,i),mi.test(n)?re(t).position()[i]+"px":n):e}}})}),re.expr&&re.expr.filters&&(re.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!re.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||re.css(t,"display"))},re.expr.filters.visible=function(t){return!re.expr.filters.hidden(t)}),re.each({margin:"",padding:"",border:"Width"},function(t,e){re.cssHooks[t+e]={expand:function(i){for(var n=0,a={},s="string"==typeof i?i.split(" "):[i];4>n;n++)a[t+wi[n]+e]=s[n]||s[n-2]||s[0];return a}},fi.test(t)||(re.cssHooks[t+e].set=S)});var Ti=/%20/g,Si=/\[\]$/,Ci=/\r?\n/g,ki=/^(?:submit|button|image|reset)$/i,Di=/^(?:input|select|textarea|keygen)/i;re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=re.prop(this,"elements");return t?re.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!re(this).is(":disabled")&&Di.test(this.nodeName)&&!ki.test(t)&&(this.checked||!Ze.test(t))}).map(function(t,e){var i=re(this).val();return null==i?null:re.isArray(i)?re.map(i,function(t){return{name:e.name,value:t.replace(Ci,"\r\n")}}):{name:e.name,value:i.replace(Ci,"\r\n")}}).get()}}),re.param=function(t,i){var n,a=[],s=function(t,e){e=re.isFunction(e)?e():null==e?"":e,a[a.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(t)||t.jquery&&!re.isPlainObject(t))re.each(t,function(){s(this.name,this.value)});else for(n in t)A(n,t[n],i,s);return a.join("&").replace(Ti,"+")};var Ii,Ai,Pi=re.now(),Ei=/\?/,Fi=/#.*$/,Mi=/([?&])_=[^&]*/,Li=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ni=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$i=/^(?:GET|HEAD)$/,Oi=/^\/\//,Ri=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ji=re.fn.load,Hi={},Bi={},zi="*/".concat("*");try{Ai=V.href}catch(Wi){Ai=X.createElement("a"),Ai.href="",Ai=Ai.href}Ii=Ri.exec(Ai.toLowerCase())||[],re.fn.load=function(t,i,n){if("string"!=typeof t&&ji)return ji.apply(this,arguments);var a,s,o,r=this,l=t.indexOf(" ");return l>=0&&(a=t.slice(l,t.length),t=t.slice(0,l)),re.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(s="POST"),r.length>0&&re.ajax({url:t,type:s,dataType:"html",data:i}).done(function(t){o=arguments,r.html(a?re("<div>").append(re.parseHTML(t)).find(a):t)}).complete(n&&function(t,e){r.each(n,o||[t.responseText,e,t])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){re.fn[e]=function(t){return this.on(e,t)}}),re.each(["get","post"],function(t,i){re[i]=function(t,n,a,s){return re.isFunction(n)&&(s=s||a,a=n,n=e),re.ajax({url:t,type:i,dataType:s,data:n,success:a})}}),re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ai,type:"GET",isLocal:Ni.test(Ii[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?F(F(t,re.ajaxSettings),e):F(re.ajaxSettings,t)},ajaxPrefilter:P(Hi),ajaxTransport:P(Bi),ajax:function(t,i){function n(t,i,n,r){var c,u,b,y,w,T=i;2!==_&&(_=2,l&&clearTimeout(l),a=e,o=r||"",x.readyState=t>0?4:0,n&&(y=M(d,x,n)),t>=200&&300>t||304===t?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(re.lastModified[s]=w),w=x.getResponseHeader("etag"),w&&(re.etag[s]=w)),304===t?(c=!0,T="notmodified"):(c=L(d,y),T=c.state,u=c.data,b=c.error,c=!b)):(b=T,(t||!T)&&(T="error",0>t&&(t=0))),x.status=t,x.statusText=(i||T)+"",c?g.resolveWith(p,[u,T,x]):g.rejectWith(p,[x,T,b]),x.statusCode(v),v=e,h&&f.trigger(c?"ajaxSuccess":"ajaxError",[x,d,c?u:b]),m.fireWith(p,[x,T]),h&&(f.trigger("ajaxComplete",[x,d]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var a,s,o,r,l,c,h,u,d=re.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?re(p):re.event,g=re.Deferred(),m=re.Callbacks("once memory"),v=d.statusCode||{},b={},y={},_=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!r)for(r={};e=Li.exec(o);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=y[i]=y[i]||t,b[t]=e),this},overrideMimeType:function(t){return _||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return a&&a.abort(e),n(0,e),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||Ai)+"").replace(Fi,"").replace(Oi,Ii[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=re.trim(d.dataType||"*").toLowerCase().match(ce)||[""],null==d.crossDomain&&(c=Ri.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]===Ii[1]&&c[2]===Ii[2]&&(c[3]||("http:"===c[1]?80:443))==(Ii[3]||("http:"===Ii[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=re.param(d.data,d.traditional)),E(Hi,d,i,x),2===_)return x;h=d.global,h&&0===re.active++&&re.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!$i.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(Ei.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Mi.test(s)?s.replace(Mi,"$1_="+Pi++):s+(Ei.test(s)?"&":"?")+"_="+Pi++)),d.ifModified&&(re.lastModified[s]&&x.setRequestHeader("If-Modified-Since",re.lastModified[s]),re.etag[s]&&x.setRequestHeader("If-None-Match",re.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+zi+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)x.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===_))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](d[u]);if(a=E(Bi,d,i,x)){x.readyState=1,h&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},d.timeout));try{_=1,a.send(b,n)}catch(T){if(!(2>_))throw T;n(-1,T)}}else n(-1,"No Transport");return x},getScript:function(t,i){return re.get(t,e,i,"script")},getJSON:function(t,e,i){return re.get(t,e,i,"json")}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return re.globalEval(t),t}}}),re.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),re.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=X.head||re("head")[0]||X.documentElement;return{send:function(e,a){i=X.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||a(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var Ui=[],qi=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ui.pop()||re.expando+"_"+Pi++;return this[t]=!0,t}}),re.ajaxPrefilter("json jsonp",function(i,n,a){var s,o,r,l=i.jsonp!==!1&&(qi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&qi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(s=i.jsonpCallback=re.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(qi,"$1"+s):i.jsonp!==!1&&(i.url+=(Ei.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return r||re.error(s+" was not called"),r[0]},i.dataTypes[0]="json",o=t[s],t[s]=function(){r=arguments},a.always(function(){t[s]=o,i[s]&&(i.jsonpCallback=n.jsonpCallback,Ui.push(s)),r&&re.isFunction(o)&&o(r[0]),r=o=e}),"script"):e});var Yi,Xi,Vi=0,Gi=t.ActiveXObject&&function(){var t;for(t in Yi)Yi[t](e,!0)};re.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&N()||$()}:N,Xi=re.ajaxSettings.xhr(),re.support.cors=!!Xi&&"withCredentials"in Xi,Xi=re.support.ajax=!!Xi,Xi&&re.ajaxTransport(function(i){if(!i.crossDomain||re.support.cors){var n;return{send:function(a,s){var o,r,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(r in i.xhrFields)l[r]=i.xhrFields[r];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");try{for(r in a)l.setRequestHeader(r,a[r])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,a){var r,c,h,u,d;try{if(n&&(a||4===l.readyState))if(n=e,o&&(l.onreadystatechange=re.noop,Gi&&delete Yi[o]),a)4!==l.readyState&&l.abort();else{u={},r=l.status,d=l.responseXML,h=l.getAllResponseHeaders(),d&&d.documentElement&&(u.xml=d),"string"==typeof l.responseText&&(u.text=l.responseText);try{c=l.statusText}catch(p){c=""}r||!i.isLocal||i.crossDomain?1223===r&&(r=204):r=u.text?200:404}}catch(f){a||s(-1,f)}u&&s(r,c,u,h)},i.async?4===l.readyState?setTimeout(n):(o=++Vi,Gi&&(Yi||(Yi={},re(t).unload(Gi)),Yi[o]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(e,!0)}}}});var Ji,Ki,Qi=/^(?:toggle|show|hide)$/,Zi=RegExp("^(?:([+-])=|)("+le+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[B],nn={"*":[function(t,e){var i,n,a=this.createTween(t,e),s=Zi.exec(e),o=a.cur(),r=+o||0,l=1,c=20;if(s){if(i=+s[2],n=s[3]||(re.cssNumber[t]?"":"px"),"px"!==n&&r){r=re.css(a.elem,t,!0)||i||1;do l=l||".5",r/=l,re.style(a.elem,t,r+n);while(l!==(l=a.cur()/o)&&1!==l&&--c)}a.unit=n,a.start=r,a.end=s[1]?r+(s[1]+1)*i:i}return a}]};re.Animation=re.extend(j,{tweener:function(t,e){re.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,a=t.length;a>n;n++)i=t[n],nn[i]=nn[i]||[],nn[i].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),re.Tween=z,z.prototype={constructor:z,init:function(t,e,i,n,a,s){this.elem=t,this.prop=i,this.easing=a||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(re.cssNumber[i]?"":"px")},cur:function(){var t=z.propHooks[this.prop];return t&&t.get?t.get(this):z.propHooks._default.get(this)},run:function(t){var e,i=z.propHooks[this.prop];return this.pos=e=this.options.duration?re.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=re.css(t.elem,t.prop,"auto"),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){re.fx.step[t.prop]?re.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[re.cssProps[t.prop]]||re.cssHooks[t.prop])?re.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},re.each(["toggle","show","hide"],function(t,e){var i=re.fn[e];re.fn[e]=function(t,n,a){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(W(e,!0),t,n,a)}}),re.fn.extend({fadeTo:function(t,e,i,n){return this.filter(x).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var a=re.isEmptyObject(t),s=re.speed(e,i,n),o=function(){var e=j(this,re.extend({},t),s);o.finish=function(){e.stop(!0)},(a||re._data(this,"finish"))&&e.stop(!0)};return o.finish=o,a||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,i,n){var a=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",s=re.timers,o=re._data(this);if(i)o[i]&&o[i].stop&&a(o[i]);else for(i in o)o[i]&&o[i].stop&&tn.test(i)&&a(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));(e||!n)&&re.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=re._data(this),n=i[t+"queue"],a=i[t+"queueHooks"],s=re.timers,o=n?n.length:0;for(i.finish=!0,re.queue(this,t,[]),a&&a.cur&&a.cur.finish&&a.cur.finish.call(this),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;o>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),re.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){re.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),re.speed=function(t,e,i){var n=t&&"object"==typeof t?re.extend({},t):{complete:i||!i&&e||re.isFunction(t)&&t,duration:t,easing:i&&e||e&&!re.isFunction(e)&&e};return n.duration=re.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in re.fx.speeds?re.fx.speeds[n.duration]:re.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){re.isFunction(n.old)&&n.old.call(this),n.queue&&re.dequeue(this,n.queue)},n},re.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},re.timers=[],re.fx=z.prototype.init,re.fx.tick=function(){var t,i=re.timers,n=0;for(Ji=re.now();i.length>n;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||re.fx.stop(),Ji=e},re.fx.timer=function(t){t()&&re.timers.push(t)&&re.fx.start()},re.fx.interval=13,re.fx.start=function(){Ki||(Ki=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(Ki),Ki=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fx.step={},re.expr&&re.expr.filters&&(re.expr.filters.animated=function(t){return re.grep(re.timers,function(e){return t===e.elem}).length}),re.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){re.offset.setOffset(this,t,e)});var i,n,a={top:0,left:0},s=this[0],o=s&&s.ownerDocument;return o?(i=o.documentElement,re.contains(i,s)?(s.getBoundingClientRect!==e&&(a=s.getBoundingClientRect()),n=U(o),{top:a.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:a.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):a):void 0},re.offset={setOffset:function(t,e,i){var n=re.css(t,"position");"static"===n&&(t.style.position="relative");var a,s,o=re(t),r=o.offset(),l=re.css(t,"top"),c=re.css(t,"left"),h=("absolute"===n||"fixed"===n)&&re.inArray("auto",[l,c])>-1,u={},d={};h?(d=o.position(),a=d.top,s=d.left):(a=parseFloat(l)||0,s=parseFloat(c)||0),re.isFunction(e)&&(e=e.call(t,i,r)),null!=e.top&&(u.top=e.top-r.top+a),null!=e.left&&(u.left=e.left-r.left+s),"using"in e?e.using.call(t,u):o.css(u)}},re.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===re.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),re.nodeName(t[0],"html")||(i=t.offset()),i.top+=re.css(t[0],"borderTopWidth",!0),i.left+=re.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-re.css(n,"marginTop",!0),left:e.left-i.left-re.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||X.documentElement;t&&!re.nodeName(t,"html")&&"static"===re.css(t,"position");)t=t.offsetParent;return t||X.documentElement})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);re.fn[t]=function(a){return re.access(this,function(t,a,s){var o=U(t);return s===e?o?i in o?o[i]:o.document.documentElement[a]:t[a]:(o?o.scrollTo(n?re(o).scrollLeft():s,n?s:re(o).scrollTop()):t[a]=s,e)},t,a,arguments.length,null)}}),re.each({Height:"height",Width:"width"},function(t,i){re.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,a){re.fn[a]=function(a,s){var o=arguments.length&&(n||"boolean"!=typeof a),r=n||(a===!0||s===!0?"margin":"border");return re.access(this,function(i,n,a){var s;return re.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+t],s["scroll"+t],i.body["offset"+t],s["offset"+t],s["client"+t])):a===e?re.css(i,n,r):re.style(i,n,a,r)},i,o?a:e,o,null)}})}),t.jQuery=t.$=re,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return re})})(window),jQuery.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this},Date.prototype.toDateInputValue=function(){var t=new Date(this);return t.setMinutes(this.getMinutes()-this.getTimezoneOffset()),t.toJSON().slice(0,10)},function(t,e,i){"use strict";t.map(["localStorage","sessionStorage"],function(n){var a={cookiePrefix:"fallback:"+n+":",cookieOptions:{path:"/",domain:i.domain,expires:"localStorage"===n?{expires:365}:void 0}};try{t.support[n]=n in e&&null!==e[n]}catch(s){t.support[n]=!1}t[n]=function(s,o){var r=t.extend({},a,t[n].options);return this.getItem=function(i){var a=function(i){return JSON.parse(t.support[n]?e[n].getItem(i):t.cookie(r.cookiePrefix+i))};if("string"==typeof i)return a(i);for(var s=[],o=i.length;o--;)s[o]=a(i[o]);return s},this.setItem=function(i,a){return a=JSON.stringify(a),t.support[n]?e[n].setItem(i,a):t.cookie(r.cookiePrefix+i,a,r.cookieOptions)},this.removeItem=function(i){return t.support[n]?e[n].removeItem(i):t.cookie(r.cookiePrefix+i,null,t.extend(r.cookieOptions,{expires:-1}))},this.clear=function(){if(t.support[n])return e[n].clear();var a=RegExp("^"+r.cookiePrefix,""),s=t.extend(r.cookieOptions,{expires:-1});i.cookie&&""!==i.cookie&&t.map(i.cookie.split(";"),function(e){a.test(e=t.trim(e))&&t.cookie(e.substr(0,e.indexOf("=")),null,s)})},s!==void 0?o!==void 0?null===o?this.removeItem(s):this.setItem(s,o):this.getItem(s):this},t[n].options=a})}(jQuery,window,document),window.overlays=[],function(t){t.fn.overlay=function(e){if("object"!=typeof e&&(e={}),e.show||(e.show=!1),e.msg||(e.msg='<div class="loader"></div>'),e.show){if(window.overlays.length>0)return window.overlays.push(e),!1;window.overlays.push(e),t.blockUI({message:"<h3>"+e.msg+"</h3>",css:{background:"transparent",color:"#999",border:"0px"},onBlock:function(){e.cb&&e.cb(),e.delay&&setTimeout(function(){t(document).overlay({show:!1})},e.delay)}})}else{if(window.overlays.pop(),window.overlays.length>0){var e=window.overlays.pop();return t.unblockUI(),t(document).overlay(e),!1}t.unblockUI()}}}(jQuery),function(){"use strict";function t(t){function e(e,n){var s,g,m=e==window,v=n&&void 0!==n.message?n.message:void 0;if(n=t.extend({},t.blockUI.defaults,n||{}),!n.ignoreIfBlocked||!t(e).data("blockUI.isBlocked")){if(n.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,n.overlayCSS||{}),s=t.extend({},t.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),g=t.extend({},t.blockUI.defaults.themedCSS,n.themedCSS||{}),v=void 0===v?n.message:v,m&&p&&i(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var b=v.jquery?v[0]:v,y={};t(e).data("blockUI.history",y),y.el=b,y.parent=b.parentNode,y.display=b.style.display,y.position=b.style.position,y.parent&&y.parent.removeChild(b)}t(e).data("blockUI.onUnblock",n.onUnblock);var _,w,x,T,S=n.baseZ;_=h||n.forceIframe?t('<iframe class="blockUI" style="z-index:'+S++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>'):t('<div class="blockUI" style="display:none"></div>'),w=n.theme?t('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+S++ +';display:none"></div>'):t('<div class="blockUI blockOverlay" style="z-index:'+S++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&m?(T='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:fixed">',n.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):n.theme?(T='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:absolute">',n.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):T=m?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(S+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(S+10)+';display:none;position:absolute"></div>',x=t(T),v&&(n.theme?(x.css(g),x.addClass("ui-widget-content")):x.css(s)),n.theme||w.css(n.overlayCSS),w.css("position",m?"fixed":"absolute"),(h||n.forceIframe)&&_.css("opacity",0);
var C=[_,w,x],k=m?t("body"):t(e);t.each(C,function(){this.appendTo(k)}),n.theme&&n.draggable&&t.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var D=d&&(!t.support.boxModel||t("object,embed",m?null:e).length>0);if(u||D){if(m&&n.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(u||!t.support.boxModel)&&!m)var I=l(e,"borderTopWidth"),A=l(e,"borderLeftWidth"),P=I?"(0 - "+I+")":0,E=A?"(0 - "+A+")":0;t.each(C,function(t,e){var i=e[0].style;if(i.position="absolute",2>t)m?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),E&&i.setExpression("left",E),P&&i.setExpression("top",P);else if(n.centerY)m&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!n.centerY&&m){var a=n.css&&n.css.top?parseInt(n.css.top,10):0,s="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+a+') + "px"';i.setExpression("top",s)}})}if(v&&(n.theme?x.find(".ui-widget-content").append(v):x.append(v),(v.jquery||v.nodeType)&&t(v).show()),(h||n.forceIframe)&&n.showOverlay&&_.show(),n.fadeIn){var F=n.onBlock?n.onBlock:c,M=n.showOverlay&&!v?F:c,L=v?F:c;n.showOverlay&&w._fadeIn(n.fadeIn,M),v&&x._fadeIn(n.fadeIn,L)}else n.showOverlay&&w.show(),v&&x.show(),n.onBlock&&n.onBlock();if(a(1,e,n),m?(p=x[0],f=t(n.focusableElements,p),n.focusInput&&setTimeout(o,20)):r(x[0],n.centerX,n.centerY),n.timeout){var N=setTimeout(function(){m?t.unblockUI(n):t(e).unblock(n)},n.timeout);t(e).data("blockUI.timeout",N)}}}function i(e,i){var s,o=e==window,r=t(e),l=r.data("blockUI.history"),c=r.data("blockUI.timeout");c&&(clearTimeout(c),r.removeData("blockUI.timeout")),i=t.extend({},t.blockUI.defaults,i||{}),a(0,e,i),null===i.onUnblock&&(i.onUnblock=r.data("blockUI.onUnblock"),r.removeData("blockUI.onUnblock"));var h;h=o?t("body").children().filter(".blockUI").add("body > .blockUI"):r.find(">.blockUI"),i.cursorReset&&(h.length>1&&(h[1].style.cursor=i.cursorReset),h.length>2&&(h[2].style.cursor=i.cursorReset)),o&&(p=f=null),i.fadeOut?(s=h.length,h.stop().fadeOut(i.fadeOut,function(){0===--s&&n(h,l,i,e)})):n(h,l,i,e)}function n(e,i,n,a){var s=t(a);if(!s.data("blockUI.isBlocked")){e.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(a,n);var o=t(document.body),r=o.width(),l=o[0].style.width;o.width(r-1).width(r),o[0].style.width=l}}function a(e,i,n){var a=i==window,o=t(i);if((e||(!a||p)&&(a||o.data("blockUI.isBlocked")))&&(o.data("blockUI.isBlocked",e),a&&n.bindEvents&&(!e||n.showOverlay))){var r="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(r,n,s):t(document).unbind(r,s)}}function s(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&p&&e.data.constrainTabKey){var i=f,n=!e.shiftKey&&e.target===i[i.length-1],a=e.shiftKey&&e.target===i[0];if(n||a)return setTimeout(function(){o(a)},10),!1}var s=e.data,r=t(e.target);return r.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(e),r.parents("div."+s.blockMsgClass).length>0?!0:0===r.parents().children().filter("div.blockUI").length}function o(t){if(f){var e=f[t===!0?f.length-1:0];e&&e.focus()}}function r(t,e,i){var n=t.parentNode,a=t.style,s=(n.offsetWidth-t.offsetWidth)/2-l(n,"borderLeftWidth"),o=(n.offsetHeight-t.offsetHeight)/2-l(n,"borderTopWidth");e&&(a.left=s>0?s+"px":"0"),i&&(a.top=o>0?o+"px":"0")}function l(e,i){return parseInt(t.css(e,i),10)||0}t.fn._fadeIn=t.fn.fadeIn;var c=t.noop||function(){},h=/MSIE/.test(navigator.userAgent),u=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);document.documentMode||0;var d=t.isFunction(document.createElement("div").style.setExpression);t.blockUI=function(t){e(window,t)},t.unblockUI=function(t){i(window,t)},t.growlUI=function(e,i,n,a){var s=t('<div class="growlUI"></div>');e&&s.append("<h1>"+e+"</h1>"),i&&s.append("<h2>"+i+"</h2>"),void 0===n&&(n=3e3);var o=function(e){e=e||{},t.blockUI({message:s,fadeIn:e.fadeIn!==void 0?e.fadeIn:700,fadeOut:e.fadeOut!==void 0?e.fadeOut:1e3,timeout:e.timeout!==void 0?e.timeout:n,centerY:!1,showOverlay:!1,onUnblock:a,css:t.blockUI.defaults.growlCSS})};o(),s.css("opacity"),s.mouseover(function(){o({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){t(".blockMsg").fadeOut(1e3)})},t.fn.block=function(i){if(this[0]===window)return t.blockUI(i),this;var n=t.extend({},t.blockUI.defaults,i||{});return this.each(function(){var e=t(this);n.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,e(this,i)})},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each(function(){i(this,e)})},t.blockUI.version=2.66,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,f=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(),function(t){function e(e,i,n,a){var s={data:a||0===a||a===!1?a:i?i.data:{},_wrap:i?i._wrap:null,tmpl:null,parent:i||null,nodes:[],calls:c,nest:h,wrap:u,html:d,update:p};return e&&t.extend(s,e,{nodes:[],parent:i}),n&&(s.tmpl=n,s._ctnt=s._ctnt||s.tmpl(t,s),s.key=++w,(T.length?y:b)[w]=s),s}function i(e,a,s){var o,r=s?t.map(s,function(t){return"string"==typeof t?e.key?t.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+m+'="'+e.key+'" $2'):t:i(t,e,t._ctnt)}):e;return a?r:(r=r.join(""),r.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(e,i,a,s){o=t(a).get(),l(o),i&&(o=n(i).concat(o)),s&&(o=o.concat(n(s)))}),o?o:n(r))}function n(e){var i=document.createElement("div");return i.innerHTML=e,t.makeArray(i.childNodes)}function a(e){return Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+t.trim(e).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(e,i,n,a,s,r,l){var c,h,u,d=t.tmpl.tag[n];if(!d)throw"Unknown template tag: "+n;return c=d._default||[],r&&!/\w$/.test(s)&&(s+=r,r=""),s?(s=o(s),l=l?","+o(l)+")":r?")":"",h=r?s.indexOf(".")>-1?s+o(r):"("+s+").call($item"+l:s,u=r?h:"(typeof("+s+")==='function'?("+s+").call($item):("+s+"))"):u=h=c.$1||"null",a=o(a),"');"+d[i?"close":"open"].split("$notnull_1").join(s?"typeof("+s+")!=='undefined' && ("+s+")!=null":"true").split("$1a").join(u).split("$1").join(h).split("$2").join(a||c.$2||"")+"__.push('"})+"');}return __;")}function s(e,n){e._wrap=i(e,!0,t.isArray(n)?n:[v.test(n)?n:t(n).html()]).join("")}function o(t){return t?t.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function r(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function l(i){function n(i){function n(t){t+=c,o=h[t]=h[t]||e(o,b[o.parent.key+c]||o.parent)}var a,s,o,r,l=i;if(r=i.getAttribute(m)){for(;l.parentNode&&1===(l=l.parentNode).nodeType&&!(a=l.getAttribute(m)););a!==r&&(l=l.parentNode?11===l.nodeType?0:l.getAttribute(m)||0:0,(o=b[r])||(o=y[r],o=e(o,b[l]||y[l]),o.key=++w,b[w]=o),x&&n(r)),i.removeAttribute(m)}else x&&(o=t.data(i,"tmplItem"))&&(n(o.key),b[o.key]=o,l=t.data(i.parentNode,"tmplItem"),l=l?l.key:0);if(o){for(s=o;s&&s.key!=l;)s.nodes.push(i),s=s.parent;delete o._ctnt,delete o._wrap,t.data(i,"tmplItem",o)}}var a,s,o,r,l,c="_"+x,h={};for(o=0,r=i.length;r>o;o++)if(1===(a=i[o]).nodeType){for(s=a.getElementsByTagName("*"),l=s.length-1;l>=0;l--)n(s[l]);n(a)}}function c(t,e,i,n){return t?(T.push({_:t,tmpl:e,item:this,data:i,options:n}),void 0):T.pop()}function h(e,i,n){return t.tmpl(t.template(e),i,n,this)}function u(e,i){var n=e.options||{};return n.wrapped=i,t.tmpl(t.template(e.tmpl),e.data,n,e.item)}function d(e,i){var n=this._wrap;return t.map(t(t.isArray(n)?n.join(""):n).filter(e||"*"),function(t){return i?t.innerText||t.textContent:t.outerHTML||r(t)})}function p(){var e=this.nodes;t.tmpl(null,null,null,this).insertBefore(e[0]),t(e).remove()}var f,g=t.fn.domManip,m="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,b={},y={},_={key:0,data:{}},w=0,x=0,T=[];t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){t.fn[e]=function(n){var a,s,o,r,l=[],c=t(n),h=1===this.length&&this[0].parentNode;if(f=b||{},h&&11===h.nodeType&&1===h.childNodes.length&&1===c.length)c[i](this[0]),l=this;else{for(s=0,o=c.length;o>s;s++)x=s,a=(s>0?this.clone(!0):this).get(),t(c[s])[i](a),l=l.concat(a);x=0,l=this.pushStack(l,e,c.selector)}return r=f,f=null,t.tmpl.complete(r),l}}),t.fn.extend({tmpl:function(e,i,n){return t.tmpl(this[0],e,i,n)},tmplItem:function(){return t.tmplItem(this[0])},template:function(e){return t.template(e,this[0])},domManip:function(e,i,n){if(e[0]&&t.isArray(e[0])){for(var a,s=t.makeArray(arguments),o=e[0],r=o.length,l=0;r>l&&!(a=t.data(o[l++],"tmplItem")););a&&x&&(s[2]=function(e){t.tmpl.afterManip(this,e,n)}),g.apply(this,s)}else g.apply(this,arguments);return x=0,!f&&t.tmpl.complete(b),this}}),t.extend({tmpl:function(n,a,o,r){var l,c=!r;if(c)r=_,n=t.template[n]||t.template(null,n),y={};else if(!n)return n=r.tmpl,b[r.key]=r,r.nodes=[],r.wrapped&&s(r,r.wrapped),t(i(r,null,r.tmpl(t,r)));return n?("function"==typeof a&&(a=a.call(r||{})),o&&o.wrapped&&s(o,o.wrapped),l=t.isArray(a)?t.map(a,function(t){return t?e(o,r,n,t):null}):[e(o,r,n,a)],c?t(i(r,null,l)):l):[]},tmplItem:function(e){var i;for(e instanceof t&&(e=e[0]);e&&1===e.nodeType&&!(i=t.data(e,"tmplItem"))&&(e=e.parentNode););return i||_},template:function(e,i){return i?("string"==typeof i?i=a(i):i instanceof t&&(i=i[0]||{}),i.nodeType&&(i=t.data(i,"tmpl")||t.data(i,"tmpl",a(i.innerHTML))),"string"==typeof e?t.template[e]=i:i):e?"string"!=typeof e?t.template(null,e):t.template[e]||t.template(null,v.test(e)?e:t(e)):null},encode:function(t){return(""+t).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),t.extend(t.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){b={}},afterManip:function(e,i,n){var a=11===i.nodeType?t.makeArray(i.childNodes):1===i.nodeType?[i]:[];n.call(e,i),l(a),x++}})}(jQuery),EventManagerBase.prototype={constructor:EventManagerBase,observe:function(t,e){this.EVENTS[t]||(this.EVENTS[t]={listeners:[],one_time_listeners:[]}),-1==this.EVENTS[t].listeners.indexOf(e)&&this.EVENTS[t].listeners.push(e)},observe_once:function(t,e){this.EVENTS[t]||(this.EVENTS[t]={listeners:[],one_time_listeners:[]}),-1==this.EVENTS[t].one_time_listeners.indexOf(e)&&this.EVENTS[t].one_time_listeners.push(e)},stop_observing:function(t,e){if(this.EVENTS[t]){var i=this.EVENTS[t].listeners.indexOf(e);return i>-1?(this.EVENTS[t].listeners.splice(i,1),!0):!1}return!1},fire:function(t,e,i){if(window[t]=!0,e===void 0&&(e={}),this.EVENTS[t]){for(var n=this.EVENTS[t].listeners,a=0;n.length>a;a++)this._single_fire(n[a],e,i);for(var s;s=this.EVENTS[t].one_time_listeners.pop();)this._single_fire(s,e,i)}},_single_fire:function(t,e,i){try{t(e,i)}catch(n){console.dir(n)}}};var EventManager=new EventManagerBase;(function(){function t(t){w.set(t)}function e(t){if(100!=t.get(Ui)&&y(ce(t,Fi))%1e4>=100*he(t,Ui))throw"abort"}function i(t){if(W(ce(t,Li)))throw"abort"}function n(){var t=B.location.protocol;if("http:"!=t&&"https:"!=t)throw"abort"}function a(e){try{H.navigator.sendBeacon?t(42):H.XMLHttpRequest&&"withCredentials"in new H.XMLHttpRequest&&t(40)}catch(i){}e.set(fi,T(e),!0),e.set(Pe,he(e,Pe)+1);var n=[];re.map(function(t,i){if(i.F){var a=e.get(t);void 0!=a&&a!=i.defaultValue&&("boolean"==typeof a&&(a*=1),n.push(i.F+"="+F(""+a)))}}),n.push("z="+ae()),e.set(De,n.join("&"),!0)}function s(t){var e=ce(t,Xi)||G()+"/collect",i=ce(t,Ae);if(!i&&t.get(Ie)&&(i="beacon"),i){var n=ce(t,De),a=t.get(ke),a=a||E;"image"==i?Q(e,n,a):"xhr"==i&&Z(e,n,a)||"beacon"==i&&te(e,n,a)||K(e,n,a)}else K(e,ce(t,De),t.get(ke));t.set(ke,E,!0)}function o(t){var e=H.gaData;e&&(e.expId&&t.set(oi,e.expId),e.expVar&&t.set(ri,e.expVar))}function r(){if(H.navigator&&"preview"==H.navigator.loadPurpose)throw"abort"}function l(t){var e=H.gaDevIds;k(e)&&0!=e.length&&t.set("&did",e.join(","),!0)}function c(t){if(!t.get(Li))throw"abort"}function h(e){var i=he(e,ui);i>=500&&t(15);var n=ce(e,Ce);if("transaction"!=n&&"item"!=n){var n=he(e,pi),a=(new Date).getTime(),s=he(e,di);if(0==s&&e.set(di,a),s=Math.round(2*(a-s)/1e3),s>0&&(n=Math.min(n+s,20),e.set(di,a)),0>=n)throw"abort";e.set(pi,--n)}e.set(ui,++i)}function u(e,i,n,a){i[e]=function(){try{return a&&t(a),n.apply(this,arguments)}catch(i){throw ee("exc",e,i&&i.name),i}}}function d(){var t,e,i;if((i=(i=H.navigator)?i.plugins:null)&&i.length)for(var n=0;i.length>n&&!e;n++){var a=i[n];a.name.indexOf("Shockwave Flash")>-1&&(e=a.description)}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),e=t.GetVariable("$version")}catch(s){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e="WIN 6,0,21,0",t.AllowScriptAccess="always",e=t.GetVariable("$version")}catch(o){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e=t.GetVariable("$version")}catch(r){}return e&&(t=e.match(/[\d]+/g))&&t.length>=3&&(e=t[0]+"."+t[1]+" r"+t[2]),e||void 0}function p(t,e,i){"none"==e&&(e="");var n=[],a=U(t);t="__utma"==t?6:2;for(var s=0;a.length>s;s++){var o=(""+a[s]).split(".");o.length>=t&&n.push({hash:o[0],R:a[s],O:o})}return 0==n.length?void 0:1==n.length?n[0]:f(e,n)||f(i,n)||f(null,n)||n[0]}function f(t,e){var i,n;null==t?i=n=1:(i=y(t),n=y(I(t,".")?t.substring(1):"."+t));for(var a=0;e.length>a;a++)if(e[a].hash==i||e[a].hash==n)return e[a]}function g(t){t=t.get(Fi);var e=m(t,0);return"_ga=1."+F(e+"."+t)}function m(t,e){for(var i=new Date,n=H.navigator,a=n.plugins||[],i=[t,n.userAgent,i.getTimezoneOffset(),i.getYear(),i.getDate(),i.getHours(),i.getMinutes()+e],n=0;a.length>n;++n)i.push(a[n].description);return y(i.join("."))}function v(t,e){if(e==B.location.hostname)return!1;for(var i=0;t.length>i;i++)if(t[i]instanceof RegExp){if(t[i].test(e))return!0}else if(e.indexOf(t[i])>=0)return!0;return!1}function b(t){return t.indexOf(".")>=0||t.indexOf(":")>=0}function y(t){var e,i=1,n=0;if(t)for(i=0,e=t.length-1;e>=0;e--)n=t.charCodeAt(e),i=(268435455&i<<6)+n+(n<<14),n=266338304&i,i=0!=n?i^n>>21:i;return i}var _=function(t){this.w=t||[]};_.prototype.set=function(t){this.w[t]=!0},_.prototype.encode=function(){for(var t=[],e=0;this.w.length>e;e++)this.w[e]&&(t[Math.floor(e/6)]^=1<<e%6);for(e=0;t.length>e;e++)t[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(t[e]||0);return t.join("")+"~"};var w=new _,x=function(t,e){var i=new _(S(t));i.set(e),t.set(gi,i.w)},T=function(t){t=S(t),t=new _(t);for(var e=w.w.slice(),i=0;t.w.length>i;i++)e[i]=e[i]||t.w[i];return new _(e).encode()},S=function(t){return t=t.get(gi),k(t)||(t=[]),t},C=function(t){return"function"==typeof t},k=function(t){return"[object Array]"==Object.prototype.toString.call(Object(t))},D=function(t){return void 0!=t&&(t.constructor+"").indexOf("String")>-1},I=function(t,e){return 0==t.indexOf(e)},A=function(t){return t?t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""):""},P=function(t){var e=B.createElement("img");return e.width=1,e.height=1,e.src=t,e},E=function(){},F=function(e){return encodeURIComponent instanceof Function?encodeURIComponent(e):(t(28),e)},M=function(e,i,n,a){try{e.addEventListener?e.addEventListener(i,n,!!a):e.attachEvent&&e.attachEvent("on"+i,n)}catch(s){t(27)}},L=function(t,e){if(t){var i=B.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,e&&(i.id=e);var n=B.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}},N=function(){return"https:"==B.location.protocol},$=function(){var t=""+B.location.hostname;return 0==t.indexOf("www.")?t.substring(4):t},O=function(t){var e=B.referrer;if(/^https?:\/\//i.test(e)){if(t)return e;t="//"+B.location.hostname;var i=e.indexOf(t);if((5==i||6==i)&&(t=e.charAt(i+t.length),"/"==t||"?"==t||""==t||":"==t))return;return e}},R=function(t,e){if(1==e.length&&null!=e[0]&&"object"==typeof e[0])return e[0];for(var i={},n=Math.min(t.length+1,e.length),a=0;n>a;a++){if("object"==typeof e[a]){for(var s in e[a])e[a].hasOwnProperty(s)&&(i[s]=e[a][s]);break}t.length>a&&(i[t[a]]=e[a])}return i},j=function(){this.keys=[],this.values={},this.m={}};j.prototype.set=function(t,e,i){this.keys.push(t),i?this.m[":"+t]=e:this.values[":"+t]=e},j.prototype.get=function(t){return this.m.hasOwnProperty(":"+t)?this.m[":"+t]:this.values[":"+t]},j.prototype.map=function(t){for(var e=0;this.keys.length>e;e++){var i=this.keys[e],n=this.get(i);n&&t(i,n)}};var H=window,B=document,z=function(){for(var t=H.navigator.userAgent+(B.cookie?B.cookie:"")+(B.referrer?B.referrer:""),e=t.length,i=H.history.length;i>0;)t+=i--^e++;return y(t)},W=function(t){var e=H._gaUserPrefs;if(e&&e.ioo&&e.ioo()||t&&!0===H["ga-disable-"+t])return!0;try{var i=H.external;if(i&&i._gaUserPrefs&&"oo"==i._gaUserPrefs)return!0}catch(n){}return!1},U=function(t){var e=[],i=B.cookie.split(";");t=RegExp("^\\s*"+t+"=\\s*(.*?)\\s*$");for(var n=0;i.length>n;n++){var a=i[n].match(t);a&&e.push(a[1])}return e},q=function(e,i,n,a,s,o){if(s=W(s)?!1:V.test(B.location.hostname)||"/"==n&&X.test(a)?!1:!0,!s)return!1;if(i&&i.length>1200&&(i=i.substring(0,1200),t(24)),n=e+"="+i+"; path="+n+"; ",o&&(n+="expires="+new Date((new Date).getTime()+o).toGMTString()+"; "),a&&"none"!=a&&(n+="domain="+a+";"),a=B.cookie,B.cookie=n,!(a=a!=B.cookie))t:{for(e=U(e),a=0;e.length>a;a++)if(i==e[a]){a=!0;break t}a=!1}return a},Y=function(t){return F(t).replace(/\(/g,"%28").replace(/\)/g,"%29")},X=/^(www\.)?google(\.com?)?(\.[a-z]{2})?$/,V=/(^|\.)doubleclick\.net$/i,G=function(){return(_e||N()?"https:":"http:")+"//www.google-analytics.com"},J=function(t){this.name="len",this.message=t+"-8192"},K=function(t,e,i){if(i=i||E,2036>=e.length)Q(t,e,i);else{if(!(8192>=e.length))throw ee("len",e.length),new J(e.length);te(t,e,i)||Z(t,e,i)||Q(t,e,i)}},Q=function(t,e,i){var n=P(t+"?"+e);n.onload=n.onerror=function(){n.onload=null,n.onerror=null,i()}},Z=function(t,e,i){var n=H.XMLHttpRequest;if(!n)return!1;var a=new n;return"withCredentials"in a?(a.open("POST",t,!0),a.withCredentials=!0,a.setRequestHeader("Content-Type","text/plain"),a.onreadystatechange=function(){4==a.readyState&&(i(),a=null)},a.send(e),!0):!1},te=function(t,e,i){return H.navigator.sendBeacon?H.navigator.sendBeacon(t,e)?(i(),!0):!1:!1},ee=function(t,e,i){100*Math.random()>=1||W("?")||(t=["t=error","_e="+t,"_v=j39","sr=1"],e&&t.push("_f="+e),i&&t.push("_m="+F(i.substring(0,100))),t.push("aip=1"),t.push("z="+se()),Q(G()+"/collect",t.join("&"),E))},ie=function(){this.M=[]};ie.prototype.add=function(t){this.M.push(t)},ie.prototype.D=function(t){try{for(var e=0;this.M.length>e;e++){var i=t.get(this.M[e]);i&&C(i)&&i.call(H,t)}}catch(n){}e=t.get(ke),e!=E&&C(e)&&(t.set(ke,E,!0),setTimeout(e,10))};var ne=function(){return Math.round(2147483647*Math.random())},ae=function(){try{var t=new Uint32Array(1);return H.crypto.getRandomValues(t),2147483647&t[0]}catch(e){return ne()}},se=ne,oe=function(){this.data=new j},re=new j,le=[];oe.prototype.get=function(t){var e=pe(t),i=this.data.get(t);return e&&void 0==i&&(i=C(e.defaultValue)?e.defaultValue():e.defaultValue),e&&e.Z?e.Z(this,t,i):i};var ce=function(t,e){var i=t.get(e);return void 0==i?"":""+i},he=function(t,e){var i=t.get(e);return void 0==i||""===i?0:1*i};oe.prototype.set=function(t,e,i){if(t)if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&ue(this,n,t[n],i);else ue(this,t,e,i)};var ue=function(t,e,i,n){if(void 0!=i)switch(e){case Li:En.test(i)}var a=pe(e);a&&a.o?a.o(t,e,i,n):t.data.set(e,i,n)},de=function(t,e,i,n,a){this.name=t,this.F=e,this.Z=n,this.o=a,this.defaultValue=i},pe=function(t){var e=re.get(t);if(!e)for(var i=0;le.length>i;i++){var n=le[i],a=n[0].exec(t);if(a){e=n[1](a),re.set(e.name,e);break}}return e},fe=function(t){var e;return re.map(function(i,n){n.F==t&&(e=n)}),e&&e.name},ge=function(t,e,i,n,a){return t=new de(t,e,i,n,a),re.set(t.name,t),t.name},me=function(t,e){le.push([RegExp("^"+t+"$"),e])},ve=function(t,e,i){return ge(t,e,i,void 0,be)},be=function(){},ye=D(window.GoogleAnalyticsObject)&&A(window.GoogleAnalyticsObject)||"ga",_e=!1,we=ge("_br"),xe=ve("apiVersion","v"),Te=ve("clientVersion","_v");ge("anonymizeIp","aip");var Se=ge("adSenseId","a"),Ce=ge("hitType","t"),ke=ge("hitCallback"),De=ge("hitPayload");ge("nonInteraction","ni"),ge("currencyCode","cu"),ge("dataSource","ds");var Ie=ge("useBeacon",void 0,!1),Ae=ge("transport");ge("sessionControl","sc",""),ge("sessionGroup","sg"),ge("queueTime","qt");var Pe=ge("_s","_s");ge("screenName","cd");var Ee=ge("location","dl",""),Fe=ge("referrer","dr"),Me=ge("page","dp","");ge("hostname","dh");var Le=ge("language","ul"),Ne=ge("encoding","de");ge("title","dt",function(){return B.title||void 0}),me("contentGroup([0-9]+)",function(t){return new de(t[0],"cg"+t[1])});var $e=ge("screenColors","sd"),Oe=ge("screenResolution","sr"),Re=ge("viewportSize","vp"),je=ge("javaEnabled","je"),He=ge("flashVersion","fl");ge("campaignId","ci"),ge("campaignName","cn"),ge("campaignSource","cs"),ge("campaignMedium","cm"),ge("campaignKeyword","ck"),ge("campaignContent","cc");var Be=ge("eventCategory","ec"),ze=ge("eventAction","ea"),We=ge("eventLabel","el"),Ue=ge("eventValue","ev"),qe=ge("socialNetwork","sn"),Ye=ge("socialAction","sa"),Xe=ge("socialTarget","st"),Ve=ge("l1","plt"),Ge=ge("l2","pdt"),Je=ge("l3","dns"),Ke=ge("l4","rrt"),Qe=ge("l5","srt"),Ze=ge("l6","tcp"),ti=ge("l7","dit"),ei=ge("l8","clt"),ii=ge("timingCategory","utc"),ni=ge("timingVar","utv"),ai=ge("timingLabel","utl"),si=ge("timingValue","utt");ge("appName","an"),ge("appVersion","av",""),ge("appId","aid",""),ge("appInstallerId","aiid",""),ge("exDescription","exd"),ge("exFatal","exf");var oi=ge("expId","xid"),ri=ge("expVar","xvar"),li=ge("_utma","_utma"),ci=ge("_utmz","_utmz"),hi=ge("_utmht","_utmht"),ui=ge("_hc",void 0,0),di=ge("_ti",void 0,0),pi=ge("_to",void 0,20);me("dimension([0-9]+)",function(t){return new de(t[0],"cd"+t[1])}),me("metric([0-9]+)",function(t){return new de(t[0],"cm"+t[1])}),ge("linkerParam",void 0,void 0,g,be);var fi=ge("usage","_u"),gi=ge("_um");ge("forceSSL",void 0,void 0,function(){return _e},function(e,i,n){t(34),_e=!!n});var mi=ge("_j1","jid");me("\\&(.*)",function(t){var e=new de(t[0],t[1]),i=fe(t[0].substring(1));return i&&(e.Z=function(t){return t.get(i)},e.o=function(t,e,n,a){t.set(i,n,a)},e.F=void 0),e});var vi=ve("_oot"),bi=ge("previewTask"),yi=ge("checkProtocolTask"),_i=ge("validationTask"),wi=ge("checkStorageTask"),xi=ge("historyImportTask"),Ti=ge("samplerTask"),Si=ge("_rlt"),Ci=ge("buildHitTask"),ki=ge("sendHitTask"),Di=ge("ceTask"),Ii=ge("devIdTask"),Ai=ge("timingTask"),Pi=ge("displayFeaturesTask"),Ei=ve("name"),Fi=ve("clientId","cid"),Mi=ge("userId","uid"),Li=ve("trackingId","tid"),Ni=ve("cookieName",void 0,"_ga"),$i=ve("cookieDomain"),Oi=ve("cookiePath",void 0,"/"),Ri=ve("cookieExpires",void 0,63072e3),ji=ve("legacyCookieDomain"),Hi=ve("legacyHistoryImport",void 0,!0),Bi=ve("storage",void 0,"cookie"),zi=ve("allowLinker",void 0,!1),Wi=ve("allowAnchor",void 0,!0),Ui=ve("sampleRate","sf",100),qi=ve("siteSpeedSampleRate",void 0,1),Yi=ve("alwaysSendReferrer",void 0,!1),Xi=ge("transportUrl"),Vi=ge("_r","_r"),Gi=function(t,e,i){this.V=1e4,this.fa=t,this.$=!1,this.B=e,this.ea=i||1},Ji=function(t,e){var i;if(t.fa&&t.$)return 0;if(t.$=!0,e){if(t.B&&he(e,t.B))return he(e,t.B);if(0==e.get(qi))return 0}return 0==t.V?0:(void 0===i&&(i=ae()),0==i%t.V?Math.floor(i/t.V)%t.ea+1:0)},Ki=new Gi(!0,we,7),Qi=function(t){if(!N()&&!_e){var e=Ji(Ki,t);if(e&&!(!H.navigator.sendBeacon&&e>=4&&6>=e)){var i=(new Date).getHours(),n=[ae(),ae(),ae()].join(".");t=(3==e||5==e?"https:":"http:")+"//www.google-analytics.com/collect?z=br.",t+=[e,"A",i,n].join(".");var a=1!=e%3?"https:":"http:",a=a+"//www.google-analytics.com/collect?z=br.",a=a+[e,"B",i,n].join(".");7==e&&(a=a.replace("//www.","//ssl.")),i=function(){e>=4&&6>=e?H.navigator.sendBeacon(a,""):P(a)},ae()%2?(P(t),i()):(i(),P(t))}}},Zi=function(t,e){var i=Math.min(he(t,qi),100);if(!(y(ce(t,Fi))%100>=i)&&(i={},tn(i)||en(i))){var n=i[Ve];void 0==n||1/0==n||isNaN(n)||(n>0?(nn(i,Je),nn(i,Ze),nn(i,Qe),nn(i,Ge),nn(i,Ke),nn(i,ti),nn(i,ei),e(i)):M(H,"load",function(){Zi(t,e)},!1))}},tn=function(t){var e=H.performance||H.webkitPerformance,e=e&&e.timing;if(!e)return!1;var i=e.navigationStart;return 0==i?!1:(t[Ve]=e.loadEventStart-i,t[Je]=e.domainLookupEnd-e.domainLookupStart,t[Ze]=e.connectEnd-e.connectStart,t[Qe]=e.responseStart-e.requestStart,t[Ge]=e.responseEnd-e.responseStart,t[Ke]=e.fetchStart-i,t[ti]=e.domInteractive-i,t[ei]=e.domContentLoadedEventStart-i,!0)},en=function(t){if(H.top!=H)return!1;var e=H.external,i=e&&e.onloadT;return e&&!e.isValidLoadTime&&(i=void 0),i>2147483648&&(i=void 0),i>0&&e.setPageReadyTime(),void 0==i?!1:(t[Ve]=i,!0)},nn=function(t,e){var i=t[e];(isNaN(i)||1/0==i||0>i)&&(t[e]=void 0)},an=function(t){return function(e){"pageview"!=e.get(Ce)||t.I||(t.I=!0,Zi(e,function(e){t.send("timing",e)}))}},sn=!1,on=function(e){if("cookie"==ce(e,Bi)){var i=ce(e,Ni),n=cn(e),a=pn(ce(e,Oi)),s=un(ce(e,$i)),o=1e3*he(e,Ri),r=ce(e,Li);if("auto"!=s)q(i,n,a,s,r,o)&&(sn=!0);else{t(32);var l;if(n=[],s=$().split("."),4!=s.length||(l=s[s.length-1],parseInt(l,10)!=l)){for(l=s.length-2;l>=0;l--)n.push(s.slice(l).join("."));n.push("none"),l=n}else l=["none"];for(var c=0;l.length>c;c++)if(s=l[c],e.data.set($i,s),n=cn(e),q(i,n,a,s,r,o))return sn=!0,void 0;e.data.set($i,"auto")}}},rn=function(t){if("cookie"==ce(t,Bi)&&!sn&&(on(t),!sn))throw"abort"},ln=function(e){if(e.get(Hi)){var i=ce(e,$i),n=ce(e,ji)||$(),a=p("__utma",n,i);a&&(t(19),e.set(hi,(new Date).getTime(),!0),e.set(li,a.R),(i=p("__utmz",n,i))&&a.hash==i.hash&&e.set(ci,i.R))}},cn=function(t){var e=Y(ce(t,Fi)),i=dn(ce(t,$i));return t=fn(ce(t,Oi)),t>1&&(i+="-"+t),["GA1",i,e].join(".")},hn=function(t,e,i){for(var n,a=[],s=[],o=0;t.length>o;o++){var r=t[o];r.H[i]==e?a.push(r):void 0==n||n>r.H[i]?(s=[r],n=r.H[i]):r.H[i]==n&&s.push(r)}return a.length>0?a:s},un=function(t){return 0==t.indexOf(".")?t.substr(1):t},dn=function(t){return un(t).split(".").length},pn=function(t){return t?(t.length>1&&t.lastIndexOf("/")==t.length-1&&(t=t.substr(0,t.length-1)),0!=t.indexOf("/")&&(t="/"+t),t):"/"},fn=function(t){return t=pn(t),"/"==t?1:t.split("/").length},gn=RegExp(/^https?:\/\/([^\/:]+)/),mn=/(.*)([?&#])(?:_ga=[^&#]*)(?:&?)(.*)/,vn=function(e){t(48),this.target=e,this.T=!1};vn.prototype.ca=function(t,e){if(t.tagName){if("a"==t.tagName.toLowerCase())return t.href&&(t.href=bn(this,t.href,e)),void 0;if("form"==t.tagName.toLowerCase())return yn(this,t)}return"string"==typeof t?bn(this,t,e):void 0};var bn=function(t,e,i){var n=mn.exec(e);n&&n.length>=3&&(e=n[1]+(n[3]?n[2]+n[3]:"")),t=t.target.get("linkerParam");var a=e.indexOf("?"),n=e.indexOf("#");return i?e+=(-1==n?"#":"&")+t:(i=-1==a?"?":"&",e=-1==n?e+(i+t):e.substring(0,n)+i+t+e.substring(n)),e},yn=function(t,e){if(e&&e.action){var i=t.target.get("linkerParam").split("=")[1];if("get"==e.method.toLowerCase()){for(var n=e.childNodes||[],a=0;n.length>a;a++)if("_ga"==n[a].name)return n[a].setAttribute("value",i),void 0;n=B.createElement("input"),n.setAttribute("type","hidden"),n.setAttribute("name","_ga"),n.setAttribute("value",i),e.appendChild(n)}else"post"==e.method.toLowerCase()&&(e.action=bn(t,e.action))}};vn.prototype.S=function(e,i,n){function a(n){try{n=n||H.event;var a;t:{var o=n.target||n.srcElement;for(n=100;o&&n>0;){if(o.href&&o.nodeName.match(/^a(?:rea)?$/i)){a=o;break t}o=o.parentNode,n--}a={}}("http:"==a.protocol||"https:"==a.protocol)&&v(e,a.hostname||"")&&a.href&&(a.href=bn(s,a.href,i))}catch(r){t(26)}}var s=this;if(this.T||(this.T=!0,M(B,"mousedown",a,!1),M(B,"keyup",a,!1)),n){n=function(t){if(t=t||H.event,(t=t.target||t.srcElement)&&t.action){var i=t.action.match(gn);i&&v(e,i[1])&&yn(s,t)}};for(var o=0;B.forms.length>o;o++)M(B.forms[o],"submit",n)}};var _n,wn=function(t,e,i){this.U=mi,this.aa=e,(e=i)||(e=(e=ce(t,Ei))&&"t0"!=e?kn.test(e)?"_gat_"+Y(ce(t,Li)):"_gat_"+Y(e):"_gat"),this.Y=e},xn=function(t,e){var i=e.get(Ci);e.set(Ci,function(e){Tn(t,e);var n=i(e);return Sn(t,e),n});var n=e.get(ki);e.set(ki,function(e){var i=n(e);return Cn(t,e),i})},Tn=function(t,e){e.get(t.U)||("1"==U(t.Y)[0]?e.set(t.U,"",!0):e.set(t.U,""+se(),!0))},Sn=function(t,e){e.get(t.U)&&q(t.Y,"1",e.get(Oi),e.get($i),e.get(Li),6e5)},Cn=function(t,e){if(e.get(t.U)){var i=new j,n=function(t){pe(t).F&&i.set(pe(t).F,e.get(t))};n(xe),n(Te),n(Li),n(Fi),n(t.U),i.set(pe(fi).F,T(e));var a=t.aa;i.map(function(t,e){a+=F(t)+"=",a+=F(""+e)+"&"}),a+="z="+se(),P(a),e.set(t.U,"",!0)}},kn=/^gtm\d+$/,Dn=function(t,e){var i=t.b;if(!i.get("dcLoaded")){x(i,29),e=e||{};var n;e[Ni]&&(n=Y(e[Ni])),n=new wn(i,"https://stats.g.doubleclick.net/r/collect?t=dc&aip=1&_r=3&",n),xn(n,i),i.set("dcLoaded",!0)}},In=function(t){var e;e=t.get("dcLoaded")?!1:"cookie"!=t.get(Bi)?!1:!0,e&&(x(t,51),e=new wn(t),Tn(e,t),Sn(e,t),t.get(e.U)&&(t.set(Vi,1,!0),t.set(Xi,G()+"/r/collect",!0)))},An=function(){var t=H.gaGlobal=H.gaGlobal||{};return t.hid=t.hid||se()},Pn=function(t,e,i){if(!_n){var n;n=B.location.hash;var a=H.name,s=/^#?gaso=([^&]*)/;(a=(n=(n=n&&n.match(s)||a&&a.match(s))?n[1]:U("GASO")[0]||"")&&n.match(/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i))&&(q("GASO",""+n,i,e,t,0),window._udo||(window._udo=e),window._utcp||(window._utcp=i),t=a[1],L("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(t?"prefix="+t+"&":"")+se(),"_gasojs")),_n=!0}},En=/^(UA|YT|MO|GP)-(\d+)-(\d+)$/,Fn=function(t){function u(t,e){p.b.data.set(t,e)}function d(t,e){u(t,e),p.filters.add(t)}var p=this;this.b=new oe,this.filters=new ie,u(Ei,t[Ei]),u(Li,A(t[Li])),u(Ni,t[Ni]),u($i,t[$i]||$()),u(Oi,t[Oi]),u(Ri,t[Ri]),u(ji,t[ji]),u(Hi,t[Hi]),u(zi,t[zi]),u(Wi,t[Wi]),u(Ui,t[Ui]),u(qi,t[qi]),u(Yi,t[Yi]),u(Bi,t[Bi]),u(Mi,t[Mi]),u(xe,1),u(Te,"j39"),d(vi,i),d(bi,r),d(yi,n),d(_i,c),d(wi,rn),d(xi,ln),d(Ti,e),d(Si,h),d(Di,o),d(Ii,l),d(Pi,In),d(Ci,a),d(ki,s),d(Ai,an(this)),Mn(this.b,t[Fi]),Ln(this.b),this.b.set(Se,An()),Pn(this.b.get(Li),this.b.get($i),this.b.get(Oi))
},Mn=function(e,i){if("cookie"==ce(e,Bi)){sn=!1;var n;t:{var a=U(ce(e,Ni));if(a&&!(1>a.length)){n=[];for(var s=0;a.length>s;s++){var o;o=a[s].split(".");var r=o.shift();("GA1"==r||"1"==r)&&o.length>1?(r=o.shift().split("-"),1==r.length&&(r[1]="1"),r[0]*=1,r[1]*=1,o={H:r,s:o.join(".")}):o=void 0,o&&n.push(o)}if(1==n.length){t(13),n=n[0].s;break t}if(0!=n.length){if(t(14),a=dn(ce(e,$i)),n=hn(n,a,0),1==n.length){n=n[0].s;break t}a=fn(ce(e,Oi)),n=hn(n,a,1),n=n[0]&&n[0].s;break t}t(12)}n=void 0}n||(n=ce(e,$i),a=ce(e,ji)||$(),n=p("__utma",a,n),void 0!=n?(t(10),n=n.O[1]+"."+n.O[2]):n=void 0),n&&(e.data.set(Fi,n),sn=!0)}n=e.get(Wi),(s=(n=B.location[n?"href":"search"].match("(?:&|#|\\?)"+F("_ga").replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+"=([^&#]*)"))&&2==n.length?n[1]:"")&&(e.get(zi)?(n=s.indexOf("."),-1==n?t(22):(a=s.substring(n+1),"1"!=s.substring(0,n)?t(22):(n=a.indexOf("."),-1==n?t(22):(s=a.substring(0,n),n=a.substring(n+1),s!=m(n,0)&&s!=m(n,-1)&&s!=m(n,-2)?t(23):(t(11),e.data.set(Fi,n)))))):t(21)),i&&(t(9),e.data.set(Fi,F(i))),e.get(Fi)||((n=(n=H.gaGlobal&&H.gaGlobal.vid)&&-1!=n.search(/^(?:utma\.)?\d+\.\d+$/)?n:void 0)?(t(17),e.data.set(Fi,n)):(t(8),e.data.set(Fi,[se()^2147483647&z(),Math.round((new Date).getTime()/1e3)].join(".")))),on(e)},Ln=function(e){var i=H.navigator,n=H.screen,a=B.location;if(e.set(Fe,O(e.get(Yi))),a){var s=a.pathname||"";"/"!=s.charAt(0)&&(t(31),s="/"+s),e.set(Ee,a.protocol+"//"+a.hostname+s+a.search)}n&&e.set(Oe,n.width+"x"+n.height),n&&e.set($e,n.colorDepth+"-bit");var n=B.documentElement,o=(s=B.body)&&s.clientWidth&&s.clientHeight,r=[];if(n&&n.clientWidth&&n.clientHeight&&("CSS1Compat"===B.compatMode||!o)?r=[n.clientWidth,n.clientHeight]:o&&(r=[s.clientWidth,s.clientHeight]),n=0>=r[0]||0>=r[1]?"":r.join("x"),e.set(Re,n),e.set(He,d()),e.set(Ne,B.characterSet||B.charset),e.set(je,i&&"function"==typeof i.javaEnabled&&i.javaEnabled()||!1),e.set(Le,(i&&(i.language||i.browserLanguage)||"").toLowerCase()),a&&e.get(Wi)&&(i=B.location.hash)){for(i=i.split(/[?&#]+/),a=[],n=0;i.length>n;++n)(I(i[n],"utm_id")||I(i[n],"utm_campaign")||I(i[n],"utm_source")||I(i[n],"utm_medium")||I(i[n],"utm_term")||I(i[n],"utm_content")||I(i[n],"gclid")||I(i[n],"dclid")||I(i[n],"gclsrc"))&&a.push(i[n]);a.length>0&&(i="#"+a.join("&"),e.set(Ee,e.get(Ee)+i))}};Fn.prototype.get=function(t){return this.b.get(t)},Fn.prototype.set=function(t,e){this.b.set(t,e)};var Nn={pageview:[Me],event:[Be,ze,We,Ue],social:[qe,Ye,Xe],timing:[ii,ni,si,ai]};Fn.prototype.send=function(){if(!(1>arguments.length)){var t,e;"string"==typeof arguments[0]?(t=arguments[0],e=[].slice.call(arguments,1)):(t=arguments[0]&&arguments[0][Ce],e=arguments),t&&(e=R(Nn[t]||[],e),e[Ce]=t,this.b.set(e,void 0,!0),this.filters.D(this.b),this.b.data.m={},Qi(this.b))}};var $n,On,Rn,jn=function(t){return"prerender"==B.visibilityState?!1:(t(),!0)},Hn=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,Bn=function(t){if(C(t[0]))this.u=t[0];else{var e=Hn.exec(t[0]);if(null!=e&&4==e.length&&(this.c=e[1]||"t0",this.K=e[2]||"",this.C=e[3],this.a=[].slice.call(t,1),this.K||(this.A="create"==this.C,this.i="require"==this.C,this.g="provide"==this.C,this.ba="remove"==this.C),this.i&&(this.a.length>=3?(this.X=this.a[1],this.W=this.a[2]):this.a[1]&&(D(this.a[1])?this.X=this.a[1]:this.W=this.a[1]))),e=t[1],t=t[2],!this.C)throw"abort";if(this.i&&(!D(e)||""==e))throw"abort";if(this.g&&(!D(e)||""==e||!C(t)))throw"abort";if(b(this.c)||b(this.K))throw"abort";if(this.g&&"t0"!=this.c)throw"abort"}};$n=new j,Rn=new j,On={ec:45,ecommerce:46,linkid:47};var zn=function(t){function e(t){var e=(t.hostname||"").split(":")[0].toLowerCase(),i=(t.protocol||"").toLowerCase(),i=1*t.port||("http:"==i?80:"https:"==i?443:"");return t=t.pathname||"",I(t,"/")||(t="/"+t),[e,""+i,t]}var i=B.createElement("a");i.href=B.location.href;var n=(i.protocol||"").toLowerCase(),a=e(i),s=i.search||"",o=n+"//"+a[0]+(a[1]?":"+a[1]:"");return I(t,"//")?t=n+t:I(t,"/")?t=o+t:!t||I(t,"?")?t=o+a[2]+(t||s):0>t.split("/")[0].indexOf(":")&&(t=o+a[2].substring(0,a[2].lastIndexOf("/"))+"/"+t),i.href=t,n=e(i),{protocol:(i.protocol||"").toLowerCase(),host:n[0],port:n[1],path:n[2],G:i.search||"",url:t||""}},Wn={ga:function(){Wn.f=[]}};Wn.ga(),Wn.D=function(){var t=Wn.J.apply(Wn,arguments),t=Wn.f.concat(t);for(Wn.f=[];t.length>0&&!Wn.v(t[0])&&(t.shift(),!(Wn.f.length>0)););Wn.f=Wn.f.concat(t)},Wn.J=function(){for(var e=[],i=0;arguments.length>i;i++)try{var n=new Bn(arguments[i]);if(n.g)$n.set(n.a[0],n.a[1]);else{if(n.i){var a=n,s=a.a[0];if(!C($n.get(s))&&!Rn.get(s)){On.hasOwnProperty(s)&&t(On[s]);var o=a.X;if(!o&&On.hasOwnProperty(s)?(t(39),o=s+".js"):t(43),o){o&&o.indexOf("/")>=0||(o=(_e||N()?"https:":"http:")+"//www.google-analytics.com/plugins/ua/"+o);var r,l=zn(o),a=void 0,c=l.protocol,h=B.location.protocol,a="https:"==c||c==h?!0:"http:"!=c?!1:"http:"==h;if(r=a){var a=l,u=zn(B.location.href);if(a.G||a.url.indexOf("?")>=0||a.path.indexOf("://")>=0)r=!1;else if(a.host==u.host&&a.port==u.port)r=!0;else{var d="http:"==a.protocol?80:443;r="www.google-analytics.com"==a.host&&(a.port||d)==d&&I(a.path,"/plugins/")?!0:!1}}r&&(L(l.url),Rn.set(s,!0))}}}e.push(n)}}catch(p){}return e},Wn.v=function(t){try{if(t.u)t.u.call(H,Un.j("t0"));else{var e=t.c==ye?Un:Un.j(t.c);if(t.A)"t0"==t.c&&Un.create.apply(Un,t.a);else if(t.ba)Un.remove(t.c);else if(e)if(t.i){var i,n=t.a[0],a=t.W;e==Un||e.get(Ei);var s=$n.get(n);if(C(s)?(e.plugins_=e.plugins_||new j,e.plugins_.get(n)||e.plugins_.set(n,new s(e,a||{})),i=!0):i=!1,!i)return!0}else if(t.K){var o=t.C,r=t.a,l=e.plugins_.get(t.K);l[o].apply(l,r)}else e[t.C].apply(e,t.a)}}catch(c){}};var Un=function(){t(1),Wn.D.apply(Wn,[arguments])};Un.h={},Un.P=[],Un.L=0,Un.answer=42;var qn=[Li,$i,Ei];Un.create=function(){var t=R(qn,[].slice.call(arguments));t[Ei]||(t[Ei]="t0");var e=""+t[Ei];return Un.h[e]?Un.h[e]:(t=new Fn(t),Un.h[e]=t,Un.P.push(t),t)},Un.remove=function(t){for(var e=0;Un.P.length>e;e++)if(Un.P[e].get(Ei)==t){Un.P.splice(e,1),Un.h[t]=null;break}},Un.j=function(t){return Un.h[t]},Un.getAll=function(){return Un.P.slice(0)},Un.N=function(){"ga"!=ye&&t(49);var e=H[ye];if(!e||42!=e.answer){Un.L=e&&e.l,Un.loaded=!0;var i=H[ye]=Un;if(u("create",i,i.create),u("remove",i,i.remove),u("getByName",i,i.j,5),u("getAll",i,i.getAll,6),i=Fn.prototype,u("get",i,i.get,7),u("set",i,i.set,4),u("send",i,i.send),i=oe.prototype,u("get",i,i.get),u("set",i,i.set),!N()&&!_e){t:{for(var i=B.getElementsByTagName("script"),n=0;i.length>n&&100>n;n++){var a=i[n].src;if(a&&0==a.indexOf("https://www.google-analytics.com/analytics")){t(33),i=!0;break t}}i=!1}i&&(_e=!0)}N()||_e||!Ji(new Gi)||(t(36),_e=!0),(H.gaplugins=H.gaplugins||{}).Linker=vn,i=vn.prototype,$n.set("linker",vn),u("decorate",i,i.ca,20),u("autoLink",i,i.S,25),$n.set("displayfeatures",Dn),$n.set("adfeatures",Dn),e=e&&e.q,k(e)?Wn.D.apply(Un,e):t(50)}},Un.da=function(){for(var t=Un.getAll(),e=0;t.length>e;e++)t[e].get(Ei)},function(){var e=Un.N;if(!jn(e)){t(16);var i=!1,n=function(){if(!i&&jn(e)){i=!0;var t=n,a=B;a.removeEventListener?a.removeEventListener("visibilitychange",t,!1):a.detachEvent&&a.detachEvent("onvisibilitychange",t)}};M(B,"visibilitychange",n)}}()})(window);var app=new function(){_app=this,this.ls=new $.localStorage,this.ss=new $.sessionStorage,this.data={},this.config={loaded:!1,env:"localhost"==document.domain?"dev":"stage.coachtracker.org"==document.domain?"stage":"prod",isMobile:window.isMobile?!0:!1,isChrome:/Chrome/i.test(navigator.userAgent)?!0:!1,isIOS:/iPhone|iPad|iPod/i.test(navigator.userAgent)?!0:!1,studentImagePath:"images/students/"},this.requiredComponents=["global","gtrack","timer","ajax","header","controller","libs"],this.init=function(){_app.data.version=window.version?window.version:Math.floor(10*Math.random()+1),$.each(_app.requiredComponents,function(t,e){var i=app[e];i&&i.init()}),_app.controller.init(),_app.controller.loadFirstScreen()},this.lazyLoad=function(){$.ajax({url:"/min/g=js-b&v="+_app.data.version,dataType:"script",cache:!0})}};$(document).ready(app.init),app.timer=new function(){_timer=this,this.timers={},this.init=function(){EventManager.observe("loadFirstScreen",_timer.loadTime)},this.loadTime=function(){var t="load-time",e=window.loadStart;e&&(_timer.timers[t]={},_timer.timers[t].start=e,_timer.endTimer(t))},this.startTimer=function(t){_timer.timers[t]={},_timer.timers[t].start=(new Date).getTime()},this.endTimer=function(t){if(_timer.timers[t]){_timer.timers[t].end=(new Date).getTime(),_timer.timers[t].time=_timer.timers[t].end-_timer.timers[t].start;var e=1;$.each([1e3,100,10],function(i,n){return _timer.timers[t].time>=n?(e=n,!1):void 0}),timeTrack=Math.round(_timer.timers[t].time/e)*e,app.gtrack.track_event("timer",t,timeTrack)}}},app.global=new function(){var t=this;this.els={},this.init=function(){t.getEls()},this.getEls=function(){t.els={spinner:$("div#spinner"),dialog:$("div#dialog"),alert:$("div#alert"),body:$("body"),content:$("content")}},this.removeHTML=function(t){return t.replace(/(<([^>]+)>)/gi,"")},this.objValue=function(t,e){try{return t.hasOwnProperty(e)?t[e]:null}catch(i){return null}},this.toggleScroll=function(t){"boolean"!=typeof t&&(t=!0),$("body").css({overflow:t?"visible":"hidden"})},this.fileExtension=function(t){return/[.]/.exec(t)?/[^.]+$/.exec(t):void 0},this.getUrlParameter=function(t,e){var i=RegExp("[?&]"+e+"=([^&#]*)").exec(t);return null==i?null:i[1]||0},this.dialog=function(e){return e||(e={}),e.dialogClass="",e.msg||(e.msg=" "),e.title||(e.title="Alert!"),e.resizable||(e.resizable=!1),e.modal||(e.modal=!0),e.position||(e.position="center"),e.draggable||(e.draggable=!1),e.hideTitle&&(e.dialogClass+=" noTitleStuff"),e.className&&(e.dialogClass+=" "+e.className),e.buttons||(e.buttons={}),e.width||(e.width=320),e.height||(e.height="auto"),e.animate||(e.animate=!0),e.transition||(e.transition="slideInDown"),e.transitionSpeed||(e.transitionSpeed="default"),t.dialogClose(),t.els.dialog.append(e.msg).dialog(e),t.els.dialogForm=t.els.dialog.parent(),$(t.els.dialogForm).center(),e.animate?app.global.animate(t.els.dialogForm,e.transition,e.transitionSpeed,function(){e.openCB&&e.openCB()}):e.openCB&&e.openCB(),t.els.dialogForm},this.dialogClose=function(){t.els.dialog.hasClass("ui-dialog-content")&&t.els.dialog.empty().dialog("close")},this.addToHomescreen=function(){var t="addToHomescreen";addToHomescreen({debug:"dev"==app.config.env?!0:!1,startDelay:0,onAdd:function(){app.ls.setItem(t,!0)}})},this.dialogConfirm=function(e){e||(e={}),e.msg||(e.msg="Would you like to save?"),e.yesBtn||(e.yesBtn="Yes"),e.noBtn||(e.noBtn="No"),e.error||(e.error=!1),e.title||(e.hideTitle=!0),dialogParams={msg:e.msg,buttons:{save:{text:e.yesBtn,"class":"width_50 right",click:function(){e.saveCallback&&e.saveCallback(),t.els.dialog.dialog("option","error")||(t.dialogClose(),e.saveCloseCallback&&e.saveCloseCallback())}},cancel:{text:e.noBtn,"class":"width_50 left",click:function(){e.cancelCallback&&e.cancelCallback(),t.dialogClose(),e.cancelCloseCallback&&e.cancelCloseCallback()}}}},$.extend(e,dialogParams),app.global.dialog(e)},this.dialogToggleError=function(e){e||(e={}),e.error||(e.error=!1),t.els.dialog&&t.els.dialog.dialog("option","error",e.error)},this.animate=function(t,e,i,n){return $(t)?(e||(e="bounce"),i&&"default"!=i||(i="animated_0_5"),"fast"==i&&(i="animated_0_2"),"slow"==i&&(i="animated"),console.log("Animate:",e,i),$(t).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(t).removeClass(i).removeClass(e),n&&n()}).addClass(e).addClass(i),void 0):!1},this.inputToggleError=function(t,e){$(t).hasClass("input-group")||(t=$(t).parents(".input-group").first()),$(t)[e?"addClass":"removeClass"]("has-error")},this.alert=function(e){e||(e={});var i=t.els.alert,n=e.icon?$.tmpl(app.templates.icon,{classes:"fa-lg fa-white",icon:e.icon}):"",a=e.msg?$("<span>"+e.msg+"</span>"):"",s="bounceIn",o="bounceOut",r="default";i.empty().append(n).append(a).center().show(),app.global.animate(i,s,r,function(){setTimeout(function(){app.global.animate(i,o,r,function(){i.hide(),e.cb&&e.cb()})},250)})}},app.ajax=new function(){_ajax=this,this.queue=[],this.queueStorageId="ajaxQueue",this.init=function(){$.ajaxSetup({beforeSend:_ajax.ajaxBeforeSend,complete:_ajax.ajaxComplete,error:_ajax.ajaxError}),app.ls.getItem(_ajax.queueStorageId)&&(_ajax.queue=app.ls.getItem(_ajax.queueStorageId))},this.cleanUrl=function(t){var e=app.global.getUrlParameter(t,"service");return-1!=t.indexOf("?")&&(t=t.slice(0,t.indexOf("?"))),e&&(t=t+"?service="+e),t},this.ajaxBeforeSend=function(t,e){if($(document).overlay({show:!0,id:"ajax"}),e&&e.url){var i=_ajax.cleanUrl(e.url);app.timer.startTimer(i)}},this.ajaxComplete=function(t,e){var i=_ajax.cleanUrl(this.url);_ajax.ajaxResponseLog(t),_ajax.trackRequest(e,i),$(document).overlay({show:!1,id:"ajax"}),app.timer.endTimer(i)},this.ajaxError=function(){$(document).overlay({show:!0,delay:2e3,msg:"Sorry, there was an error!"})},this.addToQueue=function(t){_ajax.queue.push(t),app.ls.setItem(_ajax.queueStorageId,_ajax.queue)},this.trackRequest=function(t,e){app.gtrack.track_event("app:ajax",t,e)},this.ajaxResponseLog=function(t){try{if(t&&t.responseText){var e=$.parseJSON(t.responseText);console.log("Response:",e)}}catch(t){console.log("Response: ERROR")}}},app.header=new function(){var t=this;this.els={},this.data={scrollDelta:5,scrolled:!1,hasShadow:!1,currScroll:0,lastScroll:0},this.templates={backText:'<span class="text-shadow"></span>',backWrapper:'<div class="back-btn-wrapper left pointer"></div>',searchWrapper:'<div class="search-wrapper"></div>',searchField:'<div class="input-group input-group"></div>',iconWrapper:'<span class="input-group-addon"></span>',inputSearch:'<input id="test" type="text" class="form-control" placeholder="Search for user">',userField:'<div class="userField"></div>',userImg:'<img class="userImg" src="${image}sz=30">',userName:'<div class="userName text-shadow">${name}</div>'},this.template_data={logoWrapper:{classes:"left logo-wrapper text-shadow"},logoIcon:{icon:"comments-o",classes:"header__logo-icon",gtAct:"logo"},backBtnIcon:{icon:"chevron-left",classes:"fa-lg header__back-icon",gtAct:"back"},iconSearch:{icon:"search",gtAct:"search:go"},iconCancel:{icon:"times-circle",gtAct:"search:cancel"},iconUser:{classes:"pointer header__user",icon:"user",gtAct:"signout"},helpWrapper:{classes:"right text-shadow help-wrapper"},help:{classes:"pointer header__help",icon:"question-circle",gtAct:"help"},signup:{classes:"header__sign-up-btn",input:"Sign Up"}},this.init=function(){t.getEls(),t.scroll()},this.getEls=function(){t.els={parent:$("#header-fields"),header:$("header")}},this.scroll=function(){$(window).scroll(function(){t.data.scrolled=!0}),setInterval(function(){t.data.scrolled&&(t.data.scrolled=!1,t.data.currScroll=$(window).scrollTop(),Math.abs(t.data.lastScroll-t.data.currScroll)<=t.data.scrollDelta||(t.scrollHideHeader(),t.toggleShadow()))},250)},this.toggleShadow=function(){t.data.currScroll>10&&!t.data.hasShadow?(t.els.header.addClass("shadow"),t.data.hasShadow=!0):10>=t.data.currScroll&&t.data.hasShadow&&(t.els.header.removeClass("shadow"),t.data.hasShadow=!1)},this.scrollHideHeader=function(){var e=t.els.header.outerHeight();t.data.currScroll>t.data.lastScroll&&t.data.currScroll>e?t.els.header.removeClass("nav-down").addClass("nav-up"):t.data.currScroll+$(window).height()<$(document).height()&&t.els.header.removeClass("nav-up").addClass("nav-down"),t.data.lastScroll=t.data.currScroll},this.destroy=function(){t.els.hasOwnProperty("searchField")&&t.destroySearch(),t.els.parent.empty()},this.show=function(){var e="fadeInDown",i="default";app.global.animate(t.els.parent.children(),e,i,function(){EventManager.fire("header:show")})},this.toggle=function(t){"boolean"!=typeof t&&(t=!0),$("header")[t?"show":"hide"]()},this.addBackButton=function(){var e=$.tmpl(t.templates.backWrapper,{}),i=$.tmpl(t.templates.backText,{}),n=$.tmpl(app.templates.svg,t.template_data.backBtnIcon);$(e).append(n).append(i).click(app.controller.prevSlide),t.els.parent.empty().append(e).show()},this.addLogo=function(){var e=$.tmpl(app.templates.div,t.template_data.logoWrapper),i=$.tmpl(app.templates.svg,t.template_data.logoIcon);e.append(i),t.els.parent.append(e)},this.addSignUpButton=function(){var e=$.tmpl(app.templates.div,t.template_data.signup);t.els.parent.append(e),e.click(function(){window.location.href="/signup"})},this.addHelp=function(){var e=$.tmpl(app.templates.div,t.template_data.helpWrapper),i=$.tmpl(app.templates.svg,t.template_data.help),n=$.tmpl(t.templates.userName,{name:"Help!"});e.append(i).append(n),t.els.parent.append(e),e.click(function(){app.email.init({placeholder:"I had the following issue ...",subject:"Error Email",to:!1,api:"backend/backend/_services.php?service=helpEmail"})})},this.addUserField=function(){var e=app.login.getLoggedInStatus(),i=$.tmpl(t.templates.userField),n=$.tmpl(t.templates.userName),a=$.tmpl(app.templates.svg,t.template_data.iconUser);$(i).append($(a)).append($(n)),t.addField($(i)),t.els.userField=$(i),t.els.userImg=$(a),t.els.userName=$(n),EventManager.observe("logout",t.toggleUser),EventManager.observe("login",t.toggleUser),t.els.userField.click(function(){var t=app.login.getLoggedInStatus();app.login[t?"showLogout":"loginDialog"]()}),e?t.userLoggedIn():t.userLoggedOut()},this.toggleUser=function(){app.global.animate(t.els.userField,"flipOutY",null,function(){var e=app.login.getLoggedInStatus();app.header[e?"userLoggedIn":"userLoggedOut"](),app.global.animate(t.els.userField,"flipInY")})},this.userLoggedOut=function(){t.els.userName.text("Login")},this.userLoggedIn=function(){t.els.userName.text(app.data.user.name)},this.addSearch=function(e){t.els.searchField=e,t.addField(e),app.global.els.body.addClass("hasSearchField")},this.destroySearch=function(){t.els.searchField.remove(),delete t.els.searchField,app.global.els.body.removeClass("hasSearchField"),$(document).unbind("scroll.search")},this.addField=function(e){t.els.parent.append(e).show()}},app.gtrack=new function(){_gtrack=this,this.trackable_tags=["a","input","button","i","textarea","select"],this.category=null,this.init=function(){_gtrack.category=_gtrack.pageCategory(),$.each(_gtrack.trackable_tags,function(t,e){$(document.body).on("click",e,function(t){var i=$(t.currentTarget).closest(e)[0];_gtrack.click(i)})}),ga("create","UA-56217002-1","auto"),ga("send","pageview")},this.click=function(t){var e=$(t).attr("data-action"),i=$(t).attr("data-label"),n=null;_gtrack.elCategory(t)&&(n=_gtrack.elCategory(t)),e||(e=$(t).prop("tagName").toLowerCase()),e="click:"+e,_gtrack.track_event(n,e,i)},this.pageCategory=function(){var t=window.location.pathname.replace(/\//g,"");return t?t:"app"},this.elCategory=function(t){try{for(var e=0,i=99;t!=document&&i>e;){var n=$(t).parents();if(n.attr("data-category"))return n.attr("data-category");t=n,e++}return null}catch(a){return null}},this.track_event=function(t,e,i){t=void 0!==t&&t?_gtrack.category+"/"+t:_gtrack.category,void 0!==e&&e||(e=""),void 0!==i&&i||(i=""),"undefined"!=typeof ga&&"dev"!=app.config.env?ga("send","event",t,e,i):console.log("GA Event:",t,e,i)}},app.controller=new function(){_controller=this,this.firstScreen=null,this.screenListOrder=[],this.subScreen=null,this.animate={speed:"default","in":"slideInLeft",out:"slideOutRight"},this.init=function(){_controller.firstScreen=$("body").attr("data-firstScreen")},this.loadFirstScreen=function(){var t=app[_controller.firstScreen];_controller.screenListOrder=[],_controller.screenListOrder.push(t),t.init(),EventManager.fire("loadFirstScreen")},this.nextSlide=function(t){var e=_controller.currSlide();_controller.screenListOrder.push(t),_controller.slideTransfer(e,t)},this.prevSlide=function(){var t=_controller.currSlide();_controller.screenListOrder.pop();var e=_controller.currSlide();_controller.slideTransfer(t,e)},this.currSlide=function(){return _controller.screenListOrder[_controller.screenListOrder.length-1]},this.slideTransfer=function(t){app.header.destroy(_controller.animate.out,_controller.animate.speed),$(document).overlay({show:!0}),app.global.animate(t.els.parent,_controller.animate.out,_controller.animate.speed,function(){t.els.parent&&t.els.parent.empty(),t.els={},_controller.showSlide(),$(document).overlay({show:!1})})},this.showSlide=function(){var t=_controller.currSlide();t.els.parent&&t.els.parent.empty(),window.scrollTo(0,0),$.when(t.init()).done(function(){app.header.show(_controller.animate.in,_controller.animate.speed),app.global.animate(t.els.parent,_controller.animate.in,_controller.animate.speed,function(){})})}},app.libs=new function(){_libs=this,this.loaded=[],this.init=function(){EventManager.observe("lib:loaded",this.libLoaded)},this.libLoaded=function(t){t||(t={}),t.lib||(t.lib=""),_libs.loaded.push(t.lib),EventManager.fire(t.lib+":loaded")},this.isLoaded=function(t){return $.inArray(t,_libs.loaded)>=0?!0:!1},this.waitForLib=function(t){t||(t={}),t.lib||(t.lib=""),t.cbParams||(t.cbParams={}),_libs.isLoaded(t.lib)?t.cb&&t.cb(t.cbParams):($(document).overlay({show:!0}),EventManager.observe_once(t.lib+":loaded",function(){$(document).overlay({show:!1}),t.cb&&t.cb(t.cbParams)}))}},app.templates={svg:'<span class="${classes}"><svg role="img" viewBox="0 0 1792 1792"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#${icon}"></use></svg></span>',input:'<input data-regex="${regex}" data-action="${gtAct}" name="${name}" value="${value}" data-field="${dbId}" data-valid="${validLength}" type="${inputType}" class="form-control ${classes}" placeholder="${placeholder}" data-mask="${mask}">',textarea:'<textarea data-action="${gtAct}" data-field="${dbId}" data-valid="${validLength}" class="form-control ${classes}" placeholder="${placeholder}">${value}</textarea>',select:'<select data-action="${gtAct}" data-field="${dbId}" class="form-control ${classes}" data-valid="true"></select>',option:'<option data-action="${gtAct}" value="${key}" data-field="${dbId}" ${disabled} ${selected}>${value}</option>',multi:'<div data-type="MULTI" data-field="${dbId}" class="form-control multi" data-valid="${validLength}" ></div>',multi_option:'<input data-action="${gtAct}" type="checkbox" name="${key}" id="${key}"><label class="col-xs-12 col-sm-6 col-md-6 col" for="${key}">${value}</label>',field_wrapper:'		<div class="input-group input-group-lg ${classes}">			<span class="input-group-addon">				<span class="${classes}">					<svg role="img" viewBox="0 0 1792 1792">						<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#${icon}"></use>					</svg>				</span>			</span>		</div>',field:'<div class="input-group input-group-lg ${classes}"></div>',field_addon:'		<span class="input-group-addon">			<span class="${classes}">				<svg role="img" viewBox="0 0 1792 1792">					<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#${icon}"></use>				</svg>			</span>		</span>	',button:'		<button data-action="${text}" class="btn ${color} ${btnSize} ${classes} ${acls}">			<svg role="img" viewBox="0 0 1792 1792">				<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#${icon}"></use>			</svg>			<span class="button-text">${text}</span>		</button>',icon:'<span class="${classes}" data-action="${gtAct}" >					<svg role="img" viewBox="0 0 1792 1792">						<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#${icon}"></use>					</svg>				 </span>',hr:"<hr>",span:'<span class="${classes}">${text}</span>',h1:'<h1 class="${classes}">${text}</h1>',h2:'<h2 class="${classes}">${text}</h2>',h3:'<h3 class="${classes}">${text}</h3>',div:'<div data-category="${gtCat}" class="${classes}">${input}</div>',anchor:'<a href="${a}" target="_blank">${content}</a>',alert:'<div class="alert alert-danger" role="alert">${text}</div>',badge:'<span class="badge ${classes}">${text}</span>',listGroup:'<div class="list-group ${classes}"></div>',listItem:'<a href="#" class="list-group-item"></a>',js:'<script type="text/javascript" src="${src}"></script>',css:'<link rel="stylesheet" type="text/css" href="${src}" />',jumbo:'<div class="jumbotron"></div>'},app.acl=new function(){_acl=this,this.acls=["loggedIn","loggedOut","admin","coach","counselor","connect","upload"],this.can=[],this.add=function(t){_acl.can.push(t),app.global.els.body.addClass("acl-can-"+t)},this.remove=function(t){_acl.can=$.grep(_acl.can,function(e){return e!=t}),app.global.els.body.removeClass("acl-can-"+t)},this.has=function(t){return $.inArray(t,_acl.can)>=0?!0:!1}},app.login=new function(){_login=this,this.els={},this.apis={userLogin:"backend/_services.php?service=userLogin",pwUpdate:"backend/_services.php?service=pwUpdate",resetPassword:"backend/_services.php?service=resetPassword",userLogout:"backend/_services.php?service=userLogout",students:"backend/_services.php?service=connectedStudents"},this.template_data={dialog:{classes:"login_dialog",gtCat:"login-dialog"},fields:{email:{name:"email",type:"input",inputType:"text",placeholder:"email@address.com",mask:null,dbId:"email",validLength:5,gtAct:"email-address"},email_wrapper:{icon:"envelope-o",classes:"marginBottom10"},password:{type:"input",inputType:"password",placeholder:"password",mask:null,dbId:"password",validLength:4,gtAct:"password"},resetPassword:{type:"input",inputType:"password",placeholder:"password",mask:null,dbId:"password",validLength:4,gtAct:"password",regex:"^(?=.*[0-9]).{5}"},password_wrapper:{icon:"lock",classes:"marginBottom10"},resetPassword_wrapper:{icon:"lock",classes:"marginBottom10"}},login:{alert:{text:"Invalid Login!"},btns:{login:{color:"btn-success",btnSize:"btn-lg",text:"Sign In",cb:function(){_login.signIn()}},forgot:{color:"btn-link",text:"Forgot Password",cb:function(){_login.pwResetDialog()}}}},pwUpdate:{alert:{text:"Error!"},msg:{text:"Update Password",classes:"center marginBottom10"},details:{text:"We require a password that is 5 characters long and includes 1 number.",classes:"alert alert-danger shadow"},btns:{reset:{color:"btn-success",btnSize:"btn-lg",classes:"marginBottom10",iconSize:"fa-lg",text:"Update Password",cb:function(){_login.pwUpdate()}}}},pwReset:{alert:{text:"User Not Found!"},msg:{text:"We will email you a new password.",classes:"center marginBottom10"},btns:{btn:{color:"btn-success",btnSize:"btn-lg",classes:"marginBottom10",iconSize:"fa-lg",text:"Reset Password",cb:function(){_login.pwReset()}},forgot:{color:"btn-link",text:"Cancel",cb:function(){_login.loginDialog()}}}}},this.init=function(){_login.getEls(),_login.setAcls(),_login.getLoggedInStatus()?_login.exit():(_login.getLastUser(),app.config.isMobile?_login.loginDialog():app.login.els.loginBtn.click(_login.loginDialog))},this.getEls=function(){_login.els={parent:$("#user-login"),loginBtn:$(".header__sign-up-btn")}},this.setupHeader=function(){app.header.destroy(),app.header.addLogo(),app.header.addSignUpButton()},this.getLastUser=function(){try{var t=app.ls.getItem("lastUser");t&&(_login.template_data.fields.email.value=t)}catch(e){}},this.exit=function(){_login.hasConnectedStudents()||_login.getConnectedStudents(),_login.setAcls(),app.global.dialogClose(),app.controller.nextSlide(app.menu)},this.hasConnectedStudents=function(){return _login.getLoggedInStatus()?app.data.user.students?!0:!1:!1},this.getConnectedStudents=function(){$.ajax({type:"POST",url:_login.apis.students}).done(function(t){var e=$.parseJSON(t);e.students&&(app.data.user.students=_login.sortStudents(e.students),_login.saveUserData())})},this.sortStudents=function(t){return t.sort(function(t,e){var i=t.fname.toLowerCase(),n=e.fname.toLowerCase();return n>i?-1:i>n?1:0}),t},this.logOut=function(){_login.clearUserData(),location.reload(),EventManager.fire("logout")},this.loggedIn=function(t){app.data.user=t,app.data.lastUser=t.email,_login.saveUserData()},this.saveUserData=function(){app.ss.setItem("user",app.data.user),app.ls.setItem("lastUser",app.data.lastUser)},this.getUserData=function(){return app.ss.getItem("user")},this.clearUserData=function(){app.ss.removeItem("user"),delete app.data.user,_login.setAcls()},this.getLoggedInStatus=function(){if(app.data.user)return!0;var t=_login.getUserData();return t?(app.data.user=t,!0):!1},this.setAcls=function(){_login.getLoggedInStatus()?("1"==app.data.user.admin&&app.acl.add("admin"),"1"==app.data.user.coach&&app.acl.add("coach"),"1"==app.data.user.counselor&&app.acl.add("counselor"),"1"==app.data.user.captain&&app.acl.add("captain"),"1"==app.data.user.connect&&app.acl.add("connect"),"1"==app.data.user.upload&&app.acl.add("upload"),app.acl.add("loggedIn"),app.acl.remove("loggedOut")):(app.acl.remove("admin"),app.acl.remove("coach"),app.acl.remove("counselor"),app.acl.remove("captain"),app.acl.remove("connect"),app.acl.remove("upload"),app.acl.remove("loggedIn"),app.acl.add("loggedOut"))},this.toggleAlert=function(t){t||(t=!1),_login.els.alert[t?"show":"hide"](),t&&app.global.animate(_login.els.parent,"tada")},this.validateFields=function(){var t=_login.els.parent.find("[data-valid]");return app.fieldController.validateFields(t)},this.getFieldData=function(){var t={};return $("[data-field]:visible").each(function(){var e=$(this).attr("data-field"),i=$(this).val();e&&i&&(t[e]=i)}),t},this.dialogBuilder=function(t){var e=t.type,i=_login.template_data,n=i[e],a=$.tmpl(app.templates.div,i.dialog),s=$.tmpl(app.templates.alert,n.alert),o=$.tmpl(app.templates.hr),r=$.tmpl(app.templates.h2,n.details),l=0==_login.els.parent.children().length?!0:!1;if(n.msg){var c=$.tmpl(app.templates.h2,n.msg);$(a).append(c),$(a).append(o.clone())}n.details&&$(a).append(r).append(o.clone()),$(a).append(s),_login.els.alert=$(s),_login.toggleAlert();var h=t.fields,u=i.fields;$.each(h,function(t,e){var i=app.fieldController.createField(u[e]),n=u[e].validLength,s=app.fieldController.createFieldWrapper(u[e+"_wrapper"]);$(s).prepend(i),$(a).append(s),n&&($(i).keyup(function(){_login.validField({field:$(this),wrapper:$(s),minLength:n})}),$(i).trigger("keyup"))}),app.config.isMobile&&$(a).append(o.clone());var d=n.btns;$.each(d,function(t,e){_login.els[t]=$.tmpl(app.templates.button,e),e.cb&&$(_login.els[t]).click(e.cb),$(a).append(_login.els[t])}),_login.els.loginWrapper=$(a),_login.els.parent.empty().append(_login.els.loginWrapper),app.config.isMobile?l||app.global.animate(_login.els.loginWrapper,"slideInLeft"):app.global.dialog({msg:_login.els.loginWrapper,animate:!0,title:" ",width:400,transition:"slideInDown"}),setTimeout(function(){var t=_login.els.loginWrapper.find('input[value=""]')[0];$(t).focus()},100),t.submit&&_login.els.loginWrapper.keyup(function(e){"13"==e.keyCode&&_login.els[t.submit].click()})},this.validField=function(t){var e=$(t.field).val().length,i=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;$(t.wrapper).removeClass("valid-field").removeClass("invalid-field"),e>=t.minLength?$(t.wrapper).addClass("valid-field"):"email"==$(t.field).attr("data-field")?i.test($(t.field).val())&&$(t.wrapper).addClass("invalid-field"):e>0&&$(t.wrapper).addClass("invalid-field")},this.loginDialog=function(){_login.dialogBuilder({type:"login",fields:["email","password"],submit:"login"})},this.signIn=function(){if(!_login.validateFields())return!1;var t=_login.getFieldData();_login.toggleAlert(),$.ajax({type:"POST",url:_login.apis.userLogin,data:t}).done(function(t){var e=$.parseJSON(t);if("true"==e.success){var i=e.user;_login.loggedIn(i),"0"==i.pwReset?_login.pwUpdateDialog():_login.exit()}else _login.toggleAlert(!0)})},this.pwUpdateDialog=function(){_login.dialogBuilder({type:"pwUpdate",fields:["resetPassword"],submit:"reset"})},this.pwUpdate=function(){if(!_login.validateFields())return!1;var t=_login.getFieldData();t.id=app.data.user.id,$.ajax({type:"POST",url:_login.apis.pwUpdate,data:t,offline:!1}).done(function(t){var e=$.parseJSON(t);"true"==e.success?_login.exit():_login.toggleAlert(!0)})},this.pwResetDialog=function(){_login.dialogBuilder({type:"pwReset",fields:["email"],submit:"btn"})},this.pwReset=function(){if(!_login.validateFields())return!1;var t=_login.getFieldData();$.ajax({type:"POST",url:_login.apis.resetPassword,data:t,offline:!1}).done(function(t){var e=$.parseJSON(t);
"true"==e.success?app.global.alert({msg:"Emailed New Password",icon:"check-circle",cb:_login.loginDialog}):_login.toggleAlert(!0)})},this.showLogout=function(){app.global.dialogConfirm({animate:!0,msg:"Would you like to log out?",yesBtn:"Log Out",noBtn:"Cancel",saveCallback:function(){$.ajax({url:_login.apis.userLogout}).always(function(){_login.logOut()})}})}},app.menu=new function(){_menu=this,this.els={},this.template_data={panel:{classes:"panel panel-default"},panelBody:{classes:"panel-body"},toolsPanelHead:{classes:"panel-heading center",input:"Tools"},actionsPanelHead:{classes:"panel-heading center",input:"Actions"},"export":{color:"btn-success",btnSize:"btn-lg",classes:"marginBottom10",acls:"",text:"MEETING NOTES",href:"/export",iconR:"fa-angle-right",iconSize:"fa-lg"},upload:{color:"btn-success",btnSize:"btn-lg",classes:"marginBottom10",acls:"acl-upload",text:"UPLOAD USERS",href:"/upload",iconR:"fa-angle-right",iconSize:"fa-lg"},connect:{color:"btn-success",btnSize:"btn-lg",classes:"marginBottom10",acls:"acl-connect",text:"ADD CONNECTION",href:"connect/",iconR:"fa-angle-right",iconSize:"fa-lg"},studentEdit:{color:"btn-success",btnSize:"btn-lg",classes:"marginBottom10",acls:"",text:"MY STUDENTS",iconR:"fa-angle-right",iconSize:"fa-lg"},eventAdd:{color:"btn-primary",btnSize:"btn-lg",classes:"marginBottom10",acls:"",text:"I MET WITH A STUDENT",iconR:"fa-angle-right",iconSize:"fa-lg"},emailBlast:{color:"btn-primary",btnSize:"btn-lg",classes:"marginBottom10",acls:"",text:"EMAIL BLAST",iconR:"fa-angle-right",iconSize:"fa-lg"},scheduleAdd:{color:"btn-primary",btnSize:"btn-lg",classes:"marginBottom10",acls:"hidden",text:"SCHEDULE FOLLOW UP",iconR:"fa-angle-right",iconSize:"fa-lg"},scheduleList:{color:"btn-primary",btnSize:"btn-lg",classes:"marginBottom10",acls:"hidden",text:"UPCOMING MEETINGS",iconR:"fa-angle-right",iconSize:"fa-lg"},offlineInfoBtn:{text:"Learn More",color:"btn-warning",classes:"width_50 shadow"},offLineMsg:{text:"You have unsaved data!"}},this.init=function(){_menu.getEls(),_menu.setupHeader(),_menu.addButtons(),_menu.addAdminButtons()},this.getEls=function(){_menu.els={parent:$("div#home-screen")}},this.setupHeader=function(){app.header.addLogo(),app.header.addUserField(),app.header.addHelp()},this.addButtons=function(){var t=["eventAdd","emailBlast"],e=$.tmpl(app.templates.div,_menu.template_data.panel),i=$.tmpl(app.templates.div,_menu.template_data.actionsPanelHead),n=$.tmpl(app.templates.div,_menu.template_data.panelBody);e.append(i).append(n),_menu.els.parent.append(e),$.each(t,function(t,e){var i=$.tmpl(app.templates.button,_menu.template_data[e]);n.append(i),i.click(function(){app.controller.nextSlide(app[e])})})},this.addAdminButtons=function(){var t=app.config.isMobile?["studentEdit","export"]:["studentEdit","export","upload","connect"],e=$.tmpl(app.templates.div,_menu.template_data.panel),i=$.tmpl(app.templates.div,_menu.template_data.toolsPanelHead),n=$.tmpl(app.templates.div,_menu.template_data.panelBody);e.append(i).append(n),_menu.els.parent.append(e),$.each(t,function(t,e){var i=_menu.template_data[e],a=$.tmpl(app.templates.button,i);n.append(a),a.click(function(){if(i.href){var t=i.href+"?user="+app.data.user.id;window.open(t,"_self")}else app.controller.nextSlide(app[e])})})}},app.signature=new function(){var t=this;this.els={},this.data={},this.templates={signatureWrapper:'<div class="signatureWrapper"></div>',btnWrapper:'<div class="btnWrapper"></div>'},this.template_data={confirmBtn:{color:"btn-success",btnSize:"btn-lg",classes:"width_50 left",iconSize:"fa-lg",text:"SAVE"},cancelBtn:{color:"btn-danger width_50",btnSize:"btn-lg",classes:"width_50 right",iconSize:"fa-lg",text:"Cancel"}},this.init=function(){t.getEls(),t.els.parent.empty(),t.addSignature(),t.open()},this.getEls=function(){t.els={parent:$("div#event-signature")}},this.open=function(){t.data.scrollPos=$(window).scrollTop(),window.scrollTo(0,0),app.global.dialogConfirm({msg:t.els.signatureWrapper,height:$(window).height()/2,width:$(window).width(),className:"signatureDialog",modal:!0,animate:!0,transition:"slideInUp",transitionSpeed:"fast",position:{my:"top",at:"top",of:window},yesBtn:"Save",noBtn:"Cancel",cancelCallback:t.exit,saveCallback:t.getSignature,openCB:function(){app.global.toggleScroll(!1)}})},this.addSignature=function(){var e=$.tmpl(t.templates.signatureWrapper);t.els.parent.append(e),t.els.signatureWrapper=$(e),t.els.signatureWrapper.signature({guideline:!0}),$(window).bind("resize.resetSignature",t.resetSignature)},this.resetSignature=function(){clearTimeout(t.data.resizeTimer),t.data.resizeTimer=setTimeout(function(){$(window).unbind("resize.resetSignature"),t.init()},250)},this.getSignature=function(){var e=app.signature.els.signatureWrapper.find("canvas")[0],i=new Image;i.src=e.toDataURL(),i.className="imgSignature",EventManager.fire("signature.complete",i),t.exit()},this.exit=function(){$(window).unbind("resize.resetSignature"),app.global.toggleScroll(),window.scrollTo(0,t.data.scrollPos),app.global.dialogClose()}},app.studentSearch=new function(){var t=this;this.data,this.els={},this.templates={searchWrapper:'<div data-category="student-search" class="search-wrapper"></div>',searchField:'<div class="input-group input-group-lg"></div>',iconWrapper:'<span class="input-group-addon"></span>'},this.template_data={dirIcon:{icon:"angle-right",classes:"fa-2x right dirIcon"},iconSearch:{icon:"search",classes:"fa-2x"},iconCancel:{icon:"times-circle",classes:"fa-2x"},iconUser:{icon:"user",classes:"fa-2x"},inputSearch:{type:"input",inputType:"text",placeholder:"Search for user",mask:null,gtAct:"search-field"}},this.init=function(){app.libs.waitForLib({lib:"jqueryui",cb:t.waitForStudents})},this.waitForStudents=function(){_login.hasConnectedStudents()?(t.getEls(),t.addStudentSearch()):setTimeout(function(){t.init()},250)},this.addStudentSearch=function(){t.buildSearchUI(),t.buildStudentList(),t.searchUser()},this.getEls=function(){t.els.parent=$("#student-search")},this.buildSearchUI=function(){var e=$.tmpl(t.templates.searchWrapper,{});searchField=$.tmpl(t.templates.searchField,{}),iconWrapper=$.tmpl(t.templates.iconWrapper,{}),iconSearch=$.tmpl(app.templates.svg,t.template_data.iconSearch),iconCancel=$.tmpl(app.templates.svg,t.template_data.iconCancel),iconUser=$.tmpl(app.templates.svg,t.template_data.iconUser),inputSearch=app.fieldController.createField(t.template_data.inputSearch),$(iconWrapper).append(iconSearch).append(iconCancel).append(iconUser),$(searchField).append(iconWrapper).append(inputSearch),$(e).append(searchField),t.els.searchWrapper=$(e),t.els.inputSearch=$(inputSearch),t.els.iconSearch=$(iconSearch),t.els.iconCancel=$(iconCancel),t.els.iconUser=$(iconUser),app.header.addSearch(t.els.searchWrapper),t.els.inputSearch.focus()},this.buildStudentList=function(){var e=$.tmpl(app.templates.listGroup,{classes:"studentList"}),i=app.data.user.students;t.els.studentListEL=e,$.each(i,function(i,n){if(n.id&&n.fname&&n.lname){var a=$.tmpl(app.templates.listItem),s=["email","phone"],o=$.tmpl(app.templates.h3,{text:n.fname+" "+n.lname}),r=$.tmpl(app.templates.svg,t.template_data.dirIcon);a.attr("data-id",n.id).append(r).append(o),$.each(s,function(t,e){if(n[e]){var i=$.tmpl(app.templates.div,{input:n[e],classes:"student-info"});a.append(i)}}),e.append(a),a.click({studentEl:a,student:n},t.studentSelect)}}),t.els.studentListEL=e,_controller.currSlide().els.parent.append(e)},this.studentSelect=function(e){if(!e||!e.data)return!1;var i=e.data,n=i.studentEl,a=i.student;t.toggleSearchResults({visibleIds:[a.id]}),setTimeout(function(){t.els.inputSearch.val(a.fname+" "+a.lname),t.searchIcon("user"),app.global.animate(t.els.inputSearch,"pulse","default"),n.hide(),t.getUserData({id:a.id})},250),app.gtrack.track_event("app:student-search","click:student-click")},this.searchIcon=function(e){t.els.iconSearch.toggle("search"==e?!0:!1),t.els.iconCancel.toggle("clear"==e?!0:!1),t.els.iconUser.toggle("user"==e?!0:!1)},this.createSearchData=function(t){var e=[];return $.each(t,function(t,i){i.id&&i.fname&&i.lname&&e.push({value:i.id,label:i.fname+" "+i.lname})}),e},this.searchUser=function(){var e=t.createSearchData(app.data.user.students);t.els.inputSearch.keyup(function(e){var i=(e.keyCode,$(this).val().length);i>0?t.searchIcon("clear"):(t.toggleSearchResults({reset:!0}),t.searchIcon("search"))}).autocomplete({minLength:1,source:e,delay:250,response:function(e,i){if(i.content){var n=$.map(i.content,function(t){return t.value});t.toggleSearchResults({visibleIds:n})}t.els.inputSearch.autocomplete("close")}}),t.els.iconCancel.click(function(){t.searchIcon("search"),t.els.inputSearch.val("").trigger("keyup")}),t.searchIcon("search"),t.els.searchWrapper.show()},this.toggleSearchResults=function(e){e||(e={}),e.reset||(e.reset=!1),e.visibleIds||(e.visibleIds=[]);var i=t.els.studentListEL.find(".list-group-item:visible"),n=e.visibleIds;if(e.reset){var a=t.els.studentListEL.find(".list-group-item");$(a).show()}else if(n.length>i.length){var s=t.els.studentListEL.find(".list-group-item:hidden");$.each(s,function(t,e){var i=$(e).attr("data-id");$.inArray(i,n)>=0&&$(e).show()})}else i.length>0&&n.length!=i.length&&($.each(i,function(t,e){var i=$(e).attr("data-id");-1==$.inArray(i,n)&&$(e).hide()}),app.gtrack.track_event("app:student-search","updated-search-results"))},this.getUserData=function(e){var i=app.data.user.students,n=e.id;$.each(i,function(e,i){return n==i.id?(t.destroy(),t.selectedStudent=i,_controller.currSlide().userSelected&&_controller.currSlide().userSelected(),!1):void 0})},this.destroy=function(){t.els.inputSearch.autocomplete("destroy").attr("disabled","disabled"),t.els.studentListEL.remove()}},app.studentEdit=new function(){var t=this;this.user=null,this.els={},this.template_data={editBtn:{icon:"pencil",classes:""},cancelBtn:{icon:"times",classes:""},saveBtn:{icon:"floppy-o",classes:""}},this.init=function(){t.getEls(),t.setupHeader()},this.getEls=function(){t.els={parent:$("div#user-screen")}},this.setupHeader=function(){app.header.addBackButton(),app.header.addUserField(),app.studentSearch.init()},this.userSelected=function(){t.user=app.studentSearch.selectedStudent,t.els.parent.empty(),t.addFields()},this.addUserImage=function(){app.imageAdd.addUserImage({user:t.user,appendTo:t.els.parent,uploadCb:t.saveUserImage})},this.addFields=function(){var e=app.fieldController.getFields(app.fieldsStudent);t.els.userFields=[],$.each(e,function(e,i){i.value=t.user[e];var n=$.tmpl(app.templates.field,{classes:i.dbId}),a=$.tmpl(app.templates.field_addon,t.template_data.editBtn),s=$.tmpl(app.templates.field_addon,t.template_data.cancelBtn),o=$.tmpl(app.templates.field_addon,t.template_data.saveBtn),r=app.fieldController.createField(i);$(n).append(r).append(s).append(o).append(a),t.els.parent.append(n),$(r).attr("disabled","disabled"),$(o).hide(),$(s).hide();var l=t.els.userFields.length;t.els.userFields.push({key:e,userField:$(n),field:$(r),placeholder:i.placeholder,cancelBtn:$(s),saveBtn:$(o),editBtn:$(a),value:t.user[e],mask:i.mask,editMode:!1,validLength:i.validLength}),$(a).click({index:l,editMode:!0},t.toggleFieldBtns),$(s).click({index:l,editMode:!1},t.toggleFieldBtns),$(o).click({index:l},t.updateField)})},this.updateField=function(e){var i=e.data,n=t.els.userFields[i.index],a=n.field.val();if(n.validLength>a||3>a)return n.userField.addClass("has-error"),n.field.focus(),!1;n.userField.removeClass("has-error");var s={id:t.user.id,field:n.key,value:a};app.global.dialogConfirm({msg:"Update to "+s.value+"?",saveCallback:function(){$.ajax({type:"POST",url:"backend/_services.php?service=studentEdit",data:s,dataType:"json",offline:!0}).always(function(){app.global.alert({msg:"Saved",icon:"check-circle"}),n.value=a,t.user[n.key]=a,t.disableField(n),app.login.saveUserData()})}})},this.disableField=function(t){t.userField.removeClass("has-error"),$(t.editBtn).show(),$(t.saveBtn).hide(),$(t.cancelBtn).hide(),$(t.field).unmask().val(t.value).attr("disabled","disabled"),t.editMode=!1},this.enableField=function(t){$(t.editBtn).hide(),$(t.saveBtn).show(),$(t.cancelBtn).show(),$(t.field).removeAttr("disabled").val("").focus(),t.mask&&$(t.field).mask(t.mask),t.editMode=!0},this.toggleFieldBtns=function(e){var i=e.data,n=i.editMode,a=t.els.userFields[i.index];n?($.each(t.els.userFields,function(e,i){i.editMode&&t.disableField(i)}),t.enableField(a)):a.editMode&&t.disableField(a)}},app.eventAdd=new function(){_eventAdd=this,this.schools,this.data={},this.els={},this.apis={saveEvent:"backend/_services.php?service=eventAdd",followConnections:"backend/_services.php?service=eventFollowupConnections",followup:"backend/_services.php?service=followup"},this.template_data={signatureBtn:{color:"btn-primary",btnSize:"btn-lg",icon:"pencil",xiconSize:"fa-lg",text:"ADD SIGNATURE",classes:"marginBottom marginTop"},saveEvent:{color:"btn-success",btnSize:"btn-lg",icon:"check-circle",iconSize:"fa-lg",text:"SAVE!",classes:"marginBottom10 marginTop saveBtn"}},this.init=function(){_eventAdd.getEls(),_eventAdd.setupHeader()},this.getEls=function(){_eventAdd.els={parent:$("div#event-add")}},this.setupHeader=function(){app.header.addBackButton(),app.header.addUserField(),app.studentSearch.init()},this.userSelected=function(){_eventAdd.addFields(),_eventAdd.getSignatureBtn(),_eventAdd.addSaveBtn()},this.addStudentImage=function(){app.imageAdd.addUserImage({user:app.studentSearch.selectedStudent,appendTo:_eventAdd.els.parent})},this.addFields=function(){var t=app.fieldController.getFields(app.fieldsEvent);$.each(t,function(t,e){var i=$.tmpl(app.templates.field_wrapper,e),n=app.fieldController.createField(e);_eventAdd.els[t]={},i.append(n),_eventAdd.els.parent.append(i),_eventAdd.els[t].wrapper=$(i),_eventAdd.els[t].field=$(n)}),app.eventAdd.els.duration.field.val("20")},this.validateFields=function(){var t=$("[data-valid]");return app.fieldController.validateFields(t)},this.addLocationOption=function(t){var e=$.tmpl(app.templates.option,{key:t.option,value:t.option});_eventAdd.els.location.field.append(e),_eventAdd.els.location.field.val(t.option),app.global.dialogClose()},this.getSignatureBtn=function(){var t=$.tmpl(app.templates.button,_eventAdd.template_data.signatureBtn);_eventAdd.els.parent.append(t),_eventAdd.els.signatureBtn=t,$(t).click(function(){app.signature.init()}),EventManager.observe("signature.complete",_eventAdd.returnSignature)},this.returnSignature=function(t){_eventAdd.els.imgSignature?$(_eventAdd.els.imgSignature).replaceWith(t):$(_eventAdd.els.signatureBtn).before(t),_eventAdd.els.imgSignature=t},this.addSaveBtn=function(){var t=$.tmpl(app.templates.button,_eventAdd.template_data.saveEvent);_eventAdd.els.parent.append($.tmpl(app.templates.hr)).append(t),_eventAdd.els.saveEvent=t,_eventAdd.els.saveEvent.click(_eventAdd.saveEvent)},this.getFieldData=function(){var t={};return t.studentid=app.studentSearch.selectedStudent.id,t.userid=app.data.user.id,$("[data-field]:visible").each(function(){var e=$(this).attr("data-field"),i=$(this).val();e&&i&&(t[e]=i)}),$.each($("[data-type='MULTI']"),function(){var e=$(this).attr("data-field"),i=$(this).find("input:checked + label");t[e]=[],$.each(i,function(i,n){t[e].push($(n).text())}),t[e]=t[e].join(";")}),_eventAdd.els.imgSignature&&(t.signature=_eventAdd.els.imgSignature.src),t},this.saveExit=function(t){var e=_eventAdd.getFieldData();t&&t.email&&(e=$.extend({},e,{followup:1})),$.ajax({type:"POST",url:_eventAdd.apis.saveEvent,data:e,dataType:"json",offline:!0}).always(function(){app.global.alert({msg:"Saved",icon:"check-circle",cb:app.controller.prevSlide})})},this.saveEvent=function(){return _eventAdd.validateFields()?app.data.user?(app.global.dialogConfirm({msg:"Would you like to save this event?",saveCloseCallback:function(){_eventAdd.saveExit()}}),void 0):(app.login.loginDialog(),!1):!1}},app.emailBlast=new function(){_emailBlast=this,this.schools,this.data={studentFields:["cbo","college"],totalFields:[]},this.els={},this.apis={saveEvent:"backend/_services.php?service=eventAdd"},this.template_data={saveEvent:{color:"btn-success",btnSize:"btn-lg",icon:"check-circle",iconSize:"fa-lg",text:"SAVE!",classes:"marginBottom10 marginTop"}},this.init=function(){_emailBlast.getEls(),_emailBlast.setupHeader(),_emailBlast.addFields(),_emailBlast.addSaveBtn()},this.getEls=function(){_emailBlast.els={parent:$("div#email-blast")}},this.setupHeader=function(){app.header.addBackButton(),app.header.addUserField()},this.getStudentGroups=function(){var t=app.data.user.students,e=_emailBlast.data.studentFields;$.each(t,function(t,i){$.each(e,function(t,e){var n=i[e];n&&-1==$.inArray(n,_emailBlast.data.totalFields)&&_emailBlast.data.totalFields.push(i[e])})}),_emailBlast.data.totalFields.sort(),_emailBlast.data.totalFields.unshift("All Students")},this.addFields=function(){var t=app.fieldController.getFields(app.fieldsEmailBlast);_emailBlast.getStudentGroups(),t.studentid.options=_emailBlast.data.totalFields,$.each(t,function(t,e){var i=$.tmpl(app.templates.field_wrapper,e),n=app.fieldController.createField(e);_emailBlast.els[t]={},i.append(n),_emailBlast.els.parent.append(i),_emailBlast.els[t].wrapper=$(i),_emailBlast.els[t].field=$(n)})},this.validateFields=function(){var t=$("[data-valid]");return app.fieldController.validateFields(t)},this.addSaveBtn=function(){var t=$.tmpl(app.templates.button,_emailBlast.template_data.saveEvent);_emailBlast.els.parent.append($.tmpl(app.templates.hr)).append(t),_emailBlast.els.saveEvent=t,_emailBlast.els.saveEvent.click(_emailBlast.saveEvent)},this.getFieldData=function(){var t={};return $("[data-field]:visible").each(function(){var e=$(this).attr("data-field"),i=$(this).val();e&&i&&(t[e]=i)}),$.each($("[data-type='MULTI']"),function(){var e=$(this).attr("data-field"),i=$(this).find("input:checked");t[e]=[],$.each(i,function(i,n){t[e].push($(n).attr("id"))}),t[e]=t[e].join(";")}),t},this.getStudentIdsFromGroup=function(t){var e=_emailBlast.data.totalFields[t],i=app.data.user.students,n=_emailBlast.data.studentFields,a=[];return $.each(i,function(i,s){0==t?a.push(s.id):$.each(n,function(t,i){s[i]==e&&a.push(s.id)})}),a.join(";")},this.saveExit=function(){var t=_emailBlast.getFieldData();t.studentid=_emailBlast.getStudentIdsFromGroup(t.studentid),t=$.extend({},t,{duration:"0M",location:"Email Blast",userid:app.data.user.id}),$.ajax({type:"POST",url:_emailBlast.apis.saveEvent,data:t,dataType:"json",offline:!0}).always(function(){app.global.alert({msg:"Saved",icon:"check-circle",cb:app.controller.prevSlide})})},this.saveEvent=function(){return _emailBlast.validateFields()?(app.global.dialogConfirm({msg:"Would you like to save this email blast?",saveCloseCallback:function(){_emailBlast.saveExit()}}),void 0):!1}},app.fieldController=new function(){_fieldController=this,this.getFields=function(t){return jQuery.extend(!0,{},t)},this.createField=function(t){var e=t.type,i=app.templates;if("select"==e){var n=$.tmpl(i.select,t);$.each(t.options,function(t,e){var a="0"==t||0==t?!0:!1,s=$.tmpl(i.option,{key:t,value:e,disabled:a?"disabled":"",selected:a?"selected":""});n.append(s)}),t.value&&n.val(t.value)}else if("input"==e)var n=$.tmpl(i.input,t);else if("textarea"==e)var n=$.tmpl(i.textarea,t);else if("multi"==e){var n=$.tmpl(i.multi,t);$.each(t.options,function(t,e){var a="0"==t||0==t?!0:!1,s=$.tmpl(i.multi_option,{key:t,value:e,disabled:a?"disabled":"",selected:a?"selected":""});n.append(s)}),t.value&&n.val(t.value),n.find("input[type=checkbox]").click(function(){var e=$(this).attr("id");if(t.maxLength){var i=n.find("input[type=checkbox]:checked"),a=i.length;a>t.maxLength&&$.each(i,function(t,i){var n=$(i).attr("id");return n!=e?($(i).attr("checked",!1),!1):void 0}),$(this).attr("checked",!0)}})}return t.autocomplete&&_fieldController.autoComplete({el:n,uri:t.autocomplete}),"pickadate"==t.inputType&&($(n).val((new Date).toDateInputValue()),$(n).one("click",function(){$(n).pickadate({clear:"",format:"yyyy-mm-dd",onClose:function(){var t=$(n).offset().top;window.scrollTo(t,0)}})})),t.mask&&_fieldController.inputMask({el:n,mask:t.mask}),n},this.createFieldWrapper=function(t){t.size||(t.size="lg");var e=app.templates,i=$.tmpl(e.field_wrapper,t);return i},this.validateFields=function(t){var e=!0;return $(t).each(function(){var t=$(this).val(),i=$(this).attr("data-type")?$(this).attr("data-type"):$(this).prop("tagName"),n=$(this).attr("data-valid"),a=$(this).attr("data-regex");if("SELECT"==i)var s=null==t||"0"==t||0==t?!0:!1;if(n&&$.isNumeric(n))var s=t===void 0||n>t.length?!0:!1;if("MULTI"==i)var o=$(this).find("input[type=checkbox]:checked"),r=o.length,s=Number(n)>r?!0:!1;if(a)var l=RegExp(a),s=!l.test(t);s&&(e&&$(this).focus(),e=!1,app.global.animate($(this),"pulse")),app.global.inputToggleError(this,s)}),e||$("html, body").animate({scrollTop:$(".has-error").offset().top},500),e},this.inputMask=function(t){return t.el?t.mask?($(t.el).mask(t.mask),void 0):!1:!1},this.autoComplete=function(t){return t.uri?($(t.el).keyup(function(){$(t.el).attr("data-value",null)}).blur(function(){var e=$(t.el).attr("data-value");e&&""!=e||$(t.el).val("")}).autocomplete({minLength:3,source:t.uri,open:function(){var t=$("body").width();$(this).autocomplete("widget").css({width:t>=800?800:t,left:t>=800?(t-800)/2:0}).addClass("dropdown-menu").scrollIntoView(!1)},select:function(e,i){$(t.el).attr("data-value",i.item.id)}}),void 0):!1},this.convertTime=function(t){var e=new Date(t);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":00"}},app.fieldsEvent={timestamp:{type:"input",inputType:"pickadate",classes:"pickadate",dbId:"timestamp",icon:"calendar",gtAct:"date"},location:{type:"multi",dbId:"location",icon:"fax",gtAct:"location",validLength:1,maxLength:1,options:{call:"Call","cbo-office":"CBO Office","college-campus":"College Campus",email:"Email",facebook:"Facebook","high-school":"High School",text:"Text","Workshop/Event":"Workshop/Event",other:"Other"}},duration:{type:"multi",dbId:"duration",icon:"clock-o",gtAct:"duration",validLength:1,maxLength:1,options:{"00:00":"0M","00:05":"5M","00:10":"10M","00:15":"15M","00:20":"20M","00:30":"30M","00:45":"45M","01:00":"60M","01:15":"75M","01:30":"90M","02:00":"120M","02:30":"150M","03:00":"180M"}},reason:{type:"multi",validLength:1,dbId:"reason",icon:"bullseye",gtAct:"reason",options:{"Financial Aid":"Financial Aid","Money Issues":"Money Issues","Family/Personal":"Family/Personal","Academic Support":"Academic Support","Campus Life":"Campus Life","Job Hunt":"Job Hunt","Planning Coursework":"Student Schedule","Technical Difficulties":"Technical Difficulties"}},notes:{type:"textarea",placeholder:"What did you talk about?",mask:null,dbId:"notes",validLength:0,icon:"comment-o",gtAct:"notes"}},app.fieldsStudent={fname:{type:"input",inputType:"text",placeholder:"First Name",mask:null,dbId:"fname",validLength:3,icon:"user",gtAct:"fname"},lname:{type:"input",inputType:"text",placeholder:"Last Name",mask:null,dbId:"lname",validLength:3,icon:"user",gtAct:"lname"},cbo:{type:"input",inputType:"text",placeholder:"CBO",mask:null,dbId:"cbo",validLength:3,icon:"plug",gtAct:"cbo"},email:{type:"input",inputType:"email",placeholder:"Email address",mask:null,dbId:"email",validLength:5,icon:"envelope-o",gtAct:"email"},phone:{type:"input",inputType:"tel",placeholder:"Phone Number",mask:"(999) 999-9999",dbId:"phone",validLength:14,icon:"phone",gtAct:"phone"},contact:{type:"select",dbId:"contact",icon:"comments-o",gtAct:"contact",options:{0:"Preferred Contact",phone:"Prefer text",email:"Prefer email"}},school:{type:"input",inputType:"text",placeholder:"High School",mask:null,dbId:"school",validLength:0,icon:"graduation-cap",autocomplete:"backend/forms/school_search.php",gtAct:"school"},college:{type:"input",inputType:"text",placeholder:"College Attending",mask:null,dbId:"college",validLength:0,icon:"university",autocomplete:"backend/forms/college_search.php",gtAct:"college"},notes:{type:"textarea",placeholder:"Notes",mask:null,dbId:"notes",validLength:0,icon:"file-o",gtAct:"notes"}},app.fieldsEmailBlast={timestamp:{type:"input",inputType:"pickadate",classes:"pickadate",dbId:"timestamp",icon:"calendar",gtAct:"date"},studentid:{type:"multi",dbId:"studentid",icon:"users",gtAct:"users",validLength:1,maxLength:1,options:{}},reason:{type:"multi",validLength:1,dbId:"reason",icon:"bullseye",gtAct:"reason",options:{"Financial Aid":"Financial Aid","Money Issues":"Money Issues","Family/Personal":"Family/Personal","Academic Support":"Academic Support","Campus Life":"Campus Life","Job Hunt":"Job Hunt","Planning Coursework":"Student Schedule","Technical Difficulties":"Technical Difficulties"}},notes:{type:"textarea",placeholder:"Paste email message here...",mask:null,dbId:"notes",validLength:0,icon:"comment-o",gtAct:"notes"}},app.email=new function(){_email=this,this.els={},this.data={},this.init=function(t){_email.clearFrom(),_email.data=t,_email.buildUI(),_email.data.to&&(_email.getUsers(),_email.buildToUI()),_email.showDialog()},this.clearFrom=function(){_email.els={},_email.template_data={followUpUsers:{type:"select",options:{0:"Select a user"},classes:"marginBottom10"},followUpMsg:{type:"textarea",placeholder:"Message",classes:"marginBottom10 emailMsg"}}},this.getUsers=function(){var t=_email.data.to;_email.data.users={},$.each(t,function(t,e){1!=e.admin&&(_email.data.users[e.id]=e.name)}),_email.data.users[app.data.user.id]=app.data.user.name},this.buildUI=function(){var t=$.extend({},_email.template_data.followUpMsg);_email.data.message&&(t.value=_email.data.message),_email.data.placeholder&&(t.placeholder=_email.data.placeholder),_email.els.dialog=$.tmpl(app.templates.div),_email.els.message=app.fieldController.createField(t),_email.els.dialog.append(_email.els.message)},this.buildToUI=function(){var t=$.extend({},_email.template_data.followUpUsers);$.each(_email.data.users,function(e,i){t.options[e]=i}),_email.els.userSelect=app.fieldController.createField(t),_email.els.toWrapper=app.fieldController.createFieldWrapper({text:"To",size:" ",icon:"users",type:"text"}),_email.els.toField=$.tmpl(app.templates.div,{classes:"form-control expand"}),_email.els.toWrapper.append(_email.els.toField),_email.els.dialog.prepend(_email.els.toWrapper).prepend(_email.els.userSelect),_email.els.userSelect.change(function(){var t=$(this).val(),e=$(this).find("option:selected").text();toUser=$.tmpl(app.templates.badge,{classes:"pointer followup-user",text:e}),_email.els.toField.append(toUser),toUser.attr("data-id",t),$(this).val(0),toUser.click(function(){$(this).remove()})})},this.showDialog=function(){app.global.dialogConfirm({width:$(document).width()>500?500:$(document).width(),yesBtn:"Send Email",noBtn:"Cancel",msg:_email.els.dialog,animate:!0,saveCallback:function(){var t=_email.verifyForm();app.global.dialogToggleError({error:t})},saveCloseCallback:function(){_email.sendEmail()},cancelCloseCallback:function(){EventManager.fire("email:exit")}})},this.verifyForm=function(){var t=_email.els.message.val(),e=!1;if(_email.data.to){var i=_email.els.toField.find(".followup-user");0==i.length?(e=!0,_email.els.toField.addClass("error")):_email.els.toField.removeClass("error")}return 0==t.length?(e=!0,_email.els.message.addClass("error")):_email.els.message.removeClass("error"),e},this.getData=function(){var t={};if(_email.data.to){var e=_email.els.toField.find(".followup-user");t.to=[],$.each(e,function(e,i){var n=$(i).attr("data-id");t.to.push(n)})}return t.msg=_email.els.message.val(),t.from={name:app.data.user.name,email:app.data.user.email},t.subject=_email.data.subject,t},this.sendEmail=function(){var t=_email.getData();$.ajax({type:"POST",url:_email.data.api,data:t,dataType:"json",offline:!0}).always(function(){EventManager.fire("email:exit",{email:t})})}},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var a,s,o,r=e.nodeName.toLowerCase();return"area"===r?(a=e.parentNode,s=a.name,e.href&&s&&"map"===a.nodeName.toLowerCase()?(o=t("img[usemap='#"+s+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function n(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,a=e?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var e=t(this);return n&&"static"===e.css("position")?!1:a.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)
})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),a=isNaN(n);return(a||n>=0)&&e(i,!a)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,s){return t.each(a,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var a="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){t(this).css(s,n(this,e)+"px")})},t.fn["outer"+i]=function(e,a){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(s,n(this,e,!0,a)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,a=t(this[0]);a.length&&a[0]!==document;){if(i=a.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(a.css("zIndex"),10),!isNaN(n)&&0!==n))return n;a=a.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var a,s=t.ui[e].prototype;for(a in n)s.plugins[a]=s.plugins[a]||[],s.plugins[a].push([i,n[a]])},call:function(t,e,i,n){var a,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(a=0;s.length>a;a++)t.options[s[a][0]]&&s[a][1].apply(t.element,i)}};var l=0,c=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,a,s;for(s=0;null!=(a=i[s]);s++)try{n=t._data(a,"events"),n&&n.remove&&t(a).triggerHandler("remove")}catch(o){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var a,s,o,r,l={},c=e.split(".")[0];return e=e.split(".")[1],a=c+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][a.toLowerCase()]=function(e){return!!t.data(e,a)},t[c]=t[c]||{},s=t[c][e],o=t[c][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,s,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(n,function(e,n){return t.isFunction(n)?(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},a=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,s=this._superApply;return this._super=t,this._superApply=a,e=n.apply(this,arguments),this._super=i,this._superApply=s,e}}(),void 0):(l[e]=n,void 0)}),o.prototype=t.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix||e:e},l,{constructor:o,namespace:c,widgetName:e,widgetFullName:a}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete s._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,a=c.call(arguments,1),s=0,o=a.length;o>s;s++)for(i in a[s])n=a[s][i],a[s].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(a){var s="string"==typeof a,o=c.call(arguments,1),r=this;return s?this.each(function(){var i,s=t.data(this,n);return"instance"===a?(r=s,!1):s?t.isFunction(s[a])&&"_"!==a.charAt(0)?(i=s[a].apply(s,o),i!==s&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+a+"'")}):(o.length&&(a=t.widget.extend.apply(null,[a].concat(o))),this.each(function(){var e=t.data(this,n);e?(e.option(a||{}),e._init&&e._init()):t.data(this,n,new i(a,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,a,s,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(a=o[e]=t.widget.extend({},this.options[e]),s=0;n.length-1>s;s++)a[n[s]]=a[n[s]]||{},a=a[n[s]];if(e=n.pop(),1===arguments.length)return void 0===a[e]?null:a[e];a[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var a,s=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=a=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,a=this.widget()),t.each(n,function(n,o){function r(){return e||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,h=l[2];h?a.delegate(h,c,r):i.bind(c,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var a,s,o=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(a in s)a in i||(i[a]=s[a]);return this.element.trigger(i,n),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,a,s){"string"==typeof a&&(a={effect:a});var o,r=a?a===!0||"number"==typeof a?i:a.effect||i:e;a=a||{},"number"==typeof a&&(a={duration:a}),o=!t.isEmptyObject(a),a.complete=s,a.delay&&n.delay(a.delay),o&&t.effects&&t.effects.effect[r]?n[e](a):r!==e&&n[r]?n[r](a.duration,a.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}}),t.widget;var h=!1;t(document).mouseup(function(){h=!1}),t.widget("ui.mouse",{version:"1.11.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,a="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),h=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),h=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,s,o=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==a)return a;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return t("body").append(n),e=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),a=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),a="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,s="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:s?t.position.scrollbarWidth():0,height:a?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),a=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:a,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||a?i.width():i.outerWidth(),height:n||a?i.height():i.outerHeight()}}},t.fn.position=function(a){if(!a||!a.of)return f.apply(this,arguments);a=t.extend({},a);var p,g,m,v,b,y,_=t(a.of),w=t.position.getWithinInfo(a.within),x=t.position.getScrollInfo(w),T=(a.collision||"flip").split(" "),S={};return y=n(_),_[0].preventDefault&&(a.at="left top"),g=y.width,m=y.height,v=y.offset,b=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(a[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=u.exec(i[0]),e=u.exec(i[1]),S[this]=[t?t[0]:0,e?e[0]:0],a[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===T.length&&(T[1]=T[0]),"right"===a.at[0]?b.left+=g:"center"===a.at[0]&&(b.left+=g/2),"bottom"===a.at[1]?b.top+=m:"center"===a.at[1]&&(b.top+=m/2),p=e(S.at,g,m),b.left+=p[0],b.top+=p[1],this.each(function(){var n,c,h=t(this),u=h.outerWidth(),d=h.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),C=u+f+i(this,"marginRight")+x.width,k=d+y+i(this,"marginBottom")+x.height,D=t.extend({},b),I=e(S.my,h.outerWidth(),h.outerHeight());"right"===a.my[0]?D.left-=u:"center"===a.my[0]&&(D.left-=u/2),"bottom"===a.my[1]?D.top-=d:"center"===a.my[1]&&(D.top-=d/2),D.left+=I[0],D.top+=I[1],s||(D.left=l(D.left),D.top=l(D.top)),n={marginLeft:f,marginTop:y},t.each(["left","top"],function(e,i){t.ui.position[T[e]]&&t.ui.position[T[e]][i](D,{targetWidth:g,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:C,collisionHeight:k,offset:[p[0]+I[0],p[1]+I[1]],my:a.my,at:a.at,within:w,elem:h})}),a.using&&(c=function(t){var e=v.left-D.left,i=e+g-u,n=v.top-D.top,s=n+m-d,l={target:{element:_,left:v.left,top:v.top,width:g,height:m},element:{element:h,left:D.left,top:D.top,width:u,height:d},horizontal:0>i?"left":e>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};u>g&&g>r(e+i)&&(l.horizontal="center"),d>m&&m>r(n+s)&&(l.vertical="middle"),l.important=o(r(e),r(i))>o(r(n),r(s))?"horizontal":"vertical",a.using.call(this,t,l)}),h.offset(t.extend(D,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,a=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=t.left-e.collisionPosition.marginLeft,l=a-r,c=r+e.collisionWidth-s-a;e.collisionWidth>s?l>0&&0>=c?(i=t.left+l+e.collisionWidth-s-a,t.left+=l-i):t.left=c>0&&0>=l?a:l>c?a+s-e.collisionWidth:a:l>0?t.left+=l:c>0?t.left-=c:t.left=o(t.left-r,t.left)},top:function(t,e){var i,n=e.within,a=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,r=t.top-e.collisionPosition.marginTop,l=a-r,c=r+e.collisionHeight-s-a;e.collisionHeight>s?l>0&&0>=c?(i=t.top+l+e.collisionHeight-s-a,t.top+=l-i):t.top=c>0&&0>=l?a:l>c?a+s-e.collisionHeight:a:l>0?t.top+=l:c>0?t.top-=c:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,a=e.within,s=a.offset.left+a.scrollLeft,o=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=t.left-e.collisionPosition.marginLeft,h=c-l,u=c+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>h?(i=t.left+d+p+f+e.collisionWidth-o-s,(0>i||r(h)>i)&&(t.left+=d+p+f)):u>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||u>r(n))&&(t.left+=d+p+f))},top:function(t,e){var i,n,a=e.within,s=a.offset.top+a.scrollTop,o=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=t.top-e.collisionPosition.marginTop,h=c-l,u=c+e.collisionHeight-o-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>h?(n=t.top+p+f+g+e.collisionHeight-o-s,(0>n||r(h)>n)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,a,o,r=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(l),i=r||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",a=t(l).offset().left,s=a>10&&11>a,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(n){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),a=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return a.parents("body").length||a.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&a[0]===this.element[0]&&this._setPositionRelative(),a[0]===this.element[0]||/(fixed|absolute)/.test(a.css("position"))||a.css("position","absolute"),a},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,a=this.options,s=this.document[0];return this.relativeContainer=null,a.containment?"window"===a.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===a.containment?(this.containment=[0,0,t(s).width()-this.helperProportions.width-this.margins.left,(t(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):a.containment.constructor===Array?(this.containment=a.containment,void 0):("parent"===a.containment&&(a.containment=this.helper[0].parentNode),i=t(a.containment),n=i[0],n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,a,s,o=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),o.grid&&(a=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=i?a-this.offset.click.top>=i[1]||a-this.offset.click.top>i[3]?a:a-this.offset.click.top>=i[1]?a-o.grid[1]:a+o.grid[1]:a,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var a=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i,n){var a=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,a))})},drag:function(e,i,n){t.each(n.sortables,function(){var a=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(a=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&t.contains(s.element[0],this.element[0])&&(a=!1),a})),a?(s.isOver||(s.isOver=1,s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},e.target=s.currentItem[0],s._mouseCapture(e,!0),s._mouseStart(e,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",e),n.dropped=s.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(e),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",e,s._uiHash(s)),s._mouseStop(e,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()
}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var a=t("body"),s=n.options;a.css("cursor")&&(s._cursor=a.css("cursor")),a.css("cursor",s.cursor)},stop:function(e,i,n){var a=n.options;a._cursor&&t("body").css("cursor",a._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var a=t(i.helper),s=n.options;a.css("opacity")&&(s._opacity=a.css("opacity")),a.css("opacity",s.opacity)},stop:function(e,i,n){var a=n.options;a._opacity&&t(i.helper).css("opacity",a._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var a=n.options,s=!1,o=n.scrollParentNotHidden[0],r=n.document[0];o!==r&&"HTML"!==o.tagName?(a.axis&&"x"===a.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<a.scrollSensitivity?o.scrollTop=s=o.scrollTop+a.scrollSpeed:e.pageY-n.overflowOffset.top<a.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-a.scrollSpeed)),a.axis&&"y"===a.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<a.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+a.scrollSpeed:e.pageX-n.overflowOffset.left<a.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-a.scrollSpeed))):(a.axis&&"x"===a.axis||(e.pageY-t(r).scrollTop()<a.scrollSensitivity?s=t(r).scrollTop(t(r).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<a.scrollSensitivity&&(s=t(r).scrollTop(t(r).scrollTop()+a.scrollSpeed))),a.axis&&"y"===a.axis||(e.pageX-t(r).scrollLeft()<a.scrollSensitivity?s=t(r).scrollLeft(t(r).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<a.scrollSensitivity&&(s=t(r).scrollLeft(t(r).scrollLeft()+a.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var a=n.options;n.snapElements=[],t(a.snap.constructor!==String?a.snap.items||":data(ui-draggable)":a.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var a,s,o,r,l,c,h,u,d,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,b=i.offset.top,y=b+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left-n.margins.left,c=l+n.snapElements[d].width,h=n.snapElements[d].top-n.margins.top,u=h+n.snapElements[d].height,l-g>v||m>c+g||h-g>y||b>u+g||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(a=g>=Math.abs(h-y),s=g>=Math.abs(u-b),o=g>=Math.abs(l-v),r=g>=Math.abs(c-m),a&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=a||s||o||r,"outer"!==f.snapMode&&(a=g>=Math.abs(h-b),s=g>=Math.abs(u-y),o=g>=Math.abs(l-m),r=g>=Math.abs(c-v),a&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(a||s||o||r||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=a||s||o||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var a,s=n.options,o=t.makeArray(t(s.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(a=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",a+e)}),this.css("zIndex",a+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var a=t(i.helper),s=n.options;a.css("zIndex")&&(s._zIndex=a.css("zIndex")),a.css("zIndex",s.zIndex)},stop:function(e,i,n){var a=n.options;a._zIndex&&t(i.helper).css("zIndex",a._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.11.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,a=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(a=!0,!1):void 0}),a?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,a){if(!i.offset)return!1;var s=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,r=s+e.helperProportions.width,l=o+e.helperProportions.height,c=i.offset.left,h=i.offset.top,u=c+i.proportions().width,d=h+i.proportions().height;switch(n){case"fit":return s>=c&&u>=r&&o>=h&&d>=l;case"intersect":return s+e.helperProportions.width/2>c&&u>r-e.helperProportions.width/2&&o+e.helperProportions.height/2>h&&d>l-e.helperProportions.height/2;case"pointer":return t(a.pageY,h,i.proportions().height)&&t(a.pageX,c,i.proportions().width);case"touch":return(o>=h&&d>=o||l>=h&&d>=l||h>o&&l>d)&&(s>=c&&u>=s||r>=c&&u>=r||c>s&&r>u);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,a,s=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;s.length>n;n++)if(!(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element))){for(a=0;r.length>a;a++)if(r[a]===s[n].element[0]){s[n].proportions().height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===o&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,a,s,o=t.ui.intersect(e,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(a=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===a}),s.length&&(n=t(s[0]).droppable("instance"),n.greedyChild="isover"===r)),n&&"isover"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),n&&"isout"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.ui.droppable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return e[n]>0?!0:(e[n]=1,a=e[n]>0,e[n]=0,a)},_create:function(){var e,i,n,a,s,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)n=t.trim(e[i]),s="ui-resizable-"+n,a=t("<div class='ui-resizable-handle "+s+"'></div>"),a.css({zIndex:r.zIndex}),"se"===n&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(a);this._renderAxis=function(e){var i,n,a,s;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),a=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(a,s),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=a&&a[1]?a[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,a=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(a=!0);return!this.options.disabled&&a},_mouseStart:function(e){var i,n,a,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=t(s.containment).scrollLeft()||0,n+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===a?this.axis+"-resize":a),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,a=this.originalMousePosition,s=this.axis,o=e.pageX-a.left||0,r=e.pageY-a.top||0,l=this._change[s];return this._updatePrevProperties(),l?(i=l.apply(this,[e,o,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,a,s,o,r,l,c=this.options,h=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),a=n&&this._hasScroll(i[0],"left")?0:h.sizeDiff.height,s=n?0:h.sizeDiff.width,o={width:h.helper.width()-s,height:h.helper.height()-a},r=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,c.animate||this.element.css(t.extend(o,{top:l,left:r})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,a,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,a=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),n>s.minHeight&&(s.minHeight=n),s.maxWidth>i&&(s.maxWidth=i),s.maxHeight>a&&(s.maxHeight=a)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,s=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);return s&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),s&&c&&(t.left=r-e.minWidth),n&&c&&(t.left=r-e.maxWidth),o&&h&&(t.top=l-e.minHeight),a&&h&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],a=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(a[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,a=this.originalPosition;return{top:a.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,a=i._proportionallyResizeElements,s=a.length&&/textarea/i.test(a[0].nodeName),o=s&&i._hasScroll(a[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-o},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,h&&c?{top:h,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};a&&a.length&&t(a[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,a,s,o,r,l=t(this).resizable("instance"),c=l.options,h=l.element,u=c.containment,d=u instanceof t?u.get(0):/parent/.test(u)?h.parent().get(0):u;d&&(l.containerElement=t(d),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,a=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(d,"left")?d.scrollWidth:s,r=l._hasScroll(d)?d.scrollHeight:a,l.parentData={element:d,left:n.left,top:n.top,width:o,height:r}))},resize:function(e){var i,n,a,s,o=t(this).resizable("instance"),r=o.options,l=o.containerOffset,c=o.position,h=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),h&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),h&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),a=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),a&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,h&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,h&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,a=e.containerPosition,s=e.containerElement,o=t(e.helper),r=o.offset(),l=o.outerWidth()-e.sizeDiff.width,c=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:r.left-a.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:r.left-a.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).resizable("instance"),a=n.options,s=n.originalSize,o=n.originalPosition,r={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0},l=function(e,n){t(e).each(function(){var e=t(this),a=t(this).data("ui-resizable-alsoresize"),s={},o=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(a[e]||0)+(r[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})};"object"!=typeof a.alsoResize||a.alsoResize.nodeType?l(a.alsoResize):t.each(a.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,a=i.size,s=i.originalSize,o=i.originalPosition,r=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,h=l[1]||1,u=Math.round((a.width-s.width)/c)*c,d=Math.round((a.height-s.height)/h)*h,p=s.width+u,f=s.height+d,g=n.maxWidth&&p>n.maxWidth,m=n.maxHeight&&f>n.maxHeight,v=n.minWidth&&n.minWidth>p,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),b&&(f+=h),g&&(p-=c),m&&(f-=h),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-u):((0>=f-h||0>=p-c)&&(e=i._getPaddingPlusBorderDimensions(this)),f-h>0?(i.size.height=f,i.position.top=o.top-d):(f=h-e.height,i.size.height=f,i.position.top=o.top+s.height-f),p-c>0?(i.size.width=p,i.position.left=o.left-u):(p=c-e.width,i.size.width=p,i.position.left=o.left+s.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.11.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,a=t.data(this,"selectable-item");return a?(n=!e.metaKey&&!e.ctrlKey||!a.$element.hasClass("ui-selected"),a.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),a.unselecting=!n,a.selecting=n,a.selected=n,n?i._trigger("selecting",e,{selecting:a.element}):i._trigger("unselecting",e,{unselecting:a.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,a=this.options,s=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return s>r&&(i=r,r=s,s=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:s,top:o,width:r-s,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===a.tolerance?c=!(i.left>r||s>i.right||i.top>l||o>i.bottom):"fit"===a.tolerance&&(c=i.left>s&&r>i.right&&i.top>o&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;
return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,a=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,s.widgetName+"-item")===s?(n=t(this),!1):void 0}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),n?!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(a=!0)}),a)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,n){var a,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,a,s,o=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],a=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&a!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==a&&!t.contains(this.placeholder[0],a)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],a):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,a=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,a=n+this.helperProportions.height,s=t.left,o=s+t.width,r=t.top,l=r+t.height,c=this.offset.click.top,h=this.offset.click.left,u="x"===this.options.axis||n+c>r&&l>n+c,d="y"===this.options.axis||e+h>s&&o>e+h,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>s&&o>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>r&&l>a-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,a=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return n?this.floating?s&&"right"===s||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&i||"left"===a&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var n,a,s,o,r=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(s=t(c[n],this.document[0]),a=s.length-1;a>=0;a--)o=t.data(s[a],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,a,s,o,r,l,c,h=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(a=t(d[i],this.document[0]),n=a.length-1;n>=0;n--)s=t.data(a[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(u.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=u.length-1;i>=0;i--)for(o=u[i][1],r=u[i][0],n=0,c=r.length;c>n;n++)l=t(r[n]),l.data(this.widgetName+"-item",o),h.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,a,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=a.outerWidth(),n.height=a.outerHeight()),s=a.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),a=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(a)}):"img"===n&&a.attr("src",e.currentItem.attr("src")),i||a.css("visibility","hidden"),a},update:function(t,a){(!i||n.forcePlaceholderSize)&&(a.height()||a.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,n,a,s,o,r,l,c,h,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(a=1e4,s=null,h=d.floating||this._isFloating(this.currentItem),o=h?"left":"top",r=h?"width":"height",u=h?"clientX":"clientY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,e[u]-l>this.items[n][r]/2&&(c=!0),a>Math.abs(e[u]-l)&&(a=Math.abs(e[u]-l),s=this.items[n],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),("document"===a.containment||"window"===a.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===a.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===a.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(e=t(a.containment)[0],i=t(a.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())*n}},_generatePosition:function(e){var i,n,a=this.options,s=e.pageX,o=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),a.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/a.grid[1])*a.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-a.grid[1]:i+a.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/a.grid[0])*a.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-a.grid[0]:n+a.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,a=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&a.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||a.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(a.push(function(t){this._trigger("remove",t,this._uiHash())}),a.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),a.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||a.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(a.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;a.length>n;n++)a[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.menu",{version:"1.11.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,n,a,s,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),s=!1,clearTimeout(this.filterTimer),a===n?s=!0:a=n+a,i=this._filterMenuItems(a),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(a=String.fromCharCode(e.keyCode),i=this._filterMenuItems(a)),i.length?(this.focus(e,i),this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,n=this,a=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),n=t("<span>").addClass("ui-menu-icon ui-icon "+a).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),e=s.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,a,s,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,a=e.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.outerHeight(),0>a?this.activeMenu.scrollTop(s+a):a+r>o&&this.activeMenu.scrollTop(s+a-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())
},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,a;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,a=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-n-a}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,n,a;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,a=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+a>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).text()))})}}),t.widget("ui.autocomplete",{version:"1.11.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,a=this.element[0].nodeName.toLowerCase(),s="textarea"===a,o="input"===a;this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))return e=!0,n=!0,i=!0,void 0;e=!1,n=!1,i=!1;var s=t.ui.keyCode;switch(a.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",a);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",a);break;case s.UP:e=!0,this._keyEvent("previous",a);break;case s.DOWN:e=!0,this._keyEvent("next",a);break;case s.ENTER:this.menu.active&&(e=!0,a.preventDefault(),this.menu.select(a));break;case s.TAB:this.menu.active&&this.menu.select(a);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(a),a.preventDefault());break;default:i=!0,this._searchTimeout(a)}},keypress:function(n){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault(),void 0;if(!i){var a=t.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:this._move("previousPage",n);break;case a.PAGE_DOWN:this._move("nextPage",n);break;case a.UP:this._keyEvent("previous",n);break;case a.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){var n,a;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(a=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:a})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(a.value),n=i.item.attr("aria-label")||a.value,n&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion)),void 0)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,a){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){a(t)},error:function(){a([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!n)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").text(i.label).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var u,d="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var i=e.name,n=e.form,a=t([]);return i&&(i=i.replace(/'/g,"\\'"),a=n?t(n).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),a};t.widget("ui.button",{version:"1.11.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,a=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===u&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(a)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];g(n).not(n).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(t(this).addClass("ui-state-active"),u=this,e.document.one("mouseup",function(){u=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(e){return i.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var e=this.buttonElement.removeClass(p),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,a=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(a?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.11.3"}});var m;t.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,a,s;n=e.nodeName.toLowerCase(),a="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),a),s.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,s):a&&this._inlineDatepicker(e,s)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,a,s,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(a=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:a,title:a}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:a,title:a}):a)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,a,s=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,n=0,a=0;t.length>a;a++)t[a].length>i&&(i=t[a].length,n=a);return n},s.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,a,s){var o,l,c,h,u,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),r(d.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+h,c/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,n=t(e),a=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(a.append.remove(),a.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),m===a&&(m=null))},_enableDatepicker:function(e){var i,n,a=t(e),s=t.data(e,"datepicker");a.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=a.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,a=t(e),s=t.data(e,"datepicker");a.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=a.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var a,s,o,l,c=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=n),c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,a),null!==o&&void 0!==a.dateFormat&&void 0===a.minDate&&(c.settings.minDate=this._formatDate(c,o)),null!==l&&void 0!==a.dateFormat&&void 0===a.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in a&&(a.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,a,s=t.datepicker._getInst(e.target),o=!0,r=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return a=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),a[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,a[0]),i=t.datepicker._get(s,"onSelect"),i?(n=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,a=t.datepicker._getInst(e.target);return t.datepicker._get(a,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(a,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(a){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,a,s,o,l,c,h;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),a=t.datepicker._get(i,"beforeShow"),s=a?a.apply(e,[e,i]):{},s!==!1&&(r(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return o|="fixed"===t(this).css("position"),!o}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,o),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=t.datepicker._get(i,"showAnim"),h=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[c]?i.dpDiv.show(c,t.datepicker._get(i,"showOptions"),h):i.dpDiv[c||"show"](c?h:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),a=n[1],s=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&e.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",s*a+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var a=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?a-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+a>l&&l>a?Math.abs(i.left+a-l):0),i.top-=Math.min(i.top,i.top+s>c&&c>s?Math.abs(s+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),a=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[a?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,a,s,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),a=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,a):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,a),i||a(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var a=t(e),s=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(e){var i,n=t(e),a=this._getInst(n[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(i=new Date,a.selectedDay=i.getDate(),a.drawMonth=a.selectedMonth=i.getMonth(),a.drawYear=a.selectedYear=i.getFullYear()),this._notifyChange(a),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var a=t(e),s=this._getInst(a[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(a)},_selectDay:function(e,i,n,a){var s,o=t(e);t(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=t("a",a).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))
},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,a=t(e),s=this._getInst(a[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,a,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),a=this.formatDate(i,n,this._getFormatConfig(e)),t(s).each(function(){t(this).val(a)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var a,s,o,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,_=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},w=function(t){var e=_(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,a="y"===t?n:1,s=RegExp("^\\d{"+a+","+n+"}"),o=i.substring(l).match(s);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(e,n,a){var s=-1,o=t.map(_(e)?a:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=e[0],l+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},T=function(){if(i.charAt(l)!==e.charAt(a))throw"Unexpected literal at position "+l;l++};for(a=0;e.length>a;a++)if(y)"'"!==e.charAt(a)||_("'")?T():y=!1;else switch(e.charAt(a)){case"d":v=w("d");break;case"D":x("D",u,d);break;case"o":b=w("o");break;case"m":m=w("m");break;case"M":m=x("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?T():y=!0;break;default:T()}if(i.length>l&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h>=g?0:-100)),b>-1)for(m=1,v=b;s=this._getDaysInMonth(g,m-1),!(s>=v);)m++,v-=s;if(r=this._daylightSavingAdjust(new Date(g,m-1,v)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},h=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",d=!1;if(e)for(n=0;t.length>n;n++)if(d)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":u+=c("d",e.getDate(),2);break;case"D":u+=h("D",e.getDay(),a,s);break;case"o":u+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",e.getMonth()+1,2);break;case"M":u+=h("M",e.getMonth(),o,r);break;case"y":u+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,a=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||a("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":a("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,a=this._getDefaultDate(t),s=a,o=this._getFormatConfig(t);try{s=this.parseDate(i,n,o)||a}catch(r){n=e?"":n}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=n?s.getDate():0,t.currentMonth=n?s.getMonth():0,t.currentYear=n?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var a=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var a=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=a.getFullYear(),o=a.getMonth(),r=a.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":o+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(s,o))}c=l.exec(i)}return new Date(s,o,r)},o=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:a(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?n:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,a=t.selectedMonth,s=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),a===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,a,s,o,r,l,c,h,u,d,p,f,g,m,v,b,y,_,w,x,T,S,C,k,D,I,A,P,E,F,M,L,N,$,O,R,j,H=new Date,B=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),z=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),U=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),X=this._get(t,"showCurrentAtPos"),V=this._get(t,"stepMonths"),G=1!==Y[0]||1!==Y[1],J=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),Z=t.drawMonth-X,te=t.drawYear;if(0>Z&&(Z+=12,te--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-Y[0]*Y[1]+1,Q.getDate())),e=K&&K>e?K:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-V,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",a=this._get(t,"nextText"),a=q?this.formatDate(a,this._daylightSavingAdjust(new Date(te,Z+V,1)),this._getFormatConfig(t)):a,s=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+a+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+a+"</span></a>",o=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?J:B,o=q?this.formatDate(o,r,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(z?"":l)+"</div>":"",h=parseInt(this._get(t,"firstDay"),10),h=isNaN(h)?0:h,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),_="",x=0;Y[0]>x;x++){for(T="",this.maxRows=4,S=0;Y[1]>S;S++){if(C=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),k=" ui-corner-all",D="",G){if(D+="<div class='ui-datepicker-group",Y[1]>1)switch(S){case 0:D+=" ui-datepicker-group-first",k=" ui-corner-"+(z?"right":"left");break;case Y[1]-1:D+=" ui-datepicker-group-last",k=" ui-corner-"+(z?"left":"right");break;default:D+=" ui-datepicker-group-middle",k=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+k+"'>"+(/all|left/.test(k)&&0===x?z?s:n:"")+(/all|right/.test(k)&&0===x?z?n:s:"")+this._generateMonthYearHeader(t,Z,te,K,Q,x>0||S>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",I=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)A=(w+h)%7,I+="<th scope='col'"+((w+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[A]+"'>"+p[A]+"</span></th>";for(D+=I+"</tr></thead><tbody>",P=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,P)),E=(this._getFirstDayOfMonth(te,Z)-h+7)%7,F=Math.ceil((E+P)/7),M=G?this.maxRows>F?this.maxRows:F:F,this.maxRows=M,L=this._daylightSavingAdjust(new Date(te,Z,1-E)),N=0;M>N;N++){for(D+="<tr>",$=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(L)+"</td>":"",w=0;7>w;w++)O=m?m.apply(t.input?t.input[0]:null,[L]):[!0,""],R=L.getMonth()!==Z,j=R&&!b||!O[0]||K&&K>L||Q&&L>Q,$+="<td class='"+((w+h+6)%7>=5?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(L.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||y.getTime()===L.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+O[1]+(L.getTime()===J.getTime()?" "+this._currentClass:"")+(L.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===B.getTime()?" ui-state-highlight":"")+(L.getTime()===J.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);D+=$+"</tr>"}Z++,Z>11&&(Z=0,te++),D+="</tbody></table>"+(G?"</div>"+(Y[0]>0&&S===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),T+=D}_+=T}return _+=c,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,i,n,a,s,o,r){var l,c,h,u,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(s||!m)_+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=a&&a.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!l||h>=n.getMonth())&&(!c||a.getMonth()>=h)&&(_+="<option value='"+h+"'"+(h===e?" selected='selected'":"")+">"+r[h]+"</option>");_+="</select>"}if(b||(y+=_+(!s&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=a?Math.min(g,a.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!s&&m&&v?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),a=t.drawMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,a))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,a,s)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),a=i&&i>e?i:e;return n&&a>n?n:a},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var a=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(0>e?e:a[0]*a[1]),1));return 0>e&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,n,a=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),o=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!a||e.getTime()>=a.getTime())&&(!s||e.getTime()<=s.getTime())&&(!o||e.getFullYear()>=o)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var a=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),a,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new a,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.3",t.datepicker,t.widget("ui.dialog",{version:"1.11.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(a){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,a=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),s=Math.max.apply(null,a);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),a=i.filter(":last");e.target!==a[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){a.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(t.each(i,function(i,n){var a,s;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),a=n.click,n.click=function(){a.apply(e.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(s).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,a){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(a))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(a,s){var o=s.offset.left-i.document.scrollLeft(),r=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",a,e(s))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,a=n.resizable,s=this.uiDialog.css("position"),o="string"==typeof a?a:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,a){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(a))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(a,s){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(l>=0?"+":"")+l,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",a,e(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,a={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(a[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,n,a=this.uiDialog;"dialogClass"===t&&a.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=a.is(":data(ui-draggable)"),i&&!e&&a.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=a.is(":data(ui-resizable)"),n&&!e&&a.resizable("destroy"),n&&"string"==typeof e&&a.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.tabs",{version:"1.11.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;e=e.cloneNode(!1),i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(a){}try{n=decodeURIComponent(n)}catch(a){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,a){return t(a).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),a=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:a=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(n),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0
},_findNextTab:function(e,i){function n(){return e>a&&(e=0),0>e&&(e=a),e}for(var a=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):"disabled"===t?(this._setupDisabled(e),void 0):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,a=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var a,s,o,r=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");e._isLocal(n)?(a=n.hash,o=a.substring(1),s=e.element.find(e._sanitizeSelector(a))):(o=l.attr("aria-controls")||t({}).uniqueId()[0].id,a="#"+o,s=e.element.find(a),s.length||(s=e._createPanel(o),s.insertAfter(e.panels[i-1]||e.tablist)),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o,"aria-labelledby":r}),s.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(a.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,a=t(e.currentTarget),s=a.closest("li"),o=s[0]===n[0],r=o&&i.collapsible,l=r?t():this._getPanelForTab(s),c=n.length?this._getPanelForTab(n):t(),h={oldTab:n,oldPanel:c,newTab:r?t():s,newPanel:l};e.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=r?!1:this.tabs.index(s),this.active=o?t():s,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),e),this._toggle(e,h))},_toggle:function(e,i){function n(){s.running=!1,s._trigger("activate",e,i)}function a(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,n):(o.show(),n())}var s=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),a()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setupDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setupDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,a=this.tabs.eq(e),s=a.find(".ui-tabs-anchor"),o=this._getPanelForTab(a),r={tab:a,panel:o};this._isLocal(s[0])||(this.xhr=t.ajax(this._ajaxSettings(s,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){o.html(t),n._trigger("load",i,r)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,n){var a=this;return{url:e.attr("href"),beforeSend:function(e,s){return a._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:s},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})});try{app.libs.libLoaded({lib:"jqueryui"})}catch(err){console.log("ERROR: app libs not loaded")}(function(t){"function"==typeof define&&define.amd?define("picker",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):this.Picker=t(jQuery)})(function(t){function e(s,o,l,d){function p(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",D.component.nodes(x.open),S.box),S.wrap),S.frame),S.holder,'tabindex="-1"')}function f(){C.data(o,D).addClass(S.input).val(C.data("value")?D.get("select",T.format):s.value),T.editable||C.on("focus."+x.id+" click."+x.id,function(t){t.preventDefault(),D.open()}).on("keydown."+x.id,_),a(s,{haspopup:!0,expanded:!1,readonly:!1,owns:s.id+"_root"})}function g(){a(D.$root[0],"hidden",!0)}function m(){D.$holder.on({keydown:_,"focus.toOpen":y,blur:function(){C.removeClass(S.target)},focusin:function(t){D.$root.removeClass(S.focused),t.stopPropagation()},"mousedown click":function(e){var i=e.target;i!=D.$holder[0]&&(e.stopPropagation(),"mousedown"!=e.type||t(i).is("input, select, textarea, button, option")||(e.preventDefault(),D.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=t(this),i=e.data(),n=e.hasClass(S.navDisabled)||e.hasClass(S.disabled),a=r();a=a&&(a.type||a.href),(n||a&&!t.contains(D.$root[0],a))&&D.$holder[0].focus(),!n&&i.nav?D.set("highlight",D.component.item.highlight,{nav:i.nav}):!n&&"pick"in i?(D.set("select",i.pick),T.closeOnSelect&&D.close(!0)):i.clear?(D.clear(),T.closeOnClear&&D.close(!0)):i.close&&D.close(!0)})}function v(){var e;T.hiddenName===!0?(e=s.name,s.name=""):(e=["string"==typeof T.hiddenPrefix?T.hiddenPrefix:"","string"==typeof T.hiddenSuffix?T.hiddenSuffix:"_submit"],e=e[0]+s.name+e[1]),D._hidden=t('<input type=hidden name="'+e+'"'+(C.data("value")||s.value?' value="'+D.get("select",T.formatSubmit)+'"':"")+">")[0],C.on("change."+x.id,function(){D._hidden.value=s.value?D.get("select",T.formatSubmit):""})}function b(){w&&u?D.$holder.find("."+S.frame).one("transitionend",function(){D.$holder[0].focus()}):D.$holder[0].focus()}function y(t){t.stopPropagation(),C.addClass(S.target),D.$root.addClass(S.focused),D.open()}function _(t){var e=t.keyCode,i=/^(8|46)$/.test(e);return 27==e?(D.close(!0),!1):((32==e||i||!x.open&&D.component.key[e])&&(t.preventDefault(),t.stopPropagation(),i?D.clear().close():D.open()),void 0)}if(!s)return e;var w=!1,x={id:s.id||"P"+Math.abs(~~(Math.random()*new Date))},T=l?t.extend(!0,{},l.defaults,d):d||{},S=t.extend({},e.klasses(),T.klass),C=t(s),k=function(){return this.start()},D=k.prototype={constructor:k,$node:C,start:function(){return x&&x.start?D:(x.methods={},x.start=!0,x.open=!1,x.type=s.type,s.autofocus=s==r(),s.readOnly=!T.editable,s.id=s.id||x.id,"text"!=s.type&&(s.type="text"),D.component=new l(D,T),D.$root=t('<div class="'+S.picker+'" id="'+s.id+'_root" />'),g(),D.$holder=t(p()).appendTo(D.$root),m(),T.formatSubmit&&v(),f(),T.containerHidden?t(T.containerHidden).append(D._hidden):C.after(D._hidden),T.container?t(T.container).append(D.$root):C.after(D.$root),D.on({start:D.component.onStart,render:D.component.onRender,stop:D.component.onStop,open:D.component.onOpen,close:D.component.onClose,set:D.component.onSet}).on({start:T.onStart,render:T.onRender,stop:T.onStop,open:T.onOpen,close:T.onClose,set:T.onSet}),w=i(D.$holder[0]),s.autofocus&&D.open(),D.trigger("start").trigger("render"))},render:function(t){return t?(D.$holder=p(),D.$root.html(D.$holder)):D.$root.find("."+S.box).html(D.component.nodes(x.open)),D.trigger("render")},stop:function(){return x.start?(D.close(),D._hidden&&D._hidden.parentNode.removeChild(D._hidden),D.$root.remove(),C.removeClass(S.input).removeData(o),setTimeout(function(){C.off("."+x.id)},0),s.type=x.type,s.readOnly=!1,D.trigger("stop"),x.methods={},x.start=!1,D):D},open:function(i){return x.open?D:(C.addClass(S.active),a(s,"expanded",!0),setTimeout(function(){D.$root.addClass(S.opened),a(D.$root[0],"hidden",!1)},0),i!==!1&&(x.open=!0,w&&h.css("overflow","hidden").css("padding-right","+="+n()),b(),c.on("click."+x.id+" focusin."+x.id,function(t){var e=t.target;e!=s&&e!=document&&3!=t.which&&D.close(e===D.$holder[0])}).on("keydown."+x.id,function(i){var n=i.keyCode,a=D.component.key[n],s=i.target;27==n?D.close(!0):s!=D.$holder[0]||!a&&13!=n?t.contains(D.$root[0],s)&&13==n&&(i.preventDefault(),s.click()):(i.preventDefault(),a?e._.trigger(D.component.key.go,D,[e._.trigger(a)]):D.$root.find("."+S.highlighted).hasClass(S.disabled)||(D.set("select",D.component.item.highlight),T.closeOnSelect&&D.close(!0)))})),D.trigger("open"))},close:function(t){return t&&(T.editable?s.focus():(D.$holder.off("focus.toOpen").focus(),setTimeout(function(){D.$holder.on("focus.toOpen",y)},0))),C.removeClass(S.active),a(s,"expanded",!1),setTimeout(function(){D.$root.removeClass(S.opened+" "+S.focused),a(D.$root[0],"hidden",!0)},0),x.open?(x.open=!1,w&&h.css("overflow","").css("padding-right","-="+n()),c.off("."+x.id),D.trigger("close")):D},clear:function(t){return D.set("clear",null,t)},set:function(e,i,n){var a,s,o=t.isPlainObject(e),r=o?e:{};if(n=o&&t.isPlainObject(i)?i:n||{},e){o||(r[e]=i);for(a in r)s=r[a],a in D.component.item&&(void 0===s&&(s=null),D.component.set(a,s,n)),("select"==a||"clear"==a)&&C.val("clear"==a?"":D.get(a,T.format)).trigger("change");D.render()}return n.muted?D:D.trigger("set",r)},get:function(t,i){if(t=t||"value",null!=x[t])return x[t];if("valueSubmit"==t){if(D._hidden)return D._hidden.value;t="value"}if("value"==t)return s.value;if(t in D.component.item){if("string"==typeof i){var n=D.component.get(t);return n?e._.trigger(D.component.formats.toString,D.component,[i,n]):""}return D.component.get(t)}},on:function(e,i,n){var a,s,o=t.isPlainObject(e),r=o?e:{};if(e){o||(r[e]=i);for(a in r)s=r[a],n&&(a="_"+a),x.methods[a]=x.methods[a]||[],x.methods[a].push(s)}return D},off:function(){var t,e,i=arguments;for(t=0,namesCount=i.length;namesCount>t;t+=1)e=i[t],e in x.methods&&delete x.methods[e];return D},trigger:function(t,i){var n=function(t){var n=x.methods[t];n&&n.map(function(t){e._.trigger(t,D,[i])})};return n("_"+t),n(t),D}};return new k}function i(t){var e,i="position";return t.currentStyle?e=t.currentStyle[i]:window.getComputedStyle&&(e=getComputedStyle(t)[i]),"fixed"==e}function n(){if(h.height()<=l.height())return 0;var e=t('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=e[0].offsetWidth;e.css("overflow","scroll");var n=t('<div style="width:100%" />').appendTo(e),a=n[0].offsetWidth;return e.remove(),i-a}function a(e,i,n){if(t.isPlainObject(i))for(var a in i)s(e,a,i[a]);else s(e,i,n)}function s(t,e,i){t.setAttribute(("role"==e?"":"aria-")+e,i)}function o(e,i){t.isPlainObject(e)||(e={attribute:i}),i="";for(var n in e){var a=("role"==n?"":"aria-")+n,s=e[n];i+=null==s?"":a+'="'+e[n]+'"'}return i}function r(){try{return document.activeElement}catch(t){}}var l=t(window),c=t(document),h=t(document.documentElement),u=null;return e.klasses=function(t){return t=t||"picker",{picker:t,opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",target:t+"__input--target",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},e._={group:function(t){for(var i,n="",a=e._.trigger(t.min,t);e._.trigger(t.max,t,[a])>=a;a+=t.i)i=e._.trigger(t.item,t,[a]),n+=e._.node(t.node,i[0],i[1],i[2]);return n},node:function(e,i,n,a){return i?(i=t.isArray(i)?i.join(""):i,n=n?' class="'+n+'"':"",a=a?" "+a:"","<"+e+n+a+">"+i+"</"+e+">"):""},lead:function(t){return(10>t?"0":"")+t},trigger:function(t,e,i){return"function"==typeof t?t.apply(e,i||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return{}.toString.call(t).indexOf("Date")>-1&&this.isInteger(t.getDate())},isInteger:function(t){return{}.toString.call(t).indexOf("Number")>-1&&0===t%1},ariaAttr:o},e.extend=function(i,n){t.fn[i]=function(a,s){var o=this.data(i);return"picker"==a?o:o&&"string"==typeof a?e._.trigger(o[a],o,[s]):this.each(function(){var s=t(this);s.data(i)||new e(this,i,n,a)})},t.fn[i].defaults=n.defaults},e}),function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof exports?module.exports=t(require("./picker.js"),require("jquery")):t(Picker,jQuery)}(function(t,e){function i(t,e){var i=this,n=t.$node[0],a=n.value,s=t.$node.data("value"),o=s||a,r=s?e.formatSubmit:e.format,l=function(){return n.currentStyle?"rtl"==n.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction};i.settings=e,i.$node=t.$node,i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.disable=(e.disable||[]).slice(0),i.item.enable=-function(t){return t[0]===!0?t.shift():-1}(i.item.disable),i.set("min",e.min).set("max",e.max).set("now"),o?i.set("select",o,{format:r,defaultValue:!0}):i.set("select",null).set("highlight",i.item.now),i.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(t){var e=i.item.highlight,n=new Date(e.year,e.month,e.date+t);i.set("highlight",n,{interval:t}),this.render()}},t.on("render",function(){t.$root.find("."+e.klass.selectMonth).on("change",function(){var i=this.value;i&&(t.set("highlight",[t.get("view").year,i,t.get("highlight").date]),t.$root.find("."+e.klass.selectMonth).trigger("focus"))}),t.$root.find("."+e.klass.selectYear).on("change",function(){var i=this.value;i&&(t.set("highlight",[i,t.get("view").month,t.get("highlight").date]),t.$root.find("."+e.klass.selectYear).trigger("focus"))})},1).on("open",function(){var n="";i.disabled(i.get("now"))&&(n=":not(."+e.klass.buttonToday+")"),t.$root.find("button"+n+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}var n=7,a=6,s=t._;i.prototype.set=function(t,e,i){var n=this,a=n.item;return null===e?("clear"==t&&(t="select"),a[t]=e,n):(a["enable"==t?"disable":"flip"==t?"enable":t]=n.queue[t].split(" ").map(function(a){return e=n[a](t,e,i)}).pop(),"select"==t?n.set("highlight",a.select,i):"highlight"==t?n.set("view",a.highlight,i):t.match(/^(flip|min|max|disable|enable)$/)&&(a.select&&n.disabled(a.select)&&n.set("select",a.select,i),a.highlight&&n.disabled(a.highlight)&&n.set("highlight",a.highlight,i)),n)},i.prototype.get=function(t){return this.item[t]},i.prototype.create=function(t,i,n){var a,o=this;return i=void 0===i?t:i,i==-1/0||1/0==i?a=i:e.isPlainObject(i)&&s.isInteger(i.pick)?i=i.obj:e.isArray(i)?(i=new Date(i[0],i[1],i[2]),i=s.isDate(i)?i:o.create().obj):i=s.isInteger(i)||s.isDate(i)?o.normalize(new Date(i),n):o.now(t,i,n),{year:a||i.getFullYear(),month:a||i.getMonth(),date:a||i.getDate(),day:a||i.getDay(),obj:a||i,pick:a||i.getTime()}},i.prototype.createRange=function(t,i){var n=this,a=function(t){return t===!0||e.isArray(t)||s.isDate(t)?n.create(t):t};return s.isInteger(t)||(t=a(t)),s.isInteger(i)||(i=a(i)),s.isInteger(t)&&e.isPlainObject(i)?t=[i.year,i.month,i.date+t]:s.isInteger(i)&&e.isPlainObject(t)&&(i=[t.year,t.month,t.date+i]),{from:a(t),to:a(i)}},i.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},i.prototype.overlapRanges=function(t,e){var i=this;return t=i.createRange(t.from,t.to),e=i.createRange(e.from,e.to),i.withinRange(t,e.from)||i.withinRange(t,e.to)||i.withinRange(e,t.from)||i.withinRange(e,t.to)},i.prototype.now=function(t,e,i){return e=new Date,i&&i.rel&&e.setDate(e.getDate()+i.rel),this.normalize(e,i)},i.prototype.navigate=function(t,i,n){var a,s,o,r,l=e.isArray(i),c=e.isPlainObject(i),h=this.item.view;if(l||c){for(c?(s=i.year,o=i.month,r=i.date):(s=+i[0],o=+i[1],r=+i[2]),n&&n.nav&&h&&h.month!==o&&(s=h.year,o=h.month),a=new Date(s,o+(n&&n.nav?n.nav:0),1),s=a.getFullYear(),o=a.getMonth();new Date(s,o,r).getMonth()!==o;)r-=1;i=[s,o,r]}return i},i.prototype.normalize=function(t){return t.setHours(0,0,0,0),t},i.prototype.measure=function(t,e){var i=this;return e?"string"==typeof e?e=i.parse(t,e):s.isInteger(e)&&(e=i.now(t,e,{rel:e})):e="min"==t?-1/0:1/0,e},i.prototype.viewset=function(t,e){return this.create([e.year,e.month,1])},i.prototype.validate=function(t,i,n){var a,o,r,l,c=this,h=i,u=n&&n.interval?n.interval:1,d=-1===c.item.enable,p=c.item.min,f=c.item.max,g=d&&c.item.disable.filter(function(t){if(e.isArray(t)){var n=c.create(t).pick;i.pick>n?a=!0:n>i.pick&&(o=!0)}return s.isInteger(t)}).length;if((!n||!n.nav&&!n.defaultValue)&&(!d&&c.disabled(i)||d&&c.disabled(i)&&(g||a||o)||!d&&(i.pick<=p.pick||i.pick>=f.pick)))for(d&&!g&&(!o&&u>0||!a&&0>u)&&(u*=-1);c.disabled(i)&&(Math.abs(u)>1&&(i.month<h.month||i.month>h.month)&&(i=h,u=u>0?1:-1),i.pick<=p.pick?(r=!0,u=1,i=c.create([p.year,p.month,p.date+(i.pick===p.pick?0:-1)])):i.pick>=f.pick&&(l=!0,u=-1,i=c.create([f.year,f.month,f.date+(i.pick===f.pick?0:1)])),!r||!l);)i=c.create([i.year,i.month,i.date+u]);return i},i.prototype.disabled=function(t){var i=this,n=i.item.disable.filter(function(n){return s.isInteger(n)?t.day===(i.settings.firstDay?n:n-1)%7:e.isArray(n)||s.isDate(n)?t.pick===i.create(n).pick:e.isPlainObject(n)?i.withinRange(n,t):void 0});return n=n.length&&!n.filter(function(t){return e.isArray(t)&&"inverted"==t[3]||e.isPlainObject(t)&&t.inverted}).length,-1===i.item.enable?!n:n||t.pick<i.item.min.pick||t.pick>i.item.max.pick},i.prototype.parse=function(t,e,i){var n=this,a={};return e&&"string"==typeof e?(i&&i.format||(i=i||{},i.format=n.settings.format),n.formats.toArray(i.format).map(function(t){var i=n.formats[t],o=i?s.trigger(i,n,[e,a]):t.replace(/^!/,"").length;i&&(a[t]=e.substr(0,o)),e=e.substr(o)}),[a.yyyy||a.yy,+(a.mm||a.m)-1,a.dd||a.d]):e},i.prototype.formats=function(){function t(t,e,i){var n=t.match(/[^\x00-\x7F]+|\w+/)[0];return i.mm||i.m||(i.m=e.indexOf(n)+1),n.length}function e(t){return t.match(/\w+/)[0].length}return{d:function(t,e){return t?s.digits(t):e.date},dd:function(t,e){return t?2:s.lead(e.date)},ddd:function(t,i){return t?e(t):this.settings.weekdaysShort[i.day]},dddd:function(t,i){return t?e(t):this.settings.weekdaysFull[i.day]},m:function(t,e){return t?s.digits(t):e.month+1},mm:function(t,e){return t?2:s.lead(e.month+1)},mmm:function(e,i){var n=this.settings.monthsShort;return e?t(e,n,i):n[i.month]},mmmm:function(e,i){var n=this.settings.monthsFull;return e?t(e,n,i):n[i.month]},yy:function(t,e){return t?2:(""+e.year).slice(2)},yyyy:function(t,e){return t?4:e.year},toArray:function(t){return t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(t,e){var i=this;return i.formats.toArray(t).map(function(t){return s.trigger(i.formats[t],i,[0,e])||t.replace(/^!/,"")}).join("")}}}(),i.prototype.isDateExact=function(t,i){var n=this;return s.isInteger(t)&&s.isInteger(i)||"boolean"==typeof t&&"boolean"==typeof i?t===i:(s.isDate(t)||e.isArray(t))&&(s.isDate(i)||e.isArray(i))?n.create(t).pick===n.create(i).pick:e.isPlainObject(t)&&e.isPlainObject(i)?n.isDateExact(t.from,i.from)&&n.isDateExact(t.to,i.to):!1},i.prototype.isDateOverlap=function(t,i){var n=this,a=n.settings.firstDay?1:0;return s.isInteger(t)&&(s.isDate(i)||e.isArray(i))?(t=t%7+a,t===n.create(i).day+1):s.isInteger(i)&&(s.isDate(t)||e.isArray(t))?(i=i%7+a,i===n.create(t).day+1):e.isPlainObject(t)&&e.isPlainObject(i)?n.overlapRanges(t,i):!1},i.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(-1==e.enable?1:-1)},i.prototype.deactivate=function(t,i){var n=this,a=n.item.disable.slice(0);return"flip"==i?n.flipEnable():i===!1?(n.flipEnable(1),a=[]):i===!0?(n.flipEnable(-1),a=[]):i.map(function(t){for(var i,o=0;a.length>o;o+=1)if(n.isDateExact(t,a[o])){i=!0;break}i||(s.isInteger(t)||s.isDate(t)||e.isArray(t)||e.isPlainObject(t)&&t.from&&t.to)&&a.push(t)}),a},i.prototype.activate=function(t,i){var n=this,a=n.item.disable,o=a.length;return"flip"==i?n.flipEnable():i===!0?(n.flipEnable(1),a=[]):i===!1?(n.flipEnable(-1),a=[]):i.map(function(t){var i,r,l,c;for(l=0;o>l;l+=1){if(r=a[l],n.isDateExact(r,t)){i=a[l]=null,c=!0;break}if(n.isDateOverlap(r,t)){e.isPlainObject(t)?(t.inverted=!0,i=t):e.isArray(t)?(i=t,i[3]||i.push("inverted")):s.isDate(t)&&(i=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(i)for(l=0;o>l;l+=1)if(n.isDateExact(a[l],t)){a[l]=null;break}if(c)for(l=0;o>l;l+=1)if(n.isDateOverlap(a[l],t)){a[l]=null;break}i&&a.push(i)}),a.filter(function(t){return null!=t})},i.prototype.nodes=function(t){var e=this,i=e.settings,o=e.item,r=o.now,l=o.select,c=o.highlight,h=o.view,u=o.disable,d=o.min,p=o.max,f=function(t,e){return i.firstDay&&(t.push(t.shift()),e.push(e.shift())),s.node("thead",s.node("tr",s.group({min:0,max:n-1,i:1,node:"th",item:function(n){return[t[n],i.klass.weekdays,'scope=col title="'+e[n]+'"']}})))}((i.showWeekdaysFull?i.weekdaysFull:i.weekdaysShort).slice(0),i.weekdaysFull.slice(0)),g=function(t){return s.node("div"," ",i.klass["nav"+(t?"Next":"Prev")]+(t&&h.year>=p.year&&h.month>=p.month||!t&&h.year<=d.year&&h.month<=d.month?" "+i.klass.navDisabled:""),"data-nav="+(t||-1)+" "+s.ariaAttr({role:"button",controls:e.$node[0].id+"_table"})+" "+'title="'+(t?i.labelMonthNext:i.labelMonthPrev)+'"')},m=function(){var n=i.showMonthsShort?i.monthsShort:i.monthsFull;return i.selectMonths?s.node("select",s.group({min:0,max:11,i:1,node:"option",item:function(t){return[n[t],0,"value="+t+(h.month==t?" selected":"")+(h.year==d.year&&d.month>t||h.year==p.year&&t>p.month?" disabled":"")]}}),i.klass.selectMonth,(t?"":"disabled")+" "+s.ariaAttr({controls:e.$node[0].id+"_table"})+" "+'title="'+i.labelMonthSelect+'"'):s.node("div",n[h.month],i.klass.month)},v=function(){var n=h.year,a=i.selectYears===!0?5:~~(i.selectYears/2);if(a){var o=d.year,r=p.year,l=n-a,c=n+a;if(o>l&&(c+=o-l,l=o),c>r){var u=l-o,f=c-r;l-=u>f?f:u,c=r}return s.node("select",s.group({min:l,max:c,i:1,node:"option",item:function(t){return[t,0,"value="+t+(n==t?" selected":"")]}}),i.klass.selectYear,(t?"":"disabled")+" "+s.ariaAttr({controls:e.$node[0].id+"_table"})+" "+'title="'+i.labelYearSelect+'"')}return s.node("div",n,i.klass.year)};return s.node("div",(i.selectYears?v()+m():m()+v())+g()+g(1),i.klass.header)+s.node("table",f+s.node("tbody",s.group({min:0,max:a-1,i:1,node:"tr",item:function(t){var a=i.firstDay&&0===e.create([h.year,h.month,1]).day?-7:0;return[s.group({min:n*t-h.day+a+1,max:function(){return this.min+n-1},i:1,node:"td",item:function(t){t=e.create([h.year,h.month,t+(i.firstDay?1:0)]);var n=l&&l.pick==t.pick,a=c&&c.pick==t.pick,o=u&&e.disabled(t)||t.pick<d.pick||t.pick>p.pick,f=s.trigger(e.formats.toString,e,[i.format,t]);return[s.node("div",t.date,function(e){return e.push(h.month==t.month?i.klass.infocus:i.klass.outfocus),r.pick==t.pick&&e.push(i.klass.now),n&&e.push(i.klass.selected),a&&e.push(i.klass.highlighted),o&&e.push(i.klass.disabled),e.join(" ")}([i.klass.day]),"data-pick="+t.pick+" "+s.ariaAttr({role:"gridcell",label:f,selected:n&&e.$node.val()===f?!0:null,activedescendant:a?!0:null,disabled:o?!0:null})),"",s.ariaAttr({role:"presentation"})]}})]}})),i.klass.table,'id="'+e.$node[0].id+"_table"+'" '+s.ariaAttr({role:"grid",controls:e.$node[0].id,readonly:!0}))+s.node("div",s.node("button",i.today,i.klass.buttonToday,"type=button data-pick="+r.pick+(t&&!e.disabled(r)?"":" disabled")+" "+s.ariaAttr({controls:e.$node[0].id}))+s.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(t?"":" disabled")+" "+s.ariaAttr({controls:e.$node[0].id}))+s.node("button",i.close,i.klass.buttonClose,"type=button data-close=true "+(t?"":" disabled")+" "+s.ariaAttr({controls:e.$node[0].id})),i.klass.footer)},i.defaults=function(t){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:t+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}}}(t.klasses().picker+"__"),t.extend("pickadate",i)}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(t){"use strict";function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var a=n.closest("[type=submit]");if(0===a.length)return;i=a[0]}var s=this;if(s.clk=i,"image"==i.type)if(void 0!==e.offsetX)s.clk_x=e.offsetX,s.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var o=n.offset();s.clk_x=e.pageX-o.left,s.clk_y=e.pageY-o.top}else s.clk_x=e.pageX-i.offsetLeft,s.clk_y=e.pageY-i.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var a={};a.fileapi=void 0!==t("<input type='file'/>").get(0).files,a.formdata=void 0!==window.FormData;var s=!!t.fn.prop;t.fn.attr2=function(){if(!s)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function i(i){var n,a,s=t.param(i,e.traditional).split("&"),o=s.length,r=[];for(n=0;o>n;n++)s[n]=s[n].replace(/\+/g," "),a=s[n].split("="),r.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return r}function o(n){for(var a=new FormData,s=0;n.length>s;s++)a.append(n[s].name,n[s].value);if(e.extraData){var o=i(e.extraData);for(s=0;o.length>s;s++)o[s]&&a.append(o[s][0],o[s][1])}e.data=null;var r=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});e.uploadProgress&&(r.xhr=function(){var i=t.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(t){var i=0,n=t.loaded||t.position,a=t.total;t.lengthComputable&&(i=Math.ceil(100*(n/a))),e.uploadProgress(t,n,a,i)},!1),i}),r.data=null;var c=r.beforeSend;return r.beforeSend=function(t,i){i.data=e.formData?e.formData:a,c&&c.call(this,t,i)},t.ajax(r)}function r(i){function a(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)
}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(i){n("cannot get iframe.contentDocument: "+i),e=t.document}return e}function o(){function e(){try{var t=a(v).readyState;n("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(i){n("Server abort: ",i," (",i.name,")"),r(k),x&&clearTimeout(x),x=void 0}}var i=u.attr2("target"),s=u.attr2("action"),o="multipart/form-data",c=u.attr("enctype")||u.attr("encoding")||o;T.setAttribute("target",f),(!l||/post/i.test(l))&&T.setAttribute("method","POST"),s!=d.url&&T.setAttribute("action",d.url),d.skipEncodingOverride||l&&!/post/i.test(l)||u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(x=setTimeout(function(){w=!0,r(C)},d.timeout));var h=[];try{if(d.extraData)for(var p in d.extraData)d.extraData.hasOwnProperty(p)&&(t.isPlainObject(d.extraData[p])&&d.extraData[p].hasOwnProperty("name")&&d.extraData[p].hasOwnProperty("value")?h.push(t('<input type="hidden" name="'+d.extraData[p].name+'">').val(d.extraData[p].value).appendTo(T)[0]):h.push(t('<input type="hidden" name="'+p+'">').val(d.extraData[p]).appendTo(T)[0]));d.iframeTarget||m.appendTo("body"),v.attachEvent?v.attachEvent("onload",r):v.addEventListener("load",r,!1),setTimeout(e,15);try{T.submit()}catch(g){var b=document.createElement("form").submit;b.apply(T)}}finally{T.setAttribute("action",s),T.setAttribute("enctype",c),i?T.setAttribute("target",i):u.removeAttr("target"),t(h).remove()}}function r(e){if(!b.aborted&&!E){if(P=a(v),P||(n("cannot access response document"),e=k),e===C&&b)return b.abort("timeout"),S.reject(b,"timeout"),void 0;if(e==k&&b)return b.abort("server abort"),S.reject(b,"error","server abort"),void 0;if(P&&P.location.href!=d.iframeSrc||w){v.detachEvent?v.detachEvent("onload",r):v.removeEventListener("load",r,!1);var i,s="success";try{if(w)throw"timeout";var o="xml"==d.dataType||P.XMLDocument||t.isXMLDoc(P);if(n("isXml="+o),!o&&window.opera&&(null===P.body||!P.body.innerHTML)&&--F)return n("requeing onLoad callback, DOM not available"),setTimeout(r,250),void 0;var l=P.body?P.body:P.documentElement;b.responseText=l?l.innerHTML:null,b.responseXML=P.XMLDocument?P.XMLDocument:P,o&&(d.dataType="xml"),b.getResponseHeader=function(t){var e={"content-type":d.dataType};return e[t.toLowerCase()]},l&&(b.status=Number(l.getAttribute("status"))||b.status,b.statusText=l.getAttribute("statusText")||b.statusText);var c=(d.dataType||"").toLowerCase(),h=/(json|script|text)/.test(c);if(h||d.textarea){var u=P.getElementsByTagName("textarea")[0];if(u)b.responseText=u.value,b.status=Number(u.getAttribute("status"))||b.status,b.statusText=u.getAttribute("statusText")||b.statusText;else if(h){var f=P.getElementsByTagName("pre")[0],g=P.getElementsByTagName("body")[0];f?b.responseText=f.textContent?f.textContent:f.innerText:g&&(b.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==c&&!b.responseXML&&b.responseText&&(b.responseXML=M(b.responseText));try{A=N(b,c,d)}catch(y){s="parsererror",b.error=i=y||s}}catch(y){n("error caught: ",y),s="error",b.error=i=y||s}b.aborted&&(n("upload aborted"),s=null),b.status&&(s=b.status>=200&&300>b.status||304===b.status?"success":"error"),"success"===s?(d.success&&d.success.call(d.context,A,"success",b),S.resolve(b.responseText,"success",b),p&&t.event.trigger("ajaxSuccess",[b,d])):s&&(void 0===i&&(i=b.statusText),d.error&&d.error.call(d.context,b,s,i),S.reject(b,"error",i),p&&t.event.trigger("ajaxError",[b,d,i])),p&&t.event.trigger("ajaxComplete",[b,d]),p&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,b,s),E=!0,d.timeout&&clearTimeout(x),setTimeout(function(){d.iframeTarget?m.attr("src",d.iframeSrc):m.remove(),b.responseXML=null},100)}}}var c,h,d,p,f,m,v,b,y,_,w,x,T=u[0],S=t.Deferred();if(S.abort=function(t){b.abort(t)},i)for(h=0;g.length>h;h++)c=t(g[h]),s?c.prop("disabled",!1):c.removeAttr("disabled");if(d=t.extend(!0,{},t.ajaxSettings,e),d.context=d.context||d,f="jqFormIO"+(new Date).getTime(),d.iframeTarget?(m=t(d.iframeTarget),_=m.attr2("name"),_?f=_:m.attr2("name",f)):(m=t('<iframe name="'+f+'" src="'+d.iframeSrc+'" />'),m.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=m[0],b={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(a){}m.attr("src",d.iframeSrc),b.error=i,d.error&&d.error.call(d.context,b,i,e),p&&t.event.trigger("ajaxError",[b,d,i]),d.complete&&d.complete.call(d.context,b,i)}},p=d.global,p&&0===t.active++&&t.event.trigger("ajaxStart"),p&&t.event.trigger("ajaxSend",[b,d]),d.beforeSend&&d.beforeSend.call(d.context,b,d)===!1)return d.global&&t.active--,S.reject(),S;if(b.aborted)return S.reject(),S;y=T.clk,y&&(_=y.name,_&&!y.disabled&&(d.extraData=d.extraData||{},d.extraData[_]=y.value,"image"==y.type&&(d.extraData[_+".x"]=T.clk_x,d.extraData[_+".y"]=T.clk_y)));var C=1,k=2,D=t("meta[name=csrf-token]").attr("content"),I=t("meta[name=csrf-param]").attr("content");I&&D&&(d.extraData=d.extraData||{},d.extraData[I]=D),d.forceSync?o():setTimeout(o,10);var A,P,E,F=50,M=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},L=t.parseJSON||function(t){return window.eval("("+t+")")},N=function(e,i,n){var a=e.getResponseHeader("content-type")||"",s="xml"===i||!i&&a.indexOf("xml")>=0,o=s?e.responseXML:e.responseText;return s&&"parsererror"===o.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(o=n.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&a.indexOf("json")>=0?o=L(o):("script"===i||!i&&a.indexOf("javascript")>=0)&&t.globalEval(o)),o};return S}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,h,u=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),l=e.type||this.attr2("method"),c=e.url||this.attr2("action"),h="string"==typeof c?t.trim(c):"",h=h||window.location.href||"",h&&(h=(h.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:h,success:t.ajaxSettings.success,type:l||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var d={};if(this.trigger("form-pre-serialize",[this,e,d]),d.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=e.traditional;void 0===p&&(p=t.ajaxSettings.traditional);var f,g=[],m=this.formToArray(e.semantic,g);if(e.data&&(e.extraData=e.data,f=t.param(e.data,p)),e.beforeSubmit&&e.beforeSubmit(m,this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[m,this,e,d]),d.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(m,p);f&&(v=v?v+"&"+f:f),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+v,e.data=null):e.data=v;var b=[];if(e.resetForm&&b.push(function(){u.resetForm()}),e.clearForm&&b.push(function(){u.clearForm(e.includeHidden)}),!e.dataType&&e.target){var y=e.success||function(){};b.push(function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(y,arguments)})}else e.success&&b.push(e.success);if(e.success=function(t,i,n){for(var a=e.context||this,s=0,o=b.length;o>s;s++)b[s].apply(a,[t,i,n||u,u])},e.error){var _=e.error;e.error=function(t,i,n){var a=e.context||this;_.apply(a,[t,i,n,u])}}if(e.complete){var w=e.complete;e.complete=function(t,i){var n=e.context||this;w.apply(n,[t,i,u])}}var x=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),T=x.length>0,S="multipart/form-data",C=u.attr("enctype")==S||u.attr("encoding")==S,k=a.fileapi&&a.formdata;n("fileAPI :"+k);var D,I=(T||C)&&!k;e.iframe!==!1&&(e.iframe||I)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){D=r(m)}):D=r(m):D=(T||C)&&k?o(m):t.ajax(e),u.removeData("jqxhr").data("jqxhr",D);for(var A=0;g.length>A;A++)g[A]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(a){if(a=a||{},a.delegation=a.delegation&&t.isFunction(t.fn.on),!a.delegation&&0===this.length){var s={s:this.selector,c:this.context};return!t.isReady&&s.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(s.s,s.c).ajaxForm(a)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return a.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,a,e).on("click.form-plugin",this.selector,a,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",a,e).bind("click.form-plugin",a,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var s,o=this[0],r=this.attr("id"),l=e?o.getElementsByTagName("*"):o.elements;if(l&&!/MSIE [678]/.test(navigator.userAgent)&&(l=t(l).get()),r&&(s=t(":input[form="+r+"]").get(),s.length&&(l=(l||[]).concat(s))),!l||!l.length)return n;var c,h,u,d,p,f,g;for(c=0,f=l.length;f>c;c++)if(p=l[c],u=p.name,u&&!p.disabled)if(e&&o.clk&&"image"==p.type)o.clk==p&&(n.push({name:u,value:t(p).val(),type:p.type}),n.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y}));else if(d=t.fieldValue(p,!0),d&&d.constructor==Array)for(i&&i.push(p),h=0,g=d.length;g>h;h++)n.push({name:u,value:d[h]});else if(a.fileapi&&"file"==p.type){i&&i.push(p);var m=p.files;if(m.length)for(h=0;m.length>h;h++)n.push({name:u,value:m[h],type:p.type});else n.push({name:u,value:"",type:p.type})}else null!==d&&d!==void 0&&(i&&i.push(p),n.push({name:u,value:d,type:p.type,required:p.required}));if(!e&&o.clk){var v=t(o.clk),b=v[0];u=b.name,u&&!b.disabled&&"image"==b.type&&(n.push({name:u,value:v.val()}),n.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var a=t.fieldValue(this,e);if(a&&a.constructor==Array)for(var s=0,o=a.length;o>s;s++)i.push({name:n,value:a[s]});else null!==a&&a!==void 0&&i.push({name:this.name,value:a})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,a=this.length;a>n;n++){var s=this[n],o=t.fieldValue(s,e);null===o||void 0===o||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(i,o):i.push(o))}return i},t.fieldValue=function(e,i){var n=e.name,a=e.type,s=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!e.checked||("submit"==a||"image"==a)&&e.form&&e.form.clk!=e||"select"==s&&-1==e.selectedIndex))return null;if("select"==s){var o=e.selectedIndex;if(0>o)return null;for(var r=[],l=e.options,c="select-one"==a,h=c?o+1:l.length,u=c?o:0;h>u;u++){var d=l[u];if(d.selected){var p=d.value;if(p||(p=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return p;r.push(p)}}return r}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,a=this.tagName.toLowerCase();i.test(n)||"textarea"==a?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==a?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}),function(t){t.fn.ajaxfileupload=function(e){var i={params:{},action:"",onStart:function(){console.log("starting upload"),console.log(this)},onComplete:function(t){console.log("got response: "),console.log(t),console.log(this)},onCancel:function(){console.log("cancelling: "),console.log(this)},validate_extensions:!0,valid_extensions:["gif","png","jpg","jpeg"],submit_button:null},n=!1;return e&&t.extend(i,e),this.each(function(){var e=t(this);if(e.data("ajaxUploader-setup")!==!0){e.change(function(){n=!1,null==i.submit_button&&a()}),null==i.submit_button||i.submit_button.click(function(t){t.preventDefault(),n||a()});var a=function(){if(""==e.val())return i.onCancel.apply(e,[i.params]);var a=e.val().split(".").pop().toLowerCase();if(!0===i.validate_extensions&&-1==t.inArray(a,i.valid_extensions))i.onComplete.apply(e,[{status:!1,message:"The select file type is invalid. File must be "+i.valid_extensions.join(", ")+"."},i.params]);else{n=!0,o(e);var s=i.onStart.apply(e,[i.params]);s!==!1&&e.parent("form").submit(function(t){t.stopPropagation()}).submit()}};e.data("ajaxUploader-setup",!0);var s=function(t,e){var a,s=t.contentWindow.document.body.innerHTML;try{a=JSON.parse(s)}catch(o){a=s}e.siblings().remove(),e.unwrap(),n=!1,i.onComplete.apply(e,[a,i.params])},o=function(e){var n="ajaxUploader-iframe-"+Math.round((new Date).getTime()/1e3);t("body").after('<iframe width="0" height="0" style="display:none;" name="'+n+'" id="'+n+'"/>'),t("#"+n).load(function(){s(this,e)}),e.wrap(function(){return'<form action="'+i.action+'" method="POST" enctype="multipart/form-data" target="'+n+'" />'}).before(function(){var t,e="";for(t in i.params){var n=i.params[t];"function"==typeof n&&(n=n()),e+='<input type="hidden" name="'+t+'" value="'+n+'" />'}return e})}}})}}(jQuery),function(t){function e(){var t=document.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}var i,n=e()+".mask",a=navigator.userAgent,s=/iphone/i.test(a),o=/android/i.test(a);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var i;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,a){var r,l,c,h,u,d;return!e&&this.length>0?(r=t(this[0]),r.data(t.mask.dataName)()):(a=t.extend({placeholder:t.mask.placeholder,completed:null},a),l=t.mask.definitions,c=[],h=d=e.length,u=null,t.each(e.split(""),function(t,e){"?"==e?(d--,h=t):l[e]?(c.push(RegExp(l[e])),null===u&&(u=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function r(t){for(;d>++t&&!c[t];);return t}function p(t){for(;--t>=0&&!c[t];);return t}function f(t,e){var i,n;if(!(0>t)){for(i=t,n=r(e);d>i;i++)if(c[i]){if(!(d>n&&c[i].test(x[n])))break;x[i]=x[n],x[n]=a.placeholder,n=r(n)}y(),w.caret(Math.max(u,t))}}function g(t){var e,i,n,s;for(e=t,i=a.placeholder;d>e;e++)if(c[e]){if(n=r(e),s=x[e],x[e]=i,!(d>n&&c[n].test(s)))break;i=s}}function m(t){var e,i,n,a=t.which;8===a||46===a||s&&127===a?(e=w.caret(),i=e.begin,n=e.end,0===n-i&&(i=46!==a?p(i):n=r(i-1),n=46===a?r(n):n),b(i,n),f(i,n-1),t.preventDefault()):27==a&&(w.val(T),w.caret(0,_()),t.preventDefault())}function v(e){var i,n,s,l=e.which,h=w.caret();e.ctrlKey||e.altKey||e.metaKey||32>l||l&&(0!==h.end-h.begin&&(b(h.begin,h.end),f(h.begin,h.end-1)),i=r(h.begin-1),d>i&&(n=String.fromCharCode(l),c[i].test(n)&&(g(i),x[i]=n,y(),s=r(i),o?setTimeout(t.proxy(t.fn.caret,w,s),0):w.caret(s),a.completed&&s>=d&&a.completed.call(w))),e.preventDefault())}function b(t,e){var i;for(i=t;e>i&&d>i;i++)c[i]&&(x[i]=a.placeholder)}function y(){w.val(x.join(""))}function _(t){var e,i,n=w.val(),s=-1;for(e=0,pos=0;d>e;e++)if(c[e]){for(x[e]=a.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),c[e].test(i)){x[e]=i,s=e;break}if(pos>n.length)break}else x[e]===n.charAt(pos)&&e!==h&&(pos++,s=e);return t?y():h>s+1?(w.val(""),b(0,d)):(y(),w.val(w.val().substring(0,s+1))),h?e:u}var w=t(this),x=t.map(e.split(""),function(t){return"?"!=t?l[t]?a.placeholder:t:void 0}),T=w.val();w.data(t.mask.dataName,function(){return t.map(x,function(t,e){return c[e]&&t!=a.placeholder?t:null}).join("")}),w.attr("readonly")||w.one("unmask",function(){w.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){clearTimeout(i);var t;T=w.val(),t=_(),i=setTimeout(function(){y(),t==e.length?w.caret(0,t):w.caret(t)},10)}).bind("blur.mask",function(){_(),w.val()!=T&&w.change()}).bind("keydown.mask",m).bind("keypress.mask",v).bind(n,function(){setTimeout(function(){var t=_(!0);w.caret(t),a.completed&&t==w.val().length&&a.completed.call(w)},0)}),_()}))}})}(jQuery),!function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,a=n._mouseInit,s=n._mouseDestroy;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),a.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),s.call(e)}}}(jQuery),function(t){var e={options:{background:"#ffffff",color:"#000000",thickness:2,guideline:!1,guidelineColor:"#a0a0a0",guidelineOffset:50,guidelineIndent:10,notAvailable:"Your browser doesn't support signing",syncField:null,change:null},_create:function(){this.element.addClass(this.widgetFullName||this.widgetBaseClass);try{this.canvas=t('<canvas width="'+this.element.width()+'" height="'+this.element.height()+'">'+this.options.notAvailable+"</canvas>")[0],this.element.append(this.canvas),this.ctx=this.canvas.getContext("2d")}catch(e){t(this.canvas).remove(),this.resize=!0,this.canvas=document.createElement("canvas"),this.canvas.setAttribute("width",this.element.width()),this.canvas.setAttribute("height",this.element.height()),this.canvas.innerHTML=this.options.notAvailable,this.element.append(this.canvas),G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas),this.ctx=this.canvas.getContext("2d")}this._refresh(!0),this._mouseInit()},_refresh:function(e){if(this.resize){var i=t(this.canvas);t("div",this.canvas).css({width:i.width(),height:i.height()})}this.ctx.fillStyle=this.options.background,this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.thickness,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.clear(e)},clear:function(t){this.ctx.fillRect(0,0,this.element.width(),this.element.height()),this.options.guideline&&(this.ctx.save(),this.ctx.strokeStyle=this.options.guidelineColor,this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.moveTo(this.options.guidelineIndent,this.element.height()-this.options.guidelineOffset),this.ctx.lineTo(this.element.width()-this.options.guidelineIndent,this.element.height()-this.options.guidelineOffset),this.ctx.stroke(),this.ctx.restore()),this.lines=[],t||this._changed()},_changed:function(e){this.options.syncField&&t(this.options.syncField).val(this.toJSON()),this._trigger("change",e,{})},_setOptions:function(){this._superApply?this._superApply(arguments):t.Widget.prototype._setOptions.apply(this,arguments),this._refresh()},_mouseCapture:function(){return!this.options.disabled},_mouseStart:function(t){this.offset=this.element.offset(),this.offset.left-=document.documentElement.scrollLeft||document.body.scrollLeft,this.offset.top-=document.documentElement.scrollTop||document.body.scrollTop,this.lastPoint=[this._round(t.clientX-this.offset.left),this._round(t.clientY-this.offset.top)],this.curLine=[this.lastPoint],this.lines.push(this.curLine)},_mouseDrag:function(t){var e=[this._round(t.clientX-this.offset.left),this._round(t.clientY-this.offset.top)];this.curLine.push(e),this.ctx.beginPath(),this.ctx.moveTo(this.lastPoint[0],this.lastPoint[1]),this.ctx.lineTo(e[0],e[1]),this.ctx.stroke(),this.lastPoint=e},_mouseStop:function(t){this.lastPoint=null,this.curLine=null,this._changed(t)},_round:function(t){return Math.round(100*t)/100},toJSON:function(){var e='{"lines":[',i="";return t.each(this.lines,function(){e+=i+"[";var n="";t.each(this,function(){e+=n+"["+this[0]+","+this[1]+"]",n=","}),e+="]",i=","}),e+="]}"},draw:function(e){this.clear(!0),"string"==typeof e&&(e=t.parseJSON(e)),this.lines=e.lines||[];var i=this.ctx;t.each(this.lines,function(){i.beginPath(),t.each(this,function(t){i[0==t?"moveTo":"lineTo"](this[0],this[1])}),i.stroke()}),this._changed()},isEmpty:function(){return 0==this.lines.length},_destroy:function(){this.element.removeClass(this.widgetFullName||this.widgetBaseClass),t(this.canvas).remove(),this.canvas=this.ctx=this.lines=null,this._mouseDestroy()}};t.Widget.prototype._destroy||t.extend(e,{destroy:function(){this._destroy(),t.Widget.prototype.destroy.call(this)}}),t.Widget.prototype._getCreateOptions===t.noop&&t.extend(e,{_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]}}),t.widget("kbw.signature",t.ui.mouse,e),t.kbw.signature.options=t.kbw.signature.prototype.options}(jQuery),function(t){t.fn.scrollIntoView=function(e,i,n){function a(e,i){void 0===i?t.isFunction(s.complete)&&s.complete.call(e):s.smooth?t(e).stop().animate({scrollTop:i},s):(e.scrollTop=i,t.isFunction(s.complete)&&s.complete.call(e))}var s=t.extend({},t.fn.scrollIntoView.defaults);"object"==t.type(e)?t.extend(s,e):"number"==t.type(e)?t.extend(s,{duration:e,easing:i,complete:n}):0==e&&(s.smooth=!1);var o=1/0,r=0;1==this.size()?null==(o=this.get(0).offsetTop)||(r=o+this.get(0).offsetHeight):this.each(function(t,e){o>e.offsetTop?o=e.offsetTop:e.offsetTop+e.offsetHeight>r?r=e.offsetTop+e.offsetHeight:null}),r-=o;for(var l=this.commonAncestor().get(0),c=t(window).height();l;){var h=l.scrollTop,u=l.clientHeight;if(u>c&&(u=c),0==u&&"BODY"==l.tagName&&(u=c),l.scrollTop!=(null==(l.scrollTop+=1)||l.scrollTop)&&null!=(l.scrollTop-=1)||l.scrollTop!=(null==(l.scrollTop-=1)||l.scrollTop)&&null!=(l.scrollTop+=1))return h>=o?a(l,o):o+r>h+u?a(l,o+r-u):a(l,void 0),void 0;l=l.parentNode}return this},t.fn.scrollIntoView.defaults={smooth:!0,duration:null,easing:t.easing&&t.easing.easeOutExpo?"easeOutExpo":null,complete:t.noop(),step:null,specialEasing:{}},t.fn.isOutOfView=function(t){var e=!0;return this.each(function(){var i=this.parentNode,n=i.scrollTop,a=i.clientHeight,s=this.offsetTop,o=this.offsetHeight;(t?s>n+a:s+o>n+a)||(t?n>s+o:n>s)||(e=!1)}),e},t.fn.commonAncestor=function(){var e=[],i=1/0;t(this).each(function(){var n=t(this).parents();e.push(n),i=Math.min(i,n.length)});for(var n=0;e.length>n;n++)e[n]=e[n].slice(e[n].length-i);for(var n=0;e[0].length>n;n++){var a=!0;for(var s in e)if(e[s][n]!=e[0][n]){a=!1;break}if(a)return t(e[0][n])}return t([])}}(jQuery),app.table=new function(){_table=this,this.templates={div:'<div class="${classes}">${text}</div>',modeOption:'<input type="radio" id="${id}" name="${name}" ${checked}><label for="${id}">${text}</label>',anchor:'<a href="${href}" target="_blank">${text}</a>'},this.createTable=function(t){if(t===void 0)return!1;t.data||(t.data=[]),t.columns||(t.columns=[]),t.selectToggle||(t.selectToggle=!1),t.selectTableRows||(t.selectTableRows=!1),t.editModeToggle||(t.editModeToggle=!1),t["export"]||(t["export"]=!1),t["export"]||(t["export"]=!1),t.colLabels||(t.colLabels=t.columns),t.expandRows||(t.expandRows=!1);var e=[];$.each(t.columns,function(i){e.push({title:t.colLabels[i],"class":t.colLabels[i]})});var i=[];$.each(t.data,function(e,n){var a=[];$.each(t.columns,function(t,e){var i=n[e]?n[e]:"";a.push('<div class="cell-wrapper">'+i+"</div>")}),i.push(a)});var n=$('<table class="table table-striped table-bordered order-column table-responsive"></table>'),a=$("<div></div>");a.append(n),n.dataTable({order:t.sort?t.sort:[],data:i,columns:e,paging:t.paging,ordering:!0,info:!1,jQueryUI:!1,dom:t["export"]?'T<"clear">lfrtip':'<"clear">lfrtip',tableTools:t["export"]?{sSwfPath:"copy_csv_xls_pdf.swf",aButtons:t.exportBtns}:"",fnPreDrawCallback:function(){},fnDrawCallback:function(){_table.emptyTable(t.dataObj)},fnInitComplete:function(){t.dataObj&&(t.dataObj.table=n,t.dataObj.dataTable=a,t.dataObj.columns=e),t.prependTo.prepend(a),t.expandRows&&_table.expandRows(t.dataObj),_table.emptyTable(t.dataObj),t["export"]&&_table.flashDetect(),_table.columnSort(t.dataObj),t.selectToggle&&_table.addSelectToggle(t.dataObj),t.selectTableRows&&_table.selectTableRows(t.dataObj),t.editModeToggle&&_table.modeToggle(t.dataObj,t.editModeToggle),_table.searchField(t.dataObj),EventManager.fire("TableRowCount"),t.cb&&t.cb(),setTimeout(function(){n.fnAdjustColumnSizing()},100)}})},this.expandRows=function(t){var e=t.table.find("tbody tr");e.click(function(){var t=$(this).hasClass("expand")?!0:!1;e.removeClass("expand"),t||$(this).addClass("expand").scrollIntoView()})},this.emptyTable=function(t){if(!t.table)return!1;var e=t.table,i=e.find(".dataTables_empty").length>0?1:0;e.attr("empty-table",i)},this.flashDetect=function(){var t=!1;try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");e&&(t=!0)}catch(i){void 0!=navigator.mimeTypes["application/x-shockwave-flash"]&&(t=!0)}if(!t){var n=$.tmpl(_table.templates.div,{text:"You need flash to download your data."}),a=$.tmpl(_table.templates.anchor,{text:"Click here to install flash",href:"http://get.adobe.com/flashplayer/?no_redirect"});n.append("<br><br>").append(a),tools.els.body.append(n),n.dialog({title:"Missing flash!",modal:!0,buttons:{Ok:function(){$(this).dialog("close")}}})}},this.columnSort=function(t){var e=t.table.find("thead th");e.click(function(){$(document).overlay({show:!0,delay:250})})},this.selectTableRows=function(t){var e=t.table,i={filter:"tbody tr",stop:function(){EventManager.fire("RowSelectUpdate")},selected:function(e,i){var n=i.selected._DT_RowIndex,a=t.table.fnGetData(n),s=app.global.removeHTML(a[0]);_table.toggleSelectedIds({storage:t.selectedIds,ids:[s],action:"add"})},unselected:function(e,i){var n=i.unselected._DT_RowIndex,a=t.table.fnGetData(n),s=app.global.removeHTML(a[0]);_table.toggleSelectedIds({storage:t.selectedIds,ids:[s],action:"remove"})}};e.selectable(i)},this.toggleSelectedIds=function(t){$.each(t.ids,function(e,i){i=Number(i),"add"==t.action&&0>$.inArray(i,t.storage)&&t.storage.push(i),"remove"==t.action&&$.inArray(i,t.storage)>=0&&t.storage.splice($.inArray(i,t.storage),1),EventManager.fire("RowSelectUpdate")})},this.searchField=function(t){var e=t.table,i=t.dataTable,n=i.find('input[type="search"]'),a=$('<div class="search__cancel"><svg role="img" viewBox="0 0 1792 1792"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#times-circle"></use></svg></div>');n.unbind().after(a).keyup(function(t){13==t.which&&e.fnFilter($(this).val()),$(this).val().length>0?a.show():a.hide()}),a.click(function(){n.val(""),e.fnFilter(""),$(this).hide()}).hide()},this.modeToggle=function(t,e){var i=t.table,n=t.dataTable;tableId=i.attr("id"),searchEl=n.find('input[type="search"]');var a=tableId+"modeToggle",s=$.tmpl(_table.templates.div,{classes:"table-mode-toggle"}),o=$.tmpl(_table.templates.modeOption,{text:"Off",id:tableId+"offRadio",name:a,checked:"checked"}),r=$.tmpl(_table.templates.modeOption,{text:"Add",id:tableId+"addRadio",name:a,checked:"checked"}),l=$.tmpl(_table.templates.modeOption,{text:"Edit",id:tableId+"editRadio",name:a}),c=$.tmpl(_table.templates.modeOption,{text:"Delete",id:tableId+"deleteRadio",name:a});$.inArray("off",e)>-1&&s.append(o),$.inArray("add",e)>-1&&s.append(r),$.inArray("edit",e)>-1&&s.append(l),$.inArray("delete",e)>-1&&s.append(c),s.buttonset(),searchEl.after(s),o.click(function(){return _table.modeToggleSelect({table:i,mode:"off",disableSelect:!0,params:t}),!1}),r.click(function(){return _table.modeToggleSelect({table:i,mode:"add",disableSelect:!1,params:t}),!1}),l.click(function(){return _table.modeToggleSelect({table:i,mode:"edit",disableSelect:!0,params:t}),!1}),c.click(function(){return _table.modeToggleSelect({table:i,mode:"delete",disableSelect:!0,params:t}),!1}),i.on("click","tr",function(){var e=i.attr("data-mode");return EventManager.fire("RowSelect:"+e,{row:$(this),data:t}),!1})},this.modeToggleSelect=function(t){var e=t.table,i=t.mode,n=e.attr("data-mode"),a=t.disableSelect;return i==n?!1:($(document).overlay({show:!0,delay:500,cb:function(){try{var n=e.selectable("option","disabled");a!=n&&e.selectable("option","disabled",a)}catch(s){}_table.unselectAll(t.params),e.attr("data-mode",i)}}),void 0)},this.addSelectToggle=function(t){t.searchField=t.dataTable.find('input[type="search"]'),t.selectAll=$('<a class="select-toggle">Select All</a>'),t.unselectAll=$('<a class="select-toggle">Unselect All</a>'),t.selectBreak=$('<span class="select-break"> | </span>'),t.searchField.after(t.unselectAll).after(t.selectBreak).after(t.selectAll),t.selectAll.click(function(){_table.selectAll(t)}),t.unselectAll.click(function(){_table.unselectAll(t)})},this.selectAll=function(t){var e=t.table.find("tbody tr:visible");$.each(e,function(){var e=t.table.fnGetData(this),i=app.global.removeHTML(e[0]);_table.toggleSelectedIds({storage:t.selectedIds,ids:[i],action:"add"})}),e.addClass("ui-selected")},this.unselectAll=function(t){var e=t.table.find("tbody tr.ui-selected:visible");$.each(e,function(){var e=t.table.fnGetData(this),i=app.global.removeHTML(e[0]);_table.toggleSelectedIds({storage:t.selectedIds,ids:[i],action:"remove"})}),e.removeClass("ui-selected")}},app.charts=new function(){_charts=this,this.templates={div:'<div class="${classes}"></div>',canvas:'<canvas id="poop" width="${width}" height="300"></canvas>',title:"<h1>${title}</h1>"},this.colors=["#F7464A","#46BFBD","#FDB45C","#FF1A00","#008C00","#CC0000","#4096EE","#FF0084","#B02B2C","#3F4C6B","#6BBA70","#D01F3C","#356AA0"],this.create=function(t){var e=$.tmpl(_charts.templates.div,{classes:"field_wrapper chartWrapper"}),i=$.tmpl(_charts.templates.title,{title:t.title}),n=$.tmpl(_charts.templates.canvas,{width:$("body").width()-40}),a=n.get(0).getContext("2d");e.append(i).append(n),$(t.appendTo).append(e),_charts[t.type]({ctx:a,data:t.data})},this.pie=function(t){$.each(t.data,function(e){t.data[e].color=_charts.colors[e],t.data[e].labelFontSize="16",t.data[e].labelColor="white"}),new Chart(t.ctx).Pie(t.data)},this.bar=function(t){var e={labels:[],datasets:[{data:[]}]},i=0;$.each(t.data,function(t,n){i=Math.max(i,n.value),e.labels.push(n.label),e.datasets[0].data.push(n.value)
}),e.datasets[0].fillColor="rgba(220,220,220,0.5)",e.datasets[0].strokeColor="rgba(220,220,220,0.8)",e.datasets[0].highlightFill="rgba(220,220,220,0.75)",e.datasets[0].highlightStroke="rgba(220,220,220,1)",new Chart(t.ctx).Bar(e,{scaleOverride:!0,scaleSteps:10,scaleStepWidth:Math.ceil(i/9),scaleStartValue:0,scaleGridLineColor:"rgba(0,0,0,.05)"})}},app.upload=new function(){_upload=this,this.els={},this.forms={},this.apis={templateFile:"_template.php",uploadFile:"_uploadFile.php",importFile:"_import.php"},this.data={uploadFile:null,dataTable:{},tableCols:{},table:null},this.init=function(){_upload.getEls(),_upload.getTableCols(),_upload.els.getTemplateBtn.click(_upload.getTemplate),_upload.els.fileSelect.click(_upload.fileSelect),_upload.els.fileImport.click(_upload.fileImport),_upload.els.file.on("change",_upload.uploadSelectedFile),app.libs.waitForLib({lib:"jqueryui",cb:function(){_upload.setupTabs(),_upload.els.content.show()}})},this.setupTabs=function(){_upload.els.tableTabs.tabs({activate:function(t,e){_upload.openTableTab({tab:$(e.newTab),panel:$(e.newPanel)})},create:function(t,e){_upload.openTableTab({tab:$(e.tab),panel:$(e.panel)})}})},this.openTableTab=function(t){var e=t.tab.data("table");_upload.data.table=e,_upload.filePreview(),_upload.clearFile()},this.getEls=function(){_upload.els={content:$("#content"),fileSelect:$("#file_select"),fileImport:$("#file_import"),getTemplateBtn:$("#download_template"),file:$("#file"),csvIframe:$("#csv_iframe"),filePreview:{users:$("#file-preview-users"),students:$("#file-preview-students")},tableTabs:$("#tableTabs")},_upload.forms={fileUploadForm:$("#file_upload_form")}},this.getTableCols=function(){window.tableCols&&(_upload.data.tableCols=window.tableCols)},this.getSelectedTable=function(){return _upload.data.table},this.getTemplate=function(){var t=_upload.apis.templateFile+"?table="+_upload.getSelectedTable();_upload.els.csvIframe.attr("src",t)},this.fileSelect=function(){event.preventDefault(),_upload.els.file.trigger("click")},this.clearFile=function(){_upload.els.file.val("")},this.uploadSelectedFile=function(){event.preventDefault();var t=event.target.files[0],e=new FormData;return _upload.filePreview(),t&&t.name.match(/.csv/)?(e.append("myfile",t),e.append("extension","csv"),e.append("table",_upload.getSelectedTable()),$.ajax({type:"POST",url:_upload.apis.uploadFile,data:e,dataType:"json",processData:!1,contentType:!1}).done(function(t){if("true"==t.success){var e=t.columns,i=[];$.each(t.data,function(t,n){var a={};$.each(e,function(t,e){a[e]=n[t]}),i.push(a)}),_upload.data.uploadFile=t.file,_upload.filePreview({show:!0,data:i,cols:e})}else{var n=t.error?t.error:"Server Error!";setTimeout(function(){$(document).overlay({show:!0,msg:n,delay:2e3})},1)}_upload.clearFile()}),void 0):($(document).overlay({show:!0,msg:"Invalid File!",delay:2e3}),!1)},this.filePreview=function(t){t||(t={}),t.show||(t.show=!1),t.data||(t.data=[]);var e=_upload.data.table,i=_upload.els.filePreview[e];_upload.data.tableCols[e],t.data.length>0?_upload.els.fileImport.show():_upload.els.fileImport.hide(),console.log("params",t);var n={data:t.data,columns:t.cols,dataObj:_upload.data.dataTable,paging:!1,prependTo:i};i.empty().show(),console.log("-------",n),app.table.createTable(n)},this.fileImport=function(){$.ajax({url:_upload.apis.importFile,data:{table:_upload.getSelectedTable(),file:_upload.data.uploadFile}}).done(function(t){t=$.parseJSON(t);var e=t.msg?t.msg:"Server Error!";if(setTimeout(function(){$(document).overlay({show:!0,msg:e,delay:2e3})},1),"true"==t.success)_upload.filePreview();else{var i=_upload.data.table,n=_upload.els.filePreview[i],a=n.find("tbody tr");$.each(a,function(e,i){$.inArray(e,t.failedRows)>-1&&$(i).addClass("error")})}})}},app.dataExport=new function(){_dataExport=this,this.els={},this.data={type:null,table:null,editModeToggle:["off","delete"],dates:{from:null,to:null}},this.apis={events:"../backend/_services.php?service=exportData",signatures:"../backend/_services.php?service=exportData",emailBlast:"../backend/_services.php?service=exportData",eventDelete:"../backend/_services.php?service=exportDelete"},this.init=function(){_dataExport.getEls(),app.config.isMobile||(EventManager.observe("RowSelect:delete",_dataExport.rowDelete),EventManager.observe("RowSelect:edit",_dataExport.rowEdit)),_dataExport.datePicker(),_dataExport.setupTabs(),EventManager.observe_once("Table:loaded",function(){_dataExport.els.content.show()})},this.getEls=function(){_dataExport.els={content:$("#content"),fromDate:$("#date-picker-from"),toDate:$("#date-picker-to"),tableWrapper:$("#table-wrapper"),tableType:$("#table-type"),tableTabs:$("#tableTabs")}},this.setupTabs=function(){_dataExport.els.tableTabs.tabs({activate:function(t,e){_dataExport.data.type=$(e.newTab).data("table"),_dataExport.getTableData()},create:function(t,e){_dataExport.data.type=$(e.tab).data("table"),_dataExport.getTableData()}})},this.datePicker=function(){var t=new Date,e=function(){var t=new Date;return t.setMonth(t.getMonth()-1),t};_dataExport.els.fromDate.datepicker({changeMonth:!0,maxDate:0,onClose:function(t){t||(t=0),t!=_dataExport.data.dates.from&&(_dataExport.data.dates.from=t,_dataExport.els.toDate.datepicker("option","minDate",t),_dataExport.getTableData())}}).datepicker("setDate",e()),_dataExport.data.dates.from=_dataExport.els.fromDate.val(),_dataExport.els.toDate.datepicker({changeMonth:!0,maxDate:0,onClose:function(t){t||(t=0),t!=_dataExport.data.dates.to&&(_dataExport.data.dates.to=t,_dataExport.els.fromDate.datepicker("option","maxDate",t),_dataExport.getTableData())}}).datepicker("setDate",t),_dataExport.data.dates.to=_dataExport.els.toDate.val()},this.getTableData=function(){var t=_dataExport.data.type,e=$("#table-wrapper-"+t),i={user:_dataExport.data.userId,fromDate:_dataExport.els.fromDate.val(),toDate:_dataExport.els.toDate.val(),table:t};$.ajax({url:_dataExport.apis[t],data:i}).done(function(t){t=$.parseJSON(t);var i=_dataExport.getExportButtons(),n=app.config.isMobile?!1:!0,a=app.config.isMobile?!1:_dataExport.data.editModeToggle;e.empty(),app.table.createTable({sort:t.sort?[[t.sort,"desc"]]:null,data:t.rows,columns:t.cols,colLabels:t.colLabels,prependTo:e,"export":n,exportBtns:i,paging:!1,dataObj:_dataExport.data,editModeToggle:a,expandRows:!1,cb:function(){EventManager.fire("Table:loaded")}})})},this.getExportButtons=function(){var t=app.dataExport.data.type,e=[],i=_dataExport.generateFileName();return"events"==t||"emailBlast"==t?e.push({sExtends:"csv",sFileName:i+".csv"},{sExtends:"xls",sFileName:i+".xls"},{sExtends:"print"}):e.push({sExtends:"print"}),e},this.generateFileName=function(){var t,e=_dataExport.els.fromDate.val(),i=_dataExport.els.toDate.val(),n=_dataExport.data.type;return t=n+"-",t+=e.replace(/\//g,".")+"-",t+=i.replace(/\//g,".")},this.rowDelete=function(t){var e=t.data,i=e.table,n=t.row,a=n.find(".id").text(),s=!1;return 1==confirm("Delete this note?")&&(s=!0),s&&a?($.ajax({url:_dataExport.apis.eventDelete,data:{id:a}}).done(function(t){t=$.parseJSON(t),t.status&&app.global.animate(n,"flash",null,function(){i.fnDeleteRow(n)})}),void 0):!0}},app.connection=new function(){_connection=this,this.els={},this.data={},this.apis={getUserData:"_userDetails.php",connectionList:"_connections4.php",connectUpdate:"_update.php",userEidt:"_userEdit.php",userDelete:"_userDelete.php"},this.init=function(){_connection.getEls(),_connection.data.userid=_connection.els.user_select.val(),_connection.els.user_select.on("change",_connection.userSelect),_connection.els.addStudentsBtn.click(_connection.addSelected),_connection.els.removeStudentsBtn.click(_connection.removeSelected),app.libs.waitForLib({lib:"jqueryui",cb:_connection.buildUi})},this.buildUi=function(){_connection.setupTabs(),_connection.els.content.show()},this.getEls=function(){_connection.els={content:$("#content"),user_select:$("#user_select"),not_selected_table:$(".not_selected_wrapper table"),selected_table:$(".selected_wrapper table"),filter_tabs:$(".filter-tabs"),connection_tabs:$(".connection-tabs"),addStudentsBtn:$("#add_selected_students"),removeStudentsBtn:$("#remove_selected_students"),not_selected_selected_count:$("#not_selected_selected_count"),selected_selected_count:$("#selected_selected_count")}},this.userSelect=function(){var t=$(this).val();t.length>0&&(window.location.href=window.location.href.split("?")[0]+"?user="+t)},this.updateSelectedCount=function(){var t=_connection.data.activeTab.available.selectedIds,e=_connection.data.activeTab.selected.selectedIds;_connection.data.activeTab.available.selectCount.text(t.length),_connection.data.activeTab.selected.selectCount.text(e.length)},this.updateTableCount=function(){if(_connection.data.activeTab.available.table){var t=_connection.data.activeTab.available.table.fnSettings().fnRecordsTotal();_connection.data.activeTab.available.totalCount.text(t)}if(_connection.data.activeTab.selected.table){var e=_connection.data.activeTab.selected.table.fnSettings().fnRecordsTotal();_connection.data.activeTab.selected.totalCount.text(e)}},this.setupTabs=function(){_connection.els.connection_tabs.tabs(),_connection.els.filter_tabs.tabs({activate:function(t,e){_connection.openFilterTab({tab:$(e.newTab),panel:$(e.newPanel)})},create:function(t,e){_connection.openFilterTab({tab:$(e.tab),panel:$(e.panel)})}})},this.getTableData=function(){var t=((new Date).getTime(),{type:_connection.data.activeTab.type,filter:_connection.data.activeTab.filter,selectedUserId:_connection.els.user_select.val()});$.ajax({url:_connection.apis.connectionList,data:t}).done(function(t){t=$.parseJSON(t),"true"==t.success&&(app.table.createTable({data:t.available,columns:t.columns,paging:!1,prependTo:_connection.data.activeTab.available.panel,dataObj:_connection.data.activeTab.available,selectToggle:!0,selectTableRows:!0,editModeToggle:["add","edit","delete"]}),app.table.createTable({data:t.selected,columns:t.columns,paging:!1,prependTo:_connection.data.activeTab.selected.panel,dataObj:_connection.data.activeTab.selected,selectToggle:!0,selectTableRows:!0,editModeToggle:["add","edit","delete"]}),_connection.els.filter_tabs.show())})},this.openFilterTab=function(t){try{_connection.data.activeTab.available.table&&(_connection.data.activeTab.available.table.fnDestroy(),_connection.data.activeTab.available.dataTable.remove()),_connection.data.activeTab.selected.table&&(_connection.data.activeTab.selected.table.fnDestroy(),_connection.data.activeTab.selected.dataTable.remove())}catch(e){}_connection.data.activeTab={},_connection.data.activeTab.tab=t.tab,_connection.data.activeTab.panel=t.panel,_connection.data.activeTab.type=t.tab.data("type"),_connection.data.activeTab.filter=t.tab.data("filter"),_connection.data.activeTab.available={},_connection.data.activeTab.available.tab=t.panel.find(".available-tab"),_connection.data.activeTab.available.table=null,_connection.data.activeTab.available.dataTable=null,_connection.data.activeTab.available.selectedIds=[],_connection.data.activeTab.available.panel=t.panel.find(".available-panel"),_connection.data.activeTab.available.totalCount=t.panel.find(".available-total-count"),_connection.data.activeTab.available.selectCount=t.panel.find(".selected-add-count"),_connection.data.activeTab.available.saveBtn=t.panel.find(".btn-add"),_connection.data.activeTab.selected={},_connection.data.activeTab.selected.tab=t.panel.find(".selected-tab"),_connection.data.activeTab.selected.table=null,_connection.data.activeTab.selected.dataTable=null,_connection.data.activeTab.selected.selectedIds=[],_connection.data.activeTab.selected.panel=t.panel.find(".selected-panel"),_connection.data.activeTab.selected.totalCount=t.panel.find(".selected-total-count"),_connection.data.activeTab.selected.selectCount=t.panel.find(".selected-remove-count"),_connection.data.activeTab.selected.saveBtn=t.panel.find(".btn-remove"),_connection.getTableData(),EventManager.observe("RowSelectUpdate",_connection.updateSelectedCount),EventManager.observe("TableRowCount",_connection.updateTableCount),EventManager.observe("RowSelect:edit",_connection.rowEdit),EventManager.observe("RowSelect:delete",_connection.rowDelete),_connection.data.activeTab.available.saveBtn.click({action:"add",type:_connection.data.activeTab.type,ids:_connection.data.activeTab.available.selectedIds,userid:_connection.data.userid},_connection.addSelected),_connection.data.activeTab.selected.saveBtn.click({action:"remove",type:_connection.data.activeTab.type,ids:_connection.data.activeTab.selected.selectedIds,userid:_connection.data.userid},_connection.removeSelected)},this.addSelected=function(t){var e=t.data;return e?e.ids&&0!=e.ids.length?($.ajax({url:_connection.apis.connectUpdate,type:"POST",data:e}).done(function(t){t=$.parseJSON(t),"1"==t.success&&_connection.moveTableRows({action:"add",ids:t.students})}),void 0):!1:!1},this.removeSelected=function(t){var e=t.data;return e?e.ids&&0!=e.ids.length?($.ajax({url:_connection.apis.connectUpdate,type:"POST",data:e}).done(function(t){t=$.parseJSON(t),"1"==t.success&&_connection.moveTableRows({action:"remove",ids:t.students})}),void 0):!1:!1},this.moveTableRows=function(t){var e=_connection.data.activeTab,i="add"==t.action?e.available:e.selected,n="add"==t.action?e.selected:e.available,a=(n.table.find("tbody"),t.ids);i.table.dataTable().fnFilter(""),n.table.dataTable().fnFilter("");var s=i.table.find("tbody tr");$.each(s,function(t,e){var s=e._DT_RowIndex,o=i.table.fnGetData(s),r=app.global.removeHTML(o[0]);$.inArray(r,a)>=0&&(app.table.toggleSelectedIds({storage:i.selectedIds,ids:[r],action:"remove"}),n.table.fnAddData(o),i.table.fnDeleteRow(e),EventManager.fire("TableRowCount"))}),n.tab.trigger("click"),n.dataTable.scrollTop(n.dataTable.prop("scrollHeight"))},this.rowEdit=function(t){var e=t.data,i=e.table,n=e.columns,a=t.row,s=i.fnGetData(a);a.addClass("ui-selected");var o=$('<div class="edit-form"></div>');$.each(n,function(t,e){var i=app.global.removeHTML(s[t]),n=e.title,a=$('<div class="input-group '+n+'"></div>'),r=$('<span class="input-group-addon">'+n+"</span>"),l=$('<input type="text" data-col="'+n+'" class="valueEl form-control" value="'+i+'">');a.append(r).append(l),o.append(a)}),app.global.dialogConfirm({msg:o,width:600,yesBtn:"Save",noBtn:"Cancel",cancelCallback:function(){a.removeClass("ui-selected")},saveCallback:function(){var t=o.find(".valueEl"),e={};$.each(t,function(t,i){var n=$(i).data("col"),a=$(i).val();e[n]=a}),_connection.editRowSave({data:e,row:a,table:i})}})},this.editRowSave=function(t){var e=t.data,i=t.row,n=t.table,a=t.cb;$.ajax({url:_connection.apis.userEidt,data:{type:_connection.data.activeTab.type,user:e}}).done(function(t){t=$.parseJSON(t);var s=[];$.each(e,function(t,e){s.push(e)}),n.fnUpdate(s,i),a&&a(),app.global.animate(i,"flash")})},this.rowDelete=function(t){var e=t.data,i=e.table,n=t.row,a=n.find(".id").text(),s=!1;return 1==confirm("Delete this user?")&&(s=!0),s&&a?($.ajax({url:_connection.apis.userDelete,data:{type:_connection.data.activeTab.type,id:a}}).done(function(t){t=$.parseJSON(t),t.status&&app.global.animate(n,"flash",null,function(){i.fnDeleteRow(n)})}),void 0):!0}},app.reports=new function(){_reports=this,this.data={},this.els={content:$("#content")},this.charts=[{api:"_eventCount.php",title:"Total Meetings",type:"bar"},{api:"_eventReasons.php",title:"Meeting Reasons",type:"bar"},{api:"_eventLocations.php",title:"Meeting Locations",type:"bar"},{api:"_eventDurations.php",title:"Meeting Length",type:"bar"}],this.init=function(){_reports.getChartData()},this.getChartData=function(){if(0>=_reports.charts.length)return!1;var t=_reports.charts.shift();$.ajax({url:t.api}).done(function(e){e=$.parseJSON(e),tools.charts.create({title:t.title,appendTo:_reports.els.content,type:t.type,data:e}),_reports.getChartData()})}},function(t,e,i){var n=function(n){function a(t){var e,i,s={};n.each(t,function(n){(e=n.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(e[1]+" ")&&(i=n.replace(e[0],e[2].toLowerCase()),s[i]=n,"o"===e[1]&&a(t[n]))}),t._hungarianMap=s}function s(t,e,o){t._hungarianMap||a(t);var r;n.each(e,function(a){r=t._hungarianMap[a],r===i||!o&&e[r]!==i||("o"===r.charAt(0)?(e[r]||(e[r]={}),n.extend(!0,e[r],e[a]),s(t[r],e[r],o)):e[r]=e[a])})}function o(t){var e=Ye.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Ne(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Ne(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&Ue(t)}function r(t){if(fi(t,"ordering","bSort"),fi(t,"orderMulti","bSortMulti"),fi(t,"orderClasses","bSortClasses"),fi(t,"orderCellsTop","bSortCellsTop"),fi(t,"order","aaSorting"),fi(t,"orderFixed","aaSortingFixed"),fi(t,"paging","bPaginate"),fi(t,"pagingType","sPaginationType"),fi(t,"pageLength","iDisplayLength"),fi(t,"searching","bFilter"),t=t.aoSearchCols)for(var e=0,i=t.length;i>e;e++)t[e]&&s(Ye.models.oSearch,t[e])}function l(t){fi(t,"orderable","bSortable"),fi(t,"orderData","aDataSort"),fi(t,"orderSequence","asSorting"),fi(t,"orderDataType","sortDataType")}function c(t){var t=t.oBrowser,e=n("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(n("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(n('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),i=e.find(".test");t.bScrollOversize=100===i[0].offsetWidth,t.bScrollbarLeft=1!==i.offset().left,e.remove()}function h(t,e,n,a,s,o){var r,l=!1;for(n!==i&&(r=n,l=!0);a!==s;)t.hasOwnProperty(a)&&(r=l?e(r,t[a],a,t):t[a],l=!0,a+=o);return r}function u(t,i){var a=Ye.defaults.column,s=t.aoColumns.length,a=n.extend({},Ye.models.oColumn,a,{nTh:i?i:e.createElement("th"),sTitle:a.sTitle?a.sTitle:i?i.innerHTML:"",aDataSort:a.aDataSort?a.aDataSort:[s],mData:a.mData?a.mData:s,idx:s});t.aoColumns.push(a),a=t.aoPreSearchCols,a[s]=n.extend({},Ye.models.oSearch,a[s]),d(t,s,null)}function d(t,e,a){var e=t.aoColumns[e],o=t.oClasses,r=n(e.nTh);if(!e.sWidthOrig){e.sWidthOrig=r.attr("width")||null;var c=(r.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(e.sWidthOrig=c[1])}a!==i&&null!==a&&(l(a),s(Ye.defaults.column,a),a.mDataProp!==i&&!a.mData&&(a.mData=a.mDataProp),a.sType&&(e._sManualType=a.sType),a.className&&!a.sClass&&(a.sClass=a.className),n.extend(e,a),Ne(e,a,"sWidth","sWidthOrig"),"number"==typeof a.iDataSort&&(e.aDataSort=[a.iDataSort]),Ne(e,a,"aDataSort"));var h=e.mData,u=C(h),d=e.mRender?C(e.mRender):null,a=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};e._bAttrSrc=n.isPlainObject(h)&&(a(h.sort)||a(h.type)||a(h.filter)),e.fnGetData=function(t,e,n){var a=u(t,e,i,n);return d&&e?d(a,e,t,n):a},e.fnSetData=function(t,e,i){return k(h)(t,e,i)},"number"!=typeof h&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,r.addClass(o.sSortableNone)),t=-1!==n.inArray("asc",e.asSorting),a=-1!==n.inArray("desc",e.asSorting),e.bSortable&&(t||a)?t&&!a?(e.sSortingClass=o.sSortableAsc,e.sSortingClassJUI=o.sSortJUIAscAllowed):!t&&a?(e.sSortingClass=o.sSortableDesc,e.sSortingClassJUI=o.sSortJUIDescAllowed):(e.sSortingClass=o.sSortable,e.sSortingClassJUI=o.sSortJUI):(e.sSortingClass=o.sSortableNone,e.sSortingClassJUI="")}function p(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;me(t);for(var i=0,n=e.length;n>i;i++)e[i].nTh.style.width=e[i].sWidth}e=t.oScroll,(""!==e.sY||""!==e.sX)&&fe(t),je(t,null,"column-sizing",[t])}function f(t,e){var i=v(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function g(t,e){var i=v(t,"bVisible"),i=n.inArray(e,i);return-1!==i?i:null}function m(t){return v(t,"bVisible").length}function v(t,e){var i=[];return n.map(t.aoColumns,function(t,n){t[e]&&i.push(n)}),i}function b(t){var e,n,a,s,o,r,l,c,h,u=t.aoColumns,d=t.aoData,p=Ye.ext.type.detect;for(e=0,n=u.length;n>e;e++)if(l=u[e],h=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(a=0,s=p.length;s>a;a++){for(o=0,r=d.length;r>o&&(h[o]===i&&(h[o]=x(t,o,e,"type")),c=p[a](h[o],t),c||a===p.length-1)&&"html"!==c;o++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function y(t,e,a,s){var o,r,l,c,h,d,p=t.aoColumns;if(e)for(o=e.length-1;o>=0;o--){d=e[o];var f=d.targets!==i?d.targets:d.aTargets;for(n.isArray(f)||(f=[f]),r=0,l=f.length;l>r;r++)if("number"==typeof f[r]&&f[r]>=0){for(;p.length<=f[r];)u(t);s(f[r],d)}else if("number"==typeof f[r]&&0>f[r])s(p.length+f[r],d);else if("string"==typeof f[r])for(c=0,h=p.length;h>c;c++)("_all"==f[r]||n(p[c].nTh).hasClass(f[r]))&&s(c,d)}if(a)for(o=0,t=a.length;t>o;o++)s(o,a[o])}function _(t,e,i,a){var s=t.aoData.length,o=n.extend(!0,{},Ye.models.oRow,{src:i?"dom":"data"});o._aData=e,t.aoData.push(o);for(var e=t.aoColumns,o=0,r=e.length;r>o;o++)i&&T(t,s,o,x(t,s,o)),e[o].sType=null;return t.aiDisplayMaster.push(s),(i||!t.oFeatures.bDeferRender)&&F(t,s,i,a),s}function w(t,e){var i;return e instanceof n||(e=n(e)),e.map(function(e,n){return i=E(t,n),_(t,i.data,n,i.cells)})}function x(t,e,n,a){var s=t.iDraw,o=t.aoColumns[n],r=t.aoData[e]._aData,l=o.sDefaultContent,n=o.fnGetData(r,a,{settings:t,row:e,col:n});if(n===i)return t.iDrawError!=s&&null===l&&(Le(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e,4),t.iDrawError=s),l;if(n!==r&&null!==n||null===l){if("function"==typeof n)return n.call(r)}else n=l;return null===n&&"display"==a?"":n}function T(t,e,i,n){t.aoColumns[i].fnSetData(t.aoData[e]._aData,n,{settings:t,row:e,col:i})}function S(t){return n.map(t.match(/(\\.|[^\.])+/g),function(t){return t.replace(/\\./g,".")})}function C(t){if(n.isPlainObject(t)){var e={};return n.each(t,function(t,i){i&&(e[t]=C(i))}),function(t,n,a,s){var o=e[n]||e._;return o!==i?o(t,n,a,s):t}}if(null===t)return function(t){return t};if("function"==typeof t)return function(e,i,n,a){return t(e,i,n,a)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var a=function(t,e,n){var s,o;if(""!==n){o=S(n);for(var r=0,l=o.length;l>r;r++){if(n=o[r].match(gi),s=o[r].match(mi),n){for(o[r]=o[r].replace(gi,""),""!==o[r]&&(t=t[o[r]]),s=[],o.splice(0,r+1),o=o.join("."),r=0,l=t.length;l>r;r++)s.push(a(t[r],e,o));t=n[0].substring(1,n[0].length-1),t=""===t?s:s.join(t);break}if(s)o[r]=o[r].replace(mi,""),t=t[o[r]]();else{if(null===t||t[o[r]]===i)return i;t=t[o[r]]}}}return t};return function(e,i){return a(e,i,t)}}return function(e){return e[t]}}function k(t){if(n.isPlainObject(t))return k(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,i,n){t(e,"set",i,n)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var e=function(t,n,a){var s,a=S(a);s=a[a.length-1];for(var o,r,l=0,c=a.length-1;c>l;l++){if(o=a[l].match(gi),r=a[l].match(mi),o){for(a[l]=a[l].replace(gi,""),t[a[l]]=[],s=a.slice(),s.splice(0,l+1),o=s.join("."),r=0,c=n.length;c>r;r++)s={},e(s,n[r],o),t[a[l]].push(s);return}r&&(a[l]=a[l].replace(mi,""),t=t[a[l]](n)),(null===t[a[l]]||t[a[l]]===i)&&(t[a[l]]={}),t=t[a[l]]}s.match(mi)?t[s.replace(mi,"")](n):t[s.replace(gi,"")]=n};return function(i,n){return e(i,n,t)}}return function(e,i){e[t]=i}}function D(t){return ci(t.aoData,"_aData")}function I(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0}function A(t,e,n){for(var a=-1,s=0,o=t.length;o>s;s++)t[s]==e?a=s:t[s]>e&&t[s]--;-1!=a&&n===i&&t.splice(a,1)}function P(t,e,n,a){var s,o=t.aoData[e],r=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=x(t,e,n,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==o.src)){var l=o.anCells;if(l)if(a!==i)r(l[a],a);else for(n=0,s=l.length;s>n;n++)r(l[n],n)}else o._aData=E(t,o,a,a===i?i:o._aData).data;if(o._aSortData=null,o._aFilterData=null,r=t.aoColumns,a!==i)r[a].sType=null;else{for(n=0,s=r.length;s>n;n++)r[n].sType=null;M(o)}}function E(t,e,a,s){var o,r,l=[],c=e.firstChild,h=0,u=t.aoColumns,d=t._rowReadObject,s=s||d?{}:[],p=function(t,e){if("string"==typeof t){var i=t.indexOf("@");-1!==i&&(i=t.substring(i+1),k(t)(s,e.getAttribute(i)))}},t=function(t){(a===i||a===h)&&(o=u[h],r=n.trim(t.innerHTML),o&&o._bAttrSrc?(k(o.mData._)(s,r),p(o.mData.sort,t),p(o.mData.type,t),p(o.mData.filter,t)):d?(o._setter||(o._setter=k(o.mData)),o._setter(s,r)):s[h]=r),h++};if(c)for(;c;)e=c.nodeName.toUpperCase(),("TD"==e||"TH"==e)&&(t(c),l.push(c)),c=c.nextSibling;else for(l=e.anCells,c=0,e=l.length;e>c;c++)t(l[c]);return{data:s,cells:l}}function F(t,i,n,a){var s,o,r,l,c,h=t.aoData[i],u=h._aData,d=[];if(null===h.nTr){for(s=n||e.createElement("tr"),h.nTr=s,h.anCells=d,s._DT_RowIndex=i,M(h),l=0,c=t.aoColumns.length;c>l;l++)r=t.aoColumns[l],o=n?a[l]:e.createElement(r.sCellType),d.push(o),(!n||r.mRender||r.mData!==l)&&(o.innerHTML=x(t,i,l,"display")),r.sClass&&(o.className+=" "+r.sClass),r.bVisible&&!n?s.appendChild(o):!r.bVisible&&n&&o.parentNode.removeChild(o),r.fnCreatedCell&&r.fnCreatedCell.call(t.oInstance,o,x(t,i,l),u,i,l);je(t,"aoRowCreatedCallback",null,[s,u,i])}h.nTr.setAttribute("role","row")}function M(t){var e=t.nTr,i=t._aData;if(e){if(i.DT_RowId&&(e.id=i.DT_RowId),i.DT_RowClass){var a=i.DT_RowClass.split(" ");t.__rowc=t.__rowc?pi(t.__rowc.concat(a)):a,n(e).removeClass(t.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowData&&n(e).data(i.DT_RowData)}}function L(t){var e,i,a,s,o,r=t.nTHead,l=t.nTFoot,c=0===n("th, td",r).length,h=t.oClasses,u=t.aoColumns;for(c&&(s=n("<tr/>").appendTo(r)),e=0,i=u.length;i>e;e++)o=u[e],a=n(o.nTh).addClass(o.sClass),c&&a.appendTo(s),t.oFeatures.bSort&&(a.addClass(o.sSortingClass),!1!==o.bSortable&&(a.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Ie(t,o.nTh,e))),o.sTitle!=a.html()&&a.html(o.sTitle),Be(t,"header")(t,a,o,h);if(c&&j(t.aoHeader,r),n(r).find(">tr").attr("role","row"),n(r).find(">tr>th, >tr>td").addClass(h.sHeaderTH),n(l).find(">tr>th, >tr>td").addClass(h.sFooterTH),null!==l)for(t=t.aoFooter[0],e=0,i=t.length;i>e;e++)o=u[e],o.nTf=t[e].cell,o.sClass&&n(o.nTf).addClass(o.sClass)}function N(t,e,a){var s,o,r,l,c=[],h=[],u=t.aoColumns.length;if(e){for(a===i&&(a=!1),s=0,o=e.length;o>s;s++){for(c[s]=e[s].slice(),c[s].nTr=e[s].nTr,r=u-1;r>=0;r--)!t.aoColumns[r].bVisible&&!a&&c[s].splice(r,1);h.push([])}for(s=0,o=c.length;o>s;s++){if(t=c[s].nTr)for(;r=t.firstChild;)t.removeChild(r);for(r=0,e=c[s].length;e>r;r++)if(l=u=1,h[s][r]===i){for(t.appendChild(c[s][r].cell),h[s][r]=1;c[s+u]!==i&&c[s][r].cell==c[s+u][r].cell;)h[s+u][r]=1,u++;for(;c[s][r+l]!==i&&c[s][r].cell==c[s][r+l].cell;){for(a=0;u>a;a++)h[s+a][r+l]=1;l++}n(c[s][r].cell).attr("rowspan",u).attr("colspan",l)}}}}function $(t){var e=je(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==n.inArray(!1,e))de(t,!1);else{var e=[],a=0,s=t.asStripeClasses,o=s.length,r=t.oLanguage,l=t.iInitDisplayStart,c="ssp"==ze(t),h=t.aiDisplay;t.bDrawing=!0,l!==i&&-1!==l&&(t._iDisplayStart=c?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var l=t._iDisplayStart,u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,de(t,!1);else if(c){if(!t.bDestroying&&!z(t))return}else t.iDraw++;if(0!==h.length)for(r=c?t.aoData.length:u,c=c?0:l;r>c;c++){var d=h[c],p=t.aoData[d];if(null===p.nTr&&F(t,d),d=p.nTr,0!==o){var f=s[a%o];p._sRowStripe!=f&&(n(d).removeClass(p._sRowStripe).addClass(f),p._sRowStripe=f)}je(t,"aoRowCallback",null,[d,p._aData,a,c]),e.push(d),a++}else a=r.sZeroRecords,1==t.iDraw&&"ajax"==ze(t)?a=r.sLoadingRecords:r.sEmptyTable&&0===t.fnRecordsTotal()&&(a=r.sEmptyTable),e[0]=n("<tr/>",{"class":o?s[0]:""}).append(n("<td />",{valign:"top",colSpan:m(t),"class":t.oClasses.sRowEmpty}).html(a))[0];je(t,"aoHeaderCallback","header",[n(t.nTHead).children("tr")[0],D(t),l,u,h]),je(t,"aoFooterCallback","footer",[n(t.nTFoot).children("tr")[0],D(t),l,u,h]),s=n(t.nTBody),s.children().detach(),s.append(n(e)),je(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function O(t,e){var i=t.oFeatures,n=i.bFilter;i.bSort&&Ce(t),n?X(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,$(t),t._drawHold=!1}function R(t){var e=t.oClasses,i=n(t.nTable),i=n("<div/>").insertBefore(i),a=t.oFeatures,s=n("<div/>",{id:t.sTableId+"_wrapper","class":e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=s[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var o,r,l,c,h,u,d=t.sDom.split(""),p=0;d.length>p;p++){if(o=null,r=d[p],"<"==r){if(l=n("<div/>")[0],c=d[p+1],"'"==c||'"'==c){for(h="",u=2;d[p+u]!=c;)h+=d[p+u],u++;"H"==h?h=e.sJUIHeader:"F"==h&&(h=e.sJUIFooter),-1!=h.indexOf(".")?(c=h.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==h.charAt(0)?l.id=h.substr(1,h.length-1):l.className=h,p+=u}s.append(l),s=n(l)}else if(">"==r)s=s.parent();else if("l"==r&&a.bPaginate&&a.bLengthChange)o=le(t);else if("f"==r&&a.bFilter)o=Y(t);else if("r"==r&&a.bProcessing)o=ue(t);else if("t"==r)o=pe(t);else if("i"==r&&a.bInfo)o=ie(t);else if("p"==r&&a.bPaginate)o=ce(t);else if(0!==Ye.ext.feature.length)for(l=Ye.ext.feature,u=0,c=l.length;c>u;u++)if(r==l[u].cFeature){o=l[u].fnInit(t);break}o&&(l=t.aanFeatures,l[r]||(l[r]=[]),l[r].push(o),s.append(o))}i.replaceWith(s)}function j(t,e){var i,a,s,o,r,l,c,h,u,d,p=n(e).children("tr");for(t.splice(0,t.length),s=0,l=p.length;l>s;s++)t.push([]);for(s=0,l=p.length;l>s;s++)for(i=p[s],a=i.firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase()){for(h=1*a.getAttribute("colspan"),u=1*a.getAttribute("rowspan"),h=h&&0!==h&&1!==h?h:1,u=u&&0!==u&&1!==u?u:1,o=0,r=t[s];r[o];)o++;for(c=o,d=1===h?!0:!1,r=0;h>r;r++)for(o=0;u>o;o++)t[s+o][c+r]={cell:a,unique:d},t[s+o].nTr=i}a=a.nextSibling}}function H(t,e,i){var n=[];i||(i=t.aoHeader,e&&(i=[],j(i,e)));for(var e=0,a=i.length;a>e;e++)for(var s=0,o=i[e].length;o>s;s++)!i[e][s].unique||n[s]&&t.bSortCellsTop||(n[s]=i[e][s].cell);return n}function B(t,e,i){if(je(t,"aoServerParams","serverParams",[e]),e&&n.isArray(e)){var a={},s=/(.*?)\[\]$/;n.each(e,function(t,e){var i=e.name.match(s);i?(i=i[0],a[i]||(a[i]=[]),a[i].push(e.value)):a[e.name]=e.value}),e=a}var o,r=t.ajax,l=t.oInstance;if(n.isPlainObject(r)&&r.data){o=r.data;var c=n.isFunction(o)?o(e):o,e=n.isFunction(o)&&c?c:n.extend(!0,e,c);delete r.data}c={data:e,success:function(e){var n=e.error||e.sError;n&&t.oApi._fnLog(t,0,n),t.json=e,je(t,null,"xhr",[t,e]),i(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(e,i){var n=t.oApi._fnLog;"parsererror"==i?n(t,0,"Invalid JSON response",1):4===e.readyState&&n(t,0,"Ajax error",7),de(t,!1)}},t.oAjaxData=e,je(t,null,"preXhr",[t,e]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,n.map(e,function(t,e){return{name:e,value:t}}),i,t):t.sAjaxSource||"string"==typeof r?t.jqXHR=n.ajax(n.extend(c,{url:r||t.sAjaxSource})):n.isFunction(r)?t.jqXHR=r.call(l,e,i,t):(t.jqXHR=n.ajax(n.extend(c,r)),r.data=o)}function z(t){return t.bAjaxDataGet?(t.iDraw++,de(t,!0),B(t,W(t),function(e){U(t,e)}),!1):!0}function W(t){var e,i,a,s,o=t.aoColumns,r=o.length,l=t.oFeatures,c=t.oPreviousSearch,h=t.aoPreSearchCols,u=[],d=Se(t);e=t._iDisplayStart,i=!1!==l.bPaginate?t._iDisplayLength:-1;var p=function(t,e){u.push({name:t,value:e})};p("sEcho",t.iDraw),p("iColumns",r),p("sColumns",ci(o,"sName").join(",")),p("iDisplayStart",e),p("iDisplayLength",i);var f={draw:t.iDraw,columns:[],order:[],start:e,length:i,search:{value:c.sSearch,regex:c.bRegex}};for(e=0;r>e;e++)a=o[e],s=h[e],i="function"==typeof a.mData?"function":a.mData,f.columns.push({data:i,name:a.sName,searchable:a.bSearchable,orderable:a.bSortable,search:{value:s.sSearch,regex:s.bRegex}}),p("mDataProp_"+e,i),l.bFilter&&(p("sSearch_"+e,s.sSearch),p("bRegex_"+e,s.bRegex),p("bSearchable_"+e,a.bSearchable)),l.bSort&&p("bSortable_"+e,a.bSortable);return l.bFilter&&(p("sSearch",c.sSearch),p("bRegex",c.bRegex)),l.bSort&&(n.each(d,function(t,e){f.order.push({column:e.col,dir:e.dir}),p("iSortCol_"+t,e.col),p("sSortDir_"+t,e.dir)}),p("iSortingCols",d.length)),o=Ye.ext.legacy.ajax,null===o?t.sAjaxSource?u:f:o?u:f}function U(t,e){var n=e.sEcho!==i?e.sEcho:e.draw,a=e.iTotalRecords!==i?e.iTotalRecords:e.recordsTotal,s=e.iTotalDisplayRecords!==i?e.iTotalDisplayRecords:e.recordsFiltered;
if(n){if(t.iDraw>1*n)return;t.iDraw=1*n}for(I(t),t._iRecordsTotal=parseInt(a,10),t._iRecordsDisplay=parseInt(s,10),n=q(t,e),a=0,s=n.length;s>a;a++)_(t,n[a]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,$(t),t._bInitComplete||oe(t,e),t.bAjaxDataGet=!0,de(t,!1)}function q(t,e){var a=n.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===a?e.aaData||e[a]:""!==a?C(a)(e):e}function Y(t){var i=t.oClasses,a=t.sTableId,s=t.oLanguage,o=t.oPreviousSearch,r=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=s.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,i=n("<div/>",{id:r.f?null:a+"_filter","class":i.sFilter}).append(n("<label/>").append(c)),r=function(){var e=this.value?this.value:"";e!=o.sSearch&&(X(t,{sSearch:e,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),t._iDisplayStart=0,$(t))},l=null!==t.searchDelay?t.searchDelay:"ssp"===ze(t)?400:0,h=n("input",i).val(o.sSearch).attr("placeholder",s.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?ve(r,l):r).bind("keypress.DT",function(t){return 13==t.keyCode?!1:void 0}).attr("aria-controls",a);return n(t.nTable).on("search.dt.DT",function(i,n){if(t===n)try{h[0]!==e.activeElement&&h.val(o.sSearch)}catch(a){}}),i[0]}function X(t,e,n){var a=t.oPreviousSearch,s=t.aoPreSearchCols,o=function(t){a.sSearch=t.sSearch,a.bRegex=t.bRegex,a.bSmart=t.bSmart,a.bCaseInsensitive=t.bCaseInsensitive};if(b(t),"ssp"!=ze(t)){for(J(t,e.sSearch,n,e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),o(e),e=0;s.length>e;e++)G(t,s[e].sSearch,e,s[e].bEscapeRegex!==i?!s[e].bEscapeRegex:s[e].bRegex,s[e].bSmart,s[e].bCaseInsensitive);V(t)}else o(e);t.bFiltered=!0,je(t,null,"search",[t])}function V(t){for(var e,i,n=Ye.ext.search,a=t.aiDisplay,s=0,o=n.length;o>s;s++){for(var r=[],l=0,c=a.length;c>l;l++)i=a[l],e=t.aoData[i],n[s](t,e._aFilterData,i,e._aData,l)&&r.push(i);a.length=0,a.push.apply(a,r)}}function G(t,e,i,n,a,s){if(""!==e)for(var o=t.aiDisplay,n=K(e,n,a,s),a=o.length-1;a>=0;a--)e=t.aoData[o[a]]._aFilterData[i],n.test(e)||o.splice(a,1)}function J(t,e,i,n,a,s){var o,n=K(e,n,a,s),a=t.oPreviousSearch.sSearch,s=t.aiDisplayMaster;if(0!==Ye.ext.search.length&&(i=!0),o=Z(t),0>=e.length)t.aiDisplay=s.slice();else for((o||i||a.length>e.length||0!==e.indexOf(a)||t.bSorted)&&(t.aiDisplay=s.slice()),e=t.aiDisplay,i=e.length-1;i>=0;i--)n.test(t.aoData[e[i]]._sFilterRow)||e.splice(i,1)}function K(t,e,i,a){return t=e?t:Q(t),i&&(t="^(?=.*?"+n.map(t.match(/"[^"]+"|[^ ]+/g)||"",function(t){if('"'===t.charAt(0))var e=t.match(/^"(.*)"$/),t=e?e[1]:t;return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,a?"i":"")}function Q(t){return t.replace(ii,"\\$1")}function Z(t){var e,i,n,a,s,o,r,l,c=t.aoColumns,h=Ye.ext.type.search;for(e=!1,i=0,a=t.aoData.length;a>i;i++)if(l=t.aoData[i],!l._aFilterData){for(o=[],n=0,s=c.length;s>n;n++)e=c[n],e.bSearchable?(r=x(t,i,n,"filter"),h[e.sType]&&(r=h[e.sType](r)),null===r&&(r=""),"string"!=typeof r&&r.toString&&(r=""+r)):r="",r.indexOf&&-1!==r.indexOf("&")&&(vi.innerHTML=r,r=bi?vi.textContent:vi.innerText),r.replace&&(r=r.replace(/[\r\n]/g,"")),o.push(r);l._aFilterData=o,l._sFilterRow=o.join("  "),e=!0}return e}function te(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function ee(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function ie(t){var e=t.sTableId,i=t.aanFeatures.i,a=n("<div/>",{"class":t.oClasses.sInfo,id:i?null:e+"_info"});return i||(t.aoDrawCallback.push({fn:ne,sName:"information"}),a.attr("role","status").attr("aria-live","polite"),n(t.nTable).attr("aria-describedby",e+"_info")),a[0]}function ne(t){var e=t.aanFeatures.i;if(0!==e.length){var i=t.oLanguage,a=t._iDisplayStart+1,s=t.fnDisplayEnd(),o=t.fnRecordsTotal(),r=t.fnRecordsDisplay(),l=r?i.sInfo:i.sInfoEmpty;r!==o&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=ae(t,l),i=i.fnInfoCallback,null!==i&&(l=i.call(t.oInstance,t,a,s,o,r,l)),n(e).html(l)}}function ae(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,a=t._iDisplayLength,s=t.fnRecordsDisplay(),o=-1===a;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,s)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/a))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(s/a)))}function se(t){var e,i,n,a=t.iInitDisplayStart,s=t.aoColumns;if(i=t.oFeatures,t.bInitialised){for(R(t),L(t),N(t,t.aoHeader),N(t,t.aoFooter),de(t,!0),i.bAutoWidth&&me(t),e=0,i=s.length;i>e;e++)n=s[e],n.sWidth&&(n.nTh.style.width=xe(n.sWidth));O(t),s=ze(t),"ssp"!=s&&("ajax"==s?B(t,[],function(i){var n=q(t,i);for(e=0;n.length>e;e++)_(t,n[e]);t.iInitDisplayStart=a,O(t),de(t,!1),oe(t,i)},t):(de(t,!1),oe(t)))}else setTimeout(function(){se(t)},200)}function oe(t,e){t._bInitComplete=!0,e&&p(t),je(t,"aoInitComplete","init",[t,e])}function re(t,e){var i=parseInt(e,10);t._iDisplayLength=i,He(t),je(t,null,"length",[t,i])}function le(t){for(var e=t.oClasses,i=t.sTableId,a=t.aLengthMenu,s=n.isArray(a[0]),o=s?a[0]:a,a=s?a[1]:a,s=n("<select/>",{name:i+"_length","aria-controls":i,"class":e.sLengthSelect}),r=0,l=o.length;l>r;r++)s[0][r]=new Option(a[r],o[r]);var c=n("<div><label/></div>").addClass(e.sLength);return t.aanFeatures.l||(c[0].id=i+"_length"),c.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML)),n("select",c).val(t._iDisplayLength).bind("change.DT",function(){re(t,n(this).val()),$(t)}),n(t.nTable).bind("length.dt.DT",function(e,i,a){t===i&&n("select",c).val(a)}),c[0]}function ce(t){var e=t.sPaginationType,i=Ye.ext.pager[e],a="function"==typeof i,s=function(t){$(t)},e=n("<div/>").addClass(t.oClasses.sPaging+e)[0],o=t.aanFeatures;return a||i.fnInit(t,e,s),o.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(a){var e,n=t._iDisplayStart,r=t._iDisplayLength,l=t.fnRecordsDisplay(),c=-1===r,n=c?0:Math.ceil(n/r),r=c?1:Math.ceil(l/r),l=i(n,r),c=0;for(e=o.p.length;e>c;c++)Be(t,"pageButton")(t,o.p[c],c,l,n,r)}else i.fnUpdate(t,s)},sName:"pagination"})),e}function he(t,e,i){var n=t._iDisplayStart,a=t._iDisplayLength,s=t.fnRecordsDisplay();return 0===s||-1===a?n=0:"number"==typeof e?(n=e*a,n>s&&(n=0)):"first"==e?n=0:"previous"==e?(n=a>=0?n-a:0,0>n&&(n=0)):"next"==e?s>n+a&&(n+=a):"last"==e?n=Math.floor((s-1)/a)*a:Le(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==n,t._iDisplayStart=n,e&&(je(t,null,"page",[t]),i&&$(t)),e}function ue(t){return n("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function de(t,e){t.oFeatures.bProcessing&&n(t.aanFeatures.r).css("display",e?"block":"none"),je(t,null,"processing",[t,e])}function pe(t){var e=n(t.nTable);e.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var a=i.sX,s=i.sY,o=t.oClasses,r=e.children("caption"),l=r.length?r[0]._captionSide:null,c=n(e[0].cloneNode(!1)),h=n(e[0].cloneNode(!1)),u=e.children("tfoot");i.sX&&"100%"===e.attr("width")&&e.removeAttr("width"),u.length||(u=null),i=n("<div/>",{"class":o.sScrollWrapper}).append(n("<div/>",{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:a?a?xe(a):null:"100%"}).append(n("<div/>",{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?r:null).append(e.children("thead"))))).append(n("<div/>",{"class":o.sScrollBody}).css({overflow:"auto",height:s?xe(s):null,width:a?xe(a):null}).append(e)),u&&i.append(n("<div/>",{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:a?a?xe(a):null:"100%"}).append(n("<div/>",{"class":o.sScrollFootInner}).append(h.removeAttr("id").css("margin-left",0).append("bottom"===l?r:null).append(e.children("tfoot")))));var e=i.children(),d=e[0],o=e[1],p=u?e[2]:null;return a&&n(o).scroll(function(){var t=this.scrollLeft;d.scrollLeft=t,u&&(p.scrollLeft=t)}),t.nScrollHead=d,t.nScrollBody=o,t.nScrollFoot=p,t.aoDrawCallback.push({fn:fe,sName:"scrolling"}),i[0]}function fe(t){var e,i,a,s,o,r,l=t.oScroll,c=l.sX,h=l.sXInner,u=l.sY,d=l.iBarWidth,p=n(t.nScrollHead),g=p[0].style,m=p.children("div"),v=m[0].style,b=m.children("table"),m=t.nScrollBody,y=n(m),_=m.style,w=n(t.nScrollFoot).children("div"),x=w.children("table"),T=n(t.nTHead),S=n(t.nTable),C=S[0],k=C.style,D=t.nTFoot?n(t.nTFoot):null,I=t.oBrowser,A=I.bScrollOversize,P=[],E=[],F=[],M=function(t){t=t.style,t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};S.children("thead, tfoot").remove(),o=T.clone().prependTo(S),e=T.find("tr"),a=o.find("tr"),o.find("th, td").removeAttr("tabindex"),D&&(s=D.clone().prependTo(S),i=D.find("tr"),s=s.find("tr")),c||(_.width="100%",p[0].style.width="100%"),n.each(H(t,o),function(e,i){r=f(t,e),i.style.width=t.aoColumns[r].sWidth}),D&&ge(function(t){t.style.width=""},s),l.bCollapse&&""!==u&&(_.height=y[0].offsetHeight+T[0].offsetHeight+"px"),p=S.outerWidth(),""===c?(k.width="100%",A&&(S.find("tbody").height()>m.offsetHeight||"scroll"==y.css("overflow-y"))&&(k.width=xe(S.outerWidth()-d))):""!==h?k.width=xe(h):p==y.width()&&y.height()<S.height()?(k.width=xe(p-d),S.outerWidth()>p-d&&(k.width=xe(p))):k.width=xe(p),p=S.outerWidth(),ge(M,a),ge(function(t){F.push(t.innerHTML),P.push(xe(n(t).css("width")))},a),ge(function(t,e){t.style.width=P[e]},e),n(a).height(0),D&&(ge(M,s),ge(function(t){E.push(xe(n(t).css("width")))},s),ge(function(t,e){t.style.width=E[e]},i),n(s).height(0)),ge(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+F[e]+"</div>",t.style.width=P[e]},a),D&&ge(function(t,e){t.innerHTML="",t.style.width=E[e]},s),p>S.outerWidth()?(i=m.scrollHeight>m.offsetHeight||"scroll"==y.css("overflow-y")?p+d:p,A&&(m.scrollHeight>m.offsetHeight||"scroll"==y.css("overflow-y"))&&(k.width=xe(i-d)),(""===c||""!==h)&&Le(t,1,"Possible column misalignment",6)):i="100%",_.width=xe(i),g.width=xe(i),D&&(t.nScrollFoot.style.width=xe(i)),!u&&A&&(_.height=xe(C.offsetHeight+d)),u&&l.bCollapse&&(_.height=xe(u),l=c&&C.offsetWidth>m.offsetWidth?d:0,C.offsetHeight<m.offsetHeight&&(_.height=xe(C.offsetHeight+l))),l=S.outerWidth(),b[0].style.width=xe(l),v.width=xe(l),b=S.height()>m.clientHeight||"scroll"==y.css("overflow-y"),I="padding"+(I.bScrollbarLeft?"Left":"Right"),v[I]=b?d+"px":"0px",D&&(x[0].style.width=xe(l),w[0].style.width=xe(l),w[0].style[I]=b?d+"px":"0px"),y.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(m.scrollTop=0)}function ge(t,e,i){for(var n,a,s=0,o=0,r=e.length;r>o;){for(n=e[o].firstChild,a=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?t(n,a,s):t(n,s),s++),n=n.nextSibling,a=i?a.nextSibling:null;o++}}function me(e){var i,a,s=e.nTable,o=e.aoColumns,r=e.oScroll,l=r.sY,c=r.sX,h=r.sXInner,u=o.length,r=v(e,"bVisible"),d=n("th",e.nTHead),f=s.getAttribute("width"),g=s.parentNode,b=!1;for(i=0;r.length>i;i++)a=o[r[i]],null!==a.sWidth&&(a.sWidth=be(a.sWidthOrig,g),b=!0);if(b||c||l||u!=m(e)||u!=d.length){u=n(s).clone().empty().css("visibility","hidden").removeAttr("id").append(n(e.nTHead).clone(!1)).append(n(e.nTFoot).clone(!1)).append(n("<tbody><tr/></tbody>")),u.find("tfoot th, tfoot td").css("width","");var y=u.find("tbody tr"),d=H(e,u.find("thead")[0]);for(i=0;r.length>i;i++)a=o[r[i]],d[i].style.width=null!==a.sWidthOrig&&""!==a.sWidthOrig?xe(a.sWidthOrig):"";if(e.aoData.length)for(i=0;r.length>i;i++)b=r[i],a=o[b],n(_e(e,b)).clone(!1).append(a.sContentPadding).appendTo(y);if(u.appendTo(g),c&&h?u.width(h):c?(u.css("width","auto"),u.width()<g.offsetWidth&&u.width(g.offsetWidth)):l?u.width(g.offsetWidth):f&&u.width(f),ye(e,u[0]),c){for(i=h=0;r.length>i;i++)a=o[r[i]],l=n(d[i]).outerWidth(),h+=null===a.sWidthOrig?l:parseInt(a.sWidth,10)+l-n(d[i]).width();u.width(xe(h)),s.style.width=xe(h)}for(i=0;r.length>i;i++)a=o[r[i]],(l=n(d[i]).width())&&(a.sWidth=xe(l));s.style.width=xe(u.css("width")),u.remove()}else for(i=0;u>i;i++)o[i].sWidth=xe(d.eq(i).width());f&&(s.style.width=xe(f)),!f&&!c||e._reszEvt||(n(t).bind("resize.DT-"+e.sInstance,ve(function(){p(e)})),e._reszEvt=!0)}function ve(t,e){var n,a,s=e!==i?e:200;return function(){var e=this,o=+new Date,r=arguments;n&&n+s>o?(clearTimeout(a),a=setTimeout(function(){n=i,t.apply(e,r)},s)):n?(n=o,t.apply(e,r)):n=o}}function be(t,i){if(!t)return 0;var a=n("<div/>").css("width",xe(t)).appendTo(i||e.body),s=a[0].offsetWidth;return a.remove(),s}function ye(t,e){var i=t.oScroll;(i.sX||i.sY)&&(i=i.sX?0:i.iBarWidth,e.style.width=xe(n(e).outerWidth()-i))}function _e(t,e){var i=we(t,e);if(0>i)return null;var a=t.aoData[i];return a.nTr?a.anCells[e]:n("<td/>").html(x(t,i,e,"display"))[0]}function we(t,e){for(var i,n=-1,a=-1,s=0,o=t.aoData.length;o>s;s++)i=x(t,s,e,"display")+"",i=i.replace(yi,""),i.length>n&&(n=i.length,a=s);return a}function xe(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Te(){if(!Ye.__scrollbarWidth){var t=n("<p/>").css({width:"100%",height:200,padding:0})[0],e=n("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(t).appendTo("body"),i=t.offsetWidth;e.css("overflow","scroll"),t=t.offsetWidth,i===t&&(t=e[0].clientWidth),e.remove(),Ye.__scrollbarWidth=i-t}return Ye.__scrollbarWidth}function Se(t){var e,a,s,o,r,l,c=[],h=t.aoColumns;e=t.aaSortingFixed,a=n.isPlainObject(e);var u=[];for(s=function(t){t.length&&!n.isArray(t[0])?u.push(t):u.push.apply(u,t)},n.isArray(e)&&s(e),a&&e.pre&&s(e.pre),s(t.aaSorting),a&&e.post&&s(e.post),t=0;u.length>t;t++)for(l=u[t][0],s=h[l].aDataSort,e=0,a=s.length;a>e;e++)o=s[e],r=h[o].sType||"string",u[t]._idx===i&&(u[t]._idx=n.inArray(u[t][1],h[o].asSorting)),c.push({src:l,col:o,dir:u[t][1],index:u[t]._idx,type:r,formatter:Ye.ext.type.order[r+"-pre"]});return c}function Ce(t){var e,i,n,a,s=[],o=Ye.ext.type.order,r=t.aoData,l=0,c=t.aiDisplayMaster;for(b(t),a=Se(t),e=0,i=a.length;i>e;e++)n=a[e],n.formatter&&l++,Pe(t,n.col);if("ssp"!=ze(t)&&0!==a.length){for(e=0,i=c.length;i>e;e++)s[c[e]]=e;l===a.length?c.sort(function(t,e){var i,n,o,l,c=a.length,h=r[t]._aSortData,u=r[e]._aSortData;for(o=0;c>o;o++)if(l=a[o],i=h[l.col],n=u[l.col],i=n>i?-1:i>n?1:0,0!==i)return"asc"===l.dir?i:-i;return i=s[t],n=s[e],n>i?-1:i>n?1:0}):c.sort(function(t,e){var i,n,l,c,h=a.length,u=r[t]._aSortData,d=r[e]._aSortData;for(l=0;h>l;l++)if(c=a[l],i=u[c.col],n=d[c.col],c=o[c.type+"-"+c.dir]||o["string-"+c.dir],i=c(i,n),0!==i)return i;return i=s[t],n=s[e],n>i?-1:i>n?1:0})}t.bSorted=!0}function ke(t){for(var e,i,n=t.aoColumns,a=Se(t),t=t.oLanguage.oAria,s=0,o=n.length;o>s;s++){i=n[s];var r=i.asSorting;e=i.sTitle.replace(/<.*?>/g,"");var l=i.nTh;l.removeAttribute("aria-sort"),i.bSortable&&(a.length>0&&a[0].col==s?(l.setAttribute("aria-sort","asc"==a[0].dir?"ascending":"descending"),i=r[a[0].index+1]||r[0]):i=r[0],e+="asc"===i?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function De(t,e,a,s){var o=t.aaSorting,r=t.aoColumns[e].asSorting,l=function(t,e){var a=t._idx;return a===i&&(a=n.inArray(t[1],r)),r.length>a+1?a+1:e?null:0};"number"==typeof o[0]&&(o=t.aaSorting=[o]),a&&t.oFeatures.bSortMulti?(a=n.inArray(e,ci(o,"0")),-1!==a?(e=l(o[a],!0),null===e?o.splice(a,1):(o[a][1]=r[e],o[a]._idx=e)):(o.push([e,r[0],0]),o[o.length-1]._idx=0)):o.length&&o[0][0]==e?(e=l(o[0]),o.length=1,o[0][1]=r[e],o[0]._idx=e):(o.length=0,o.push([e,r[0]]),o[0]._idx=0),O(t),"function"==typeof s&&s(t)}function Ie(t,e,i,n){var a=t.aoColumns[i];Oe(e,{},function(e){!1!==a.bSortable&&(t.oFeatures.bProcessing?(de(t,!0),setTimeout(function(){De(t,i,e.shiftKey,n),"ssp"!==ze(t)&&de(t,!1)},0)):De(t,i,e.shiftKey,n))})}function Ae(t){var e,i,a=t.aLastSort,s=t.oClasses.sSortColumn,o=Se(t),r=t.oFeatures;if(r.bSort&&r.bSortClasses){for(r=0,e=a.length;e>r;r++)i=a[r].src,n(ci(t.aoData,"anCells",i)).removeClass(s+(2>r?r+1:3));for(r=0,e=o.length;e>r;r++)i=o[r].src,n(ci(t.aoData,"anCells",i)).addClass(s+(2>r?r+1:3))}t.aLastSort=o}function Pe(t,e){var i,n=t.aoColumns[e],a=Ye.ext.order[n.sSortDataType];a&&(i=a.call(t.oInstance,t,e,g(t,e)));for(var s,o=Ye.ext.type.order[n.sType+"-pre"],r=0,l=t.aoData.length;l>r;r++)n=t.aoData[r],n._aSortData||(n._aSortData=[]),(!n._aSortData[e]||a)&&(s=a?i[r]:x(t,r,e,"sort"),n._aSortData[e]=o?o(s):s)}function Ee(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:n.extend(!0,[],t.aaSorting),search:te(t.oPreviousSearch),columns:n.map(t.aoColumns,function(e,i){return{visible:e.bVisible,search:te(t.aoPreSearchCols[i])}})};je(t,"aoStateSaveParams","stateSaveParams",[t,e]),t.oSavedState=e,t.fnStateSaveCallback.call(t.oInstance,t,e)}}function Fe(t){var e,i,a=t.aoColumns;if(t.oFeatures.bStateSave){var s=t.fnStateLoadCallback.call(t.oInstance,t);if(s&&s.time&&(e=je(t,"aoStateLoadParams","stateLoadParams",[t,s]),-1===n.inArray(!1,e)&&(e=t.iStateDuration,!(e>0&&s.time<+new Date-1e3*e)&&a.length===s.columns.length))){for(t.oLoadedState=n.extend(!0,{},s),t._iDisplayStart=s.start,t.iInitDisplayStart=s.start,t._iDisplayLength=s.length,t.aaSorting=[],n.each(s.order,function(e,i){t.aaSorting.push(i[0]>=a.length?[0,i[1]]:i)}),n.extend(t.oPreviousSearch,ee(s.search)),e=0,i=s.columns.length;i>e;e++){var o=s.columns[e];a[e].bVisible=o.visible,n.extend(t.aoPreSearchCols[e],ee(o.search))}je(t,"aoStateLoaded","stateLoaded",[t,s])}}}function Me(t){var e=Ye.settings,t=n.inArray(t,ci(e,"nTable"));return-1!==t?e[t]:null}function Le(e,i,n,a){if(n="DataTables warning: "+(null!==e?"table id="+e.sTableId+" - ":"")+n,a&&(n+=". For more information about this error, please see http://datatables.net/tn/"+a),i)t.console&&console.log&&console.log(n);else{if(e=Ye.ext,"alert"!=(e.sErrMode||e.errMode))throw Error(n);alert(n)}}function Ne(t,e,a,s){n.isArray(a)?n.each(a,function(i,a){n.isArray(a)?Ne(t,e,a[0],a[1]):Ne(t,e,a)}):(s===i&&(s=a),e[a]!==i&&(t[s]=e[a]))}function $e(t,e,i){var a,s;for(s in e)e.hasOwnProperty(s)&&(a=e[s],n.isPlainObject(a)?(n.isPlainObject(t[s])||(t[s]={}),n.extend(!0,t[s],a)):t[s]=i&&"data"!==s&&"aaData"!==s&&n.isArray(a)?a.slice():a);return t}function Oe(t,e,i){n(t).bind("click.DT",e,function(e){t.blur(),i(e)}).bind("keypress.DT",e,function(t){13===t.which&&(t.preventDefault(),i(t))}).bind("selectstart.DT",function(){return!1})}function Re(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function je(t,e,i,a){var s=[];return e&&(s=n.map(t[e].slice().reverse(),function(e){return e.fn.apply(t.oInstance,a)})),null!==i&&n(t.nTable).trigger(i+".dt",a),s}function He(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||0>e)&&(e=0),t._iDisplayStart=e}function Be(t,e){var i=t.renderer,a=Ye.ext.renderer[e];return n.isPlainObject(i)&&i[e]?a[i[e]]||a._:"string"==typeof i?a[i]||a._:a._}function ze(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function We(t,e){var i=[],i=$i.numbers_length,n=Math.floor(i/2);return i>=e?i=ui(0,e):n>=t?(i=ui(0,i-2),i.push("ellipsis"),i.push(e-1)):(t>=e-1-n?i=ui(e-(i-2),e):(i=ui(t-1,t+2),i.push("ellipsis"),i.push(e-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Ue(t){n.each({num:function(e){return Oi(e,t)},"num-fmt":function(e){return Oi(e,t,ni)},"html-num":function(e){return Oi(e,t,Ze)},"html-num-fmt":function(e){return Oi(e,t,Ze,ni)}},function(e,i){Xe.type.order[e+t+"-pre"]=i,e.match(/^html\-/)&&(Xe.type.search[e+t]=Xe.type.search.html)})}function qe(t){return function(){var e=[Me(this[Ye.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ye.ext.internal[t].apply(this,e)}}var Ye,Xe,Ve,Ge,Je,Ke={},Qe=/[\r\n]/g,Ze=/<.*?>/g,ti=/^[\w\+\-]/,ei=/[\w\+\-]$/,ii=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),ni=/[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g,ai=function(t){return t&&!0!==t&&"-"!==t?!1:!0},si=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},oi=function(t,e){return Ke[e]||(Ke[e]=RegExp(Q(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Ke[e],"."):t},ri=function(t,e,i){var n="string"==typeof t;return e&&n&&(t=oi(t,e)),i&&n&&(t=t.replace(ni,"")),ai(t)||!isNaN(parseFloat(t))&&isFinite(t)},li=function(t,e,i){return ai(t)?!0:ai(t)||"string"==typeof t?ri(t.replace(Ze,""),e,i)?!0:null:null},ci=function(t,e,n){var a=[],s=0,o=t.length;if(n!==i)for(;o>s;s++)t[s]&&t[s][e]&&a.push(t[s][e][n]);else for(;o>s;s++)t[s]&&a.push(t[s][e]);return a},hi=function(t,e,n,a){var s=[],o=0,r=e.length;if(a!==i)for(;r>o;o++)t[e[o]][n]&&s.push(t[e[o]][n][a]);else for(;r>o;o++)s.push(t[e[o]][n]);return s},ui=function(t,e){var n,a=[];e===i?(e=0,n=t):(n=e,e=t);for(var s=e;n>s;s++)a.push(s);return a},di=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&e.push(t[i]);return e},pi=function(t){var e,i,n,a=[],s=t.length,o=0;i=0;t:for(;s>i;i++){for(e=t[i],n=0;o>n;n++)if(a[n]===e)continue t;a.push(e),o++}return a},fi=function(t,e,n){t[e]!==i&&(t[n]=t[e])},gi=/\[.*?\]$/,mi=/\(\)$/,vi=n("<div>")[0],bi=vi.textContent!==i,yi=/<.*?>/g;Ye=function(t){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return t?new Ve(Me(this[Xe.iApiIndex])):new Ve(this)},this.fnAddData=function(t,e){var a=this.api(!0),s=n.isArray(t)&&(n.isArray(t[0])||n.isPlainObject(t[0]))?a.rows.add(t):a.row.add(t);return(e===i||e)&&a.draw(),s.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],a=n.oScroll;t===i||t?e.draw(!1):(""!==a.sX||""!==a.sY)&&fe(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===i||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var a=this.api(!0),t=a.rows(t),s=t.settings()[0],o=s.aoData[t[0][0]];return t.remove(),e&&e.call(this,s,o),(n===i||n)&&a.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(!t)},this.fnFilter=function(t,e,n,a,s,o){s=this.api(!0),null===e||e===i?s.search(t,n,a,o):s.column(e).search(t,n,a,o),s.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==i){var a=t.nodeName?t.nodeName.toLowerCase():"";return e!==i||"td"==a||"th"==a?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==i?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();return"TR"==i?e.row(t).index():"TD"==i||"TH"==i?(t=e.cell(t).index(),[t.row,t.columnVisible,t.column]):null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===i||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){t=this.api(!0).column(t).visible(e),(n===i||n)&&t.columns.adjust().draw()},this.fnSettings=function(){return Me(this[Xe.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,n,a,s){var o=this.api(!0);return n===i||null===n?o.row(e).data(t):o.cell(e,n).data(t),(s===i||s)&&o.columns.adjust(),(a===i||a)&&o.draw(),0},this.fnVersionCheck=Xe.fnVersionCheck;var e=this,a=t===i,h=this.length;a&&(t={}),this.oApi=this.internal=Xe.internal;for(var p in Ye.ext.internal)p&&(this[p]=qe(p));return this.each(function(){var p,f={},f=h>1?$e(f,t,!0):t,g=0,m=this.getAttribute("id"),v=!1,b=Ye.defaults;if("table"!=this.nodeName.toLowerCase())Le(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{r(b),l(b.column),s(b,b,!0),s(b.column,b.column,!0),s(b,f);var x=Ye.settings,g=0;for(p=x.length;p>g;g++){if(x[g].nTable==this){if(p=f.bRetrieve!==i?f.bRetrieve:b.bRetrieve,a||p)return x[g].oInstance;if(f.bDestroy!==i?f.bDestroy:b.bDestroy){x[g].oInstance.fnDestroy();break}return Le(x[g],0,"Cannot reinitialise DataTable",3),void 0}if(x[g].sTableId==this.id){x.splice(g,1);break}}(null===m||""===m)&&(this.id=m="DataTables_Table_"+Ye.ext._unique++);var T=n.extend(!0,{},Ye.models.oSettings,{nTable:this,oApi:e.internal,oInit:f,sDestroyWidth:n(this)[0].style.width,sInstance:m,sTableId:m});x.push(T),T.oInstance=1===e.length?e:n(this).dataTable(),r(f),f.oLanguage&&o(f.oLanguage),f.aLengthMenu&&!f.iDisplayLength&&(f.iDisplayLength=n.isArray(f.aLengthMenu[0])?f.aLengthMenu[0][0]:f.aLengthMenu[0]),f=$e(n.extend(!0,{},b),f),Ne(T.oFeatures,f,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Ne(T,f,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Ne(T.oScroll,f,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ne(T.oLanguage,f,"fnInfoCallback"),Re(T,"aoDrawCallback",f.fnDrawCallback,"user"),Re(T,"aoServerParams",f.fnServerParams,"user"),Re(T,"aoStateSaveParams",f.fnStateSaveParams,"user"),Re(T,"aoStateLoadParams",f.fnStateLoadParams,"user"),Re(T,"aoStateLoaded",f.fnStateLoaded,"user"),Re(T,"aoRowCallback",f.fnRowCallback,"user"),Re(T,"aoRowCreatedCallback",f.fnCreatedRow,"user"),Re(T,"aoHeaderCallback",f.fnHeaderCallback,"user"),Re(T,"aoFooterCallback",f.fnFooterCallback,"user"),Re(T,"aoInitComplete",f.fnInitComplete,"user"),Re(T,"aoPreDrawCallback",f.fnPreDrawCallback,"user"),m=T.oClasses,f.bJQueryUI?(n.extend(m,Ye.ext.oJUIClasses,f.oClasses),f.sDom===b.sDom&&"lfrtip"===b.sDom&&(T.sDom='<"H"lfr>t<"F"ip>'),T.renderer?n.isPlainObject(T.renderer)&&!T.renderer.header&&(T.renderer.header="jqueryui"):T.renderer="jqueryui"):n.extend(m,Ye.ext.classes,f.oClasses),n(this).addClass(m.sTable),(""!==T.oScroll.sX||""!==T.oScroll.sY)&&(T.oScroll.iBarWidth=Te()),!0===T.oScroll.sX&&(T.oScroll.sX="100%"),T.iInitDisplayStart===i&&(T.iInitDisplayStart=f.iDisplayStart,T._iDisplayStart=f.iDisplayStart),null!==f.iDeferLoading&&(T.bDeferLoading=!0,g=n.isArray(f.iDeferLoading),T._iRecordsDisplay=g?f.iDeferLoading[0]:f.iDeferLoading,T._iRecordsTotal=g?f.iDeferLoading[1]:f.iDeferLoading);var S=T.oLanguage;n.extend(!0,S,f.oLanguage),""!==S.sUrl&&(n.ajax({dataType:"json",url:S.sUrl,success:function(t){o(t),s(b.oLanguage,t),n.extend(!0,S,t),se(T)},error:function(){se(T)}}),v=!0),null===f.asStripeClasses&&(T.asStripeClasses=[m.sStripeOdd,m.sStripeEven]);var g=T.asStripeClasses,C=n("tbody tr:eq(0)",this);-1!==n.inArray(!0,n.map(g,function(t){return C.hasClass(t)}))&&(n("tbody tr",this).removeClass(g.join(" ")),T.asDestroyStripes=g.slice());var k,x=[],g=this.getElementsByTagName("thead");if(0!==g.length&&(j(T.aoHeader,g[0]),x=H(T)),null===f.aoColumns)for(k=[],g=0,p=x.length;p>g;g++)k.push(null);else k=f.aoColumns;for(g=0,p=k.length;p>g;g++)u(T,x?x[g]:null);if(y(T,f.aoColumnDefs,k,function(t,e){d(T,t,e)}),C.length){var D=function(t,e){return t.getAttribute("data-"+e)?e:null};n.each(E(T,C[0]).cells,function(t,e){var n=T.aoColumns[t];if(n.mData===t){var a=D(e,"sort")||D(e,"order"),s=D(e,"filter")||D(e,"search");(null!==a||null!==s)&&(n.mData={_:t+".display",sort:null!==a?t+".@data-"+a:i,type:null!==a?t+".@data-"+a:i,filter:null!==s?t+".@data-"+s:i},d(T,t))}})}var I=T.oFeatures;if(f.bStateSave&&(I.bStateSave=!0,Fe(T,f),Re(T,"aoDrawCallback",Ee,"state_save")),f.aaSorting===i)for(x=T.aaSorting,g=0,p=x.length;p>g;g++)x[g][1]=T.aoColumns[g].asSorting[0];if(Ae(T),I.bSort&&Re(T,"aoDrawCallback",function(){if(T.bSorted){var t=Se(T),e={};n.each(t,function(t,i){e[i.src]=i.dir}),je(T,null,"order",[T,t,e]),ke(T)}}),Re(T,"aoDrawCallback",function(){(T.bSorted||"ssp"===ze(T)||I.bDeferRender)&&Ae(T)},"sc"),c(T),g=n(this).children("caption").each(function(){this._captionSide=n(this).css("caption-side")}),p=n(this).children("thead"),0===p.length&&(p=n("<thead/>").appendTo(this)),T.nTHead=p[0],p=n(this).children("tbody"),0===p.length&&(p=n("<tbody/>").appendTo(this)),T.nTBody=p[0],p=n(this).children("tfoot"),0===p.length&&g.length>0&&(""!==T.oScroll.sX||""!==T.oScroll.sY)&&(p=n("<tfoot/>").appendTo(this)),0===p.length||0===p.children().length?n(this).addClass(m.sNoFooter):p.length>0&&(T.nTFoot=p[0],j(T.aoFooter,T.nTFoot)),f.aaData)for(g=0;f.aaData.length>g;g++)_(T,f.aaData[g]);else(T.bDeferLoading||"dom"==ze(T))&&w(T,n(T.nTBody).children("tr"));T.aiDisplay=T.aiDisplayMaster.slice(),T.bInitialised=!0,!1===v&&se(T)}}),e=null,this};var _i=[],wi=Array.prototype,xi=function(t){var e,i,a=Ye.settings,s=n.map(a,function(t){return t.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(e=n.inArray(t,s),-1!==e?[a[e]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=n(t):t instanceof n&&(i=t),i?i.map(function(){return e=n.inArray(this,s),-1!==e?a[e]:null}).toArray():void 0):[]};Ve=function(t,e){if(!this instanceof Ve)throw"DT API must be constructed as a new object";var i=[],a=function(t){(t=xi(t))&&i.push.apply(i,t)};if(n.isArray(t))for(var s=0,o=t.length;o>s;s++)a(t[s]);else a(t);this.context=pi(i),e&&this.push.apply(this,e.toArray?e.toArray():e),this.selector={rows:null,cols:null,opts:null},Ve.extend(this,this,_i)},Ye.Api=Ve,Ve.prototype={concat:wi.concat,context:[],each:function(t){for(var e=0,i=this.length;i>e;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Ve(e[t],this[t]):null},filter:function(t){var e=[];if(wi.filter)e=wi.filter.call(this,t,this);else for(var i=0,n=this.length;n>i;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new Ve(this.context,e)},flatten:function(){var t=[];return new Ve(this.context,t.concat.apply(t,this.toArray()))},join:wi.join,indexOf:wi.indexOf||function(t,e){for(var i=e||0,n=this.length;n>i;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,n,a){var s,o,r,l,c,h,u,d=[],p=this.context,f=this.selector;for("string"==typeof t&&(a=n,n=e,e=t,t=!1),o=0,r=p.length;r>o;o++){var g=new Ve(p[o]);if("table"===e)s=n.call(g,p[o],o),s!==i&&d.push(s);else if("columns"===e||"rows"===e)s=n.call(g,p[o],this[o],o),s!==i&&d.push(s);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(u=this[o],"column-rows"===e&&(h=Di(p[o],f.opts)),l=0,c=u.length;c>l;l++)s=u[l],s="cell"===e?n.call(g,p[o],s.row,s.column,o,l):n.call(g,p[o],s,o,l,h),s!==i&&d.push(s)}return d.length||a?(t=new Ve(p,t?d.concat.apply([],d):d),e=t.selector,e.rows=f.rows,e.cols=f.cols,e.opts=f.opts,t):this},lastIndexOf:wi.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(wi.map)e=wi.map.call(this,t,this);else for(var i=0,n=this.length;n>i;i++)e.push(t.call(this,this[i],i));return new Ve(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:wi.pop,push:wi.push,reduce:wi.reduce||function(t,e){return h(this,t,e,0,this.length,1)},reduceRight:wi.reduceRight||function(t,e){return h(this,t,e,this.length-1,-1,-1)},reverse:wi.reverse,selector:null,shift:wi.shift,sort:wi.sort,splice:wi.splice,toArray:function(){return wi.slice.call(this)},to$:function(){return n(this)},toJQuery:function(){return n(this)},unique:function(){return new Ve(this.context,pi(this))},unshift:wi.unshift},Ve.extend=function(t,e,i){if(e&&(e instanceof Ve||e.__dt_wrapper)){var a,s,o,r=function(t,e,i){return function(){var n=e.apply(t,arguments);return Ve.extend(n,n,i.methodExt),n}};for(a=0,s=i.length;s>a;a++)o=i[a],e[o.name]="function"==typeof o.val?r(t,o.val,o):n.isPlainObject(o.val)?{}:o.val,e[o.name].__dt_wrapper=!0,Ve.extend(t,e[o.name],o.propExt)}},Ve.register=Ge=function(t,e){if(n.isArray(t))for(var i=0,a=t.length;a>i;i++)Ve.register(t[i],e);
else for(var s,o,r=t.split("."),l=_i,i=0,a=r.length;a>i;i++){s=(o=-1!==r[i].indexOf("()"))?r[i].replace("()",""):r[i];var c;t:{c=0;for(var h=l.length;h>c;c++)if(l[c].name===s){c=l[c];break t}c=null}c||(c={name:s,val:{},methodExt:[],propExt:[]},l.push(c)),i===a-1?c.val=e:l=o?c.methodExt:c.propExt}},Ve.registerPlural=Je=function(t,e,a){Ve.register(t,a),Ve.register(e,function(){var t=a.apply(this,arguments);return t===this?this:t instanceof Ve?t.length?n.isArray(t[0])?new Ve(t.context,t[0]):t[0]:i:t})},Ge("tables()",function(t){var e;if(t){e=Ve;var i=this.context;if("number"==typeof t)t=[i[t]];else var a=n.map(i,function(t){return t.nTable}),t=n(a).filter(t).map(function(){var t=n.inArray(this,a);return i[t]}).toArray();e=new e(t)}else e=this;return e}),Ge("table()",function(t){var t=this.tables(t),e=t.context;return e.length?new Ve(e[0]):t}),Je("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Je("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Je("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Je("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Je("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Ge("draw()",function(t){return this.iterator("table",function(e){O(e,!1===t)})}),Ge("page()",function(t){return t===i?this.page.info().page:this.iterator("table",function(e){he(e,t)})}),Ge("page.info()",function(){if(0===this.context.length)return i;var t=this.context[0],e=t._iDisplayStart,n=t._iDisplayLength,a=t.fnRecordsDisplay(),s=-1===n;return{page:s?0:Math.floor(e/n),pages:s?1:Math.ceil(a/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:a}}),Ge("page.len()",function(t){return t===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(e){re(e,t)})});var Ti=function(t,e,i){if("ssp"==ze(t)?O(t,e):(de(t,!0),B(t,[],function(i){I(t);for(var i=q(t,i),n=0,a=i.length;a>n;n++)_(t,i[n]);O(t,e),de(t,!1)})),i){var n=new Ve(t);n.one("draw",function(){i(n.ajax.json())})}};Ge("ajax.json()",function(){var t=this.context;return t.length>0?t[0].json:void 0}),Ge("ajax.params()",function(){var t=this.context;return t.length>0?t[0].oAjaxData:void 0}),Ge("ajax.reload()",function(t,e){return this.iterator("table",function(i){Ti(i,!1===e,t)})}),Ge("ajax.url()",function(t){var e=this.context;return t===i?0===e.length?i:(e=e[0],e.ajax?n.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource):this.iterator("table",function(e){n.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),Ge("ajax.url().load()",function(t,e){return this.iterator("table",function(i){Ti(i,!1===e,t)})});var Si=function(t,e){var a,s,o,r,l,c,h=[];for(a=typeof t,t&&"string"!==a&&"function"!==a&&t.length!==i||(t=[t]),o=0,r=t.length;r>o;o++)for(s=t[o]&&t[o].split?t[o].split(","):[t[o]],l=0,c=s.length;c>l;l++)(a=e("string"==typeof s[l]?n.trim(s[l]):s[l]))&&a.length&&h.push.apply(h,a);return h},Ci=function(t){return t||(t={}),t.filter&&!t.search&&(t.search=t.filter),{search:t.search||"none",order:t.order||"current",page:t.page||"all"}},ki=function(t){for(var e=0,i=t.length;i>e;e++)if(t[e].length>0)return t[0]=t[e],t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Di=function(t,e){var i,a,s,o=[],r=t.aiDisplay;i=t.aiDisplayMaster;var l=e.search;if(a=e.order,s=e.page,"ssp"==ze(t))return"removed"===l?[]:ui(0,i.length);if("current"==s)for(i=t._iDisplayStart,a=t.fnDisplayEnd();a>i;i++)o.push(r[i]);else if("current"==a||"applied"==a)o="none"==l?i.slice():"applied"==l?r.slice():n.map(i,function(t){return-1===n.inArray(t,r)?t:null});else if("index"==a||"original"==a)for(i=0,a=t.aoData.length;a>i;i++)"none"==l?o.push(i):(s=n.inArray(i,r),(-1===s&&"removed"==l||s>=0&&"applied"==l)&&o.push(i));return o};Ge("rows()",function(t,e){t===i?t="":n.isPlainObject(t)&&(e=t,t="");var e=Ci(e),a=this.iterator("table",function(i){var a=e;return Si(t,function(t){var e=si(t);if(null!==e&&!a)return[e];var s=Di(i,a);return null!==e&&-1!==n.inArray(e,s)?[e]:t?"function"==typeof t?n.map(s,function(e){var n=i.aoData[e];return t(e,n._aData,n.nTr)?e:null}):(e=di(hi(i.aoData,s,"nTr")),t.nodeName&&-1!==n.inArray(t,e)?[t._DT_RowIndex]:n(e).filter(t).map(function(){return this._DT_RowIndex}).toArray()):s})},1);return a.selector.rows=t,a.selector.opts=e,a}),Ge("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||i},1)}),Ge("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return hi(t.aoData,e,"_aData")},1)}),Je("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData},1)}),Je("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,i){P(e,i,t)})}),Je("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Je("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,a){var s=e.aoData;s.splice(i,1);for(var o=0,r=s.length;r>o;o++)null!==s[o].nTr&&(s[o].nTr._DT_RowIndex=o);n.inArray(i,e.aiDisplay),A(e.aiDisplayMaster,i),A(e.aiDisplay,i),A(t[a],i,!1),He(e)})}),Ge("rows.add()",function(t){var e=this.iterator("table",function(e){var i,n,a,s=[];for(n=0,a=t.length;a>n;n++)i=t[n],i.nodeName&&"TR"===i.nodeName.toUpperCase()?s.push(w(e,i)[0]):s.push(_(e,i));return s},1),i=this.rows(-1);return i.pop(),i.push.apply(i,e.toArray()),i}),Ge("row()",function(t,e){return ki(this.rows(t,e))}),Ge("row().data()",function(t){var e=this.context;return t===i?e.length&&this.length?e[0].aoData[this[0]]._aData:i:(e[0].aoData[this[0]]._aData=t,P(e[0],this[0],"data"),this)}),Ge("row().node()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]].nTr||null:null}),Ge("row.add()",function(t){t instanceof n&&t.length&&(t=t[0]);var e=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:_(e,t)});return this.row(e[0])});var Ii=function(t,e){var n=t.context;n.length&&(n=n[0].aoData[e!==i?e:t[0]],n._details&&(n._details.remove(),n._detailsShow=i,n._details=i))},Ai=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];if(n._details){(n._detailsShow=e)?n._details.insertAfter(n.nTr):n._details.detach();var a=i[0],s=new Ve(a),o=a.aoData;s.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),ci(o,"_details").length>0&&(s.on("draw.dt.DT_details",function(t,e){a===e&&s.rows({page:"current"}).eq(0).each(function(t){t=o[t],t._detailsShow&&t._details.insertAfter(t.nTr)})}),s.on("column-visibility.dt.DT_details",function(t,e){if(a===e)for(var i,n=m(e),s=0,r=o.length;r>s;s++)i=o[s],i._details&&i._details.children("td[colspan]").attr("colspan",n)}),s.on("destroy.dt.DT_details",function(t,e){if(a===e)for(var i=0,n=o.length;n>i;i++)o[i]._details&&Ii(s,i)}))}}};Ge("row().child()",function(t,e){var a=this.context;if(t===i)return a.length&&this.length?a[0].aoData[this[0]]._details:i;if(!0===t)this.child.show();else if(!1===t)Ii(this);else if(a.length&&this.length){var s=a[0],a=a[0].aoData[this[0]],o=[],r=function(t,e){if(t.nodeName&&"tr"===t.nodeName.toLowerCase())o.push(t);else{var i=n("<tr><td/></tr>").addClass(e);n("td",i).addClass(e).html(t)[0].colSpan=m(s),o.push(i[0])}};if(n.isArray(t)||t instanceof n)for(var l=0,c=t.length;c>l;l++)r(t[l],e);else r(t,e);a._details&&a._details.remove(),a._details=n(o),a._detailsShow&&a._details.insertAfter(a.nTr)}return this}),Ge(["row().child.show()","row().child().show()"],function(){return Ai(this,!0),this}),Ge(["row().child.hide()","row().child().hide()"],function(){return Ai(this,!1),this}),Ge(["row().child.remove()","row().child().remove()"],function(){return Ii(this),this}),Ge("row().child.isShown()",function(){var t=this.context;return t.length&&this.length?t[0].aoData[this[0]]._detailsShow||!1:!1});var Pi=/^(.+):(name|visIdx|visible)$/,Ei=function(t,e,i,n,a){for(var i=[],n=0,s=a.length;s>n;n++)i.push(x(t,a[n],e));return i};Ge("columns()",function(t,e){t===i?t="":n.isPlainObject(t)&&(e=t,t="");var e=Ci(e),a=this.iterator("table",function(i){var a=t,s=e,o=i.aoColumns,r=ci(o,"sName"),l=ci(o,"nTh");return Si(a,function(t){var e=si(t);if(""===t)return ui(o.length);if(null!==e)return[e>=0?e:o.length+e];if("function"==typeof t){var a=Di(i,s);return n.map(o,function(e,n){return t(n,Ei(i,n,0,0,a),l[n])?n:null})}var c="string"==typeof t?t.match(Pi):"";if(!c)return n(l).filter(t).map(function(){return n.inArray(this,l)}).toArray();switch(c[2]){case"visIdx":case"visible":if(e=parseInt(c[1],10),0>e){var h=n.map(o,function(t,e){return t.bVisible?e:null});return[h[h.length+e]]}return[f(i,e)];case"name":return n.map(r,function(t,e){return t===c[1]?e:null})}})},1);return a.selector.cols=t,a.selector.opts=e,a}),Je("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Je("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Je("columns().data()","column().data()",function(){return this.iterator("column-rows",Ei,1)}),Je("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Je("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,i,n,a,s){return hi(e.aoData,s,"search"===t?"_aFilterData":"_aSortData",i)},1)}),Je("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,a){return hi(t.aoData,a,"anCells",e)},1)}),Je("columns().visible()","column().visible()",function(t,e){return this.iterator("column",function(a,s){if(t===i)return a.aoColumns[s].bVisible;var o,r,l,c=a.aoColumns,h=c[s],u=a.aoData;if(t!==i&&h.bVisible!==t){if(t){var d=n.inArray(!0,ci(c,"bVisible"),s+1);for(o=0,r=u.length;r>o;o++)l=u[o].nTr,c=u[o].anCells,l&&l.insertBefore(c[s],c[d]||null)}else n(ci(a.aoData,"anCells",s)).detach();h.bVisible=t,N(a,a.aoHeader),N(a,a.aoFooter),(e===i||e)&&(p(a),(a.oScroll.sX||a.oScroll.sY)&&fe(a)),je(a,null,"column-visibility",[a,s,t]),Ee(a)}})}),Je("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,i){return"visible"===t?g(e,i):i},1)}),Ge("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),Ge("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return f(i,e);if("fromData"===t||"toVisible"===t)return g(i,e)}}),Ge("column()",function(t,e){return ki(this.columns(t,e))}),Ge("cells()",function(t,e,a){if(n.isPlainObject(t)&&(typeof t.row!==i?(a=e,e=null):(a=t,t=null)),n.isPlainObject(e)&&(a=e,e=null),null===e||e===i)return this.iterator("table",function(e){var s,o,r,l,c,h,u,d=t,p=Ci(a),f=e.aoData,g=Di(e,p),p=di(hi(f,g,"anCells")),m=n([].concat.apply([],p)),v=e.aoColumns.length;return Si(d,function(t){var a="function"==typeof t;if(null===t||t===i||a){for(o=[],r=0,l=g.length;l>r;r++)for(s=g[r],c=0;v>c;c++)h={row:s,column:c},a?(u=e.aoData[s],t(h,x(e,s,c),u.anCells[c])&&o.push(h)):o.push(h);return o}return n.isPlainObject(t)?[t]:m.filter(t).map(function(t,e){return s=e.parentNode._DT_RowIndex,{row:s,column:n.inArray(e,f[s].anCells)}}).toArray()})});var s,o,r,l,c,h=this.columns(e,a),u=this.rows(t,a),d=this.iterator("table",function(t,e){for(s=[],o=0,r=u[e].length;r>o;o++)for(l=0,c=h[e].length;c>l;l++)s.push({row:u[e][o],column:h[e][l]});return s},1);return n.extend(d.selector,{cols:e,rows:t,opts:a}),d}),Je("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){return(t=t.aoData[e].anCells)?t[n]:i},1)}),Ge("cells().data()",function(){return this.iterator("cell",function(t,e,i){return x(t,e,i)},1)}),Je("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,i,n){return e.aoData[i][t][n]},1)}),Je("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,i,n){return x(e,i,n,t)},1)}),Je("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:g(t,i)}},1)}),Je("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,i,n){P(e,i,t,n)})}),Ge("cell()",function(t,e,i){return ki(this.cells(t,e,i))}),Ge("cell().data()",function(t){var e=this.context,n=this[0];return t===i?e.length&&n.length?x(e[0],n[0].row,n[0].column):i:(T(e[0],n[0].row,n[0].column,t),P(e[0],n[0].row,"data",n[0].column),this)}),Ge("order()",function(t,e){var a=this.context;return t===i?0!==a.length?a[0].aaSorting:i:("number"==typeof t?t=[[t,e]]:n.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Ge("order.listener()",function(t,e,i){return this.iterator("table",function(n){Ie(n,t,e,i)})}),Ge(["columns().order()","column().order()"],function(t){var e=this;return this.iterator("table",function(i,a){var s=[];n.each(e[a],function(e,i){s.push([i,t])}),i.aaSorting=s})}),Ge("search()",function(t,e,a,s){var o=this.context;return t===i?0!==o.length?o[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&X(i,n.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null===e?!1:e,bSmart:null===a?!0:a,bCaseInsensitive:null===s?!0:s}),1)})}),Je("columns().search()","column().search()",function(t,e,a,s){return this.iterator("column",function(o,r){var l=o.aoPreSearchCols;return t===i?l[r].sSearch:(o.oFeatures.bFilter&&(n.extend(l[r],{sSearch:t+"",bRegex:null===e?!1:e,bSmart:null===a?!0:a,bCaseInsensitive:null===s?!0:s}),X(o,o.oPreviousSearch,1)),void 0)})}),Ge("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ge("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Ge("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ge("state.save()",function(){return this.iterator("table",function(t){Ee(t)})}),Ye.versionCheck=Ye.fnVersionCheck=function(t){for(var e,i,n=Ye.version.split("."),t=t.split("."),a=0,s=t.length;s>a;a++)if(e=parseInt(n[a],10)||0,i=parseInt(t[a],10)||0,e!==i)return e>i;return!0},Ye.isDataTable=Ye.fnIsDataTable=function(t){var e=n(t).get(0),i=!1;return n.each(Ye.settings,function(t,n){(n.nTable===e||n.nScrollHead===e||n.nScrollFoot===e)&&(i=!0)}),i},Ye.tables=Ye.fnTables=function(t){return n.map(Ye.settings,function(e){return!t||t&&n(e.nTable).is(":visible")?e.nTable:void 0})},Ye.util={throttle:ve,escapeRegex:Q},Ye.camelToHungarian=s,Ge("$()",function(t,e){var i=this.rows(e).nodes(),i=n(i);return n([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),n.each(["on","one","off"],function(t,e){Ge(e+"()",function(){var t=Array.prototype.slice.call(arguments);t[0].match(/\.dt\b/)||(t[0]+=".dt");var i=n(this.tables().nodes());return i[e].apply(i,t),this})}),Ge("clear()",function(){return this.iterator("table",function(t){I(t)})}),Ge("settings()",function(){return new Ve(this.context,this.context)}),Ge("data()",function(){return this.iterator("table",function(t){return ci(t.aoData,"_aData")}).flatten()}),Ge("destroy()",function(e){return e=e||!1,this.iterator("table",function(i){var a,s=i.nTableWrapper.parentNode,o=i.oClasses,r=i.nTable,l=i.nTBody,c=i.nTHead,h=i.nTFoot,u=n(r),l=n(l),d=n(i.nTableWrapper),p=n.map(i.aoData,function(t){return t.nTr});i.bDestroying=!0,je(i,"aoDestroyCallback","destroy",[i]),e||new Ve(i).columns().visible(!0),d.unbind(".DT").find(":not(tbody *)").unbind(".DT"),n(t).unbind(".DT-"+i.sInstance),r!=c.parentNode&&(u.children("thead").detach(),u.append(c)),h&&r!=h.parentNode&&(u.children("tfoot").detach(),u.append(h)),u.detach(),d.detach(),i.aaSorting=[],i.aaSortingFixed=[],Ae(i),n(p).removeClass(i.asStripeClasses.join(" ")),n("th, td",c).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),i.bJUI&&(n("th span."+o.sSortIcon+", td span."+o.sSortIcon,c).detach(),n("th, td",c).each(function(){var t=n("div."+o.sSortJUIWrapper,this);n(this).append(t.contents()),t.detach()})),!e&&s&&s.insertBefore(r,i.nTableReinsertBefore),l.children().detach(),l.append(p),u.css("width",i.sDestroyWidth).removeClass(o.sTable),(a=i.asDestroyStripes.length)&&l.children().each(function(t){n(this).addClass(i.asDestroyStripes[t%a])}),s=n.inArray(i,Ye.settings),-1!==s&&Ye.settings.splice(s,1)})}),Ye.version="1.10.4",Ye.settings=[],Ye.models={},Ye.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ye.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Ye.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ye.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return(""+t).replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:n.extend({},Ye.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},a(Ye.defaults),Ye.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(Ye.defaults.column),Ye.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ze(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ze(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,a=this.oFeatures,s=a.bPaginate;return a.bServerSide?!1===s||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!s||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Ye.ext=Xe={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ye.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ye.version},n.extend(Xe,{afnFiltering:Xe.search,aTypes:Xe.type.detect,ofnSearch:Xe.type.search,oSort:Xe.type.order,afnSortData:Xe.order,aoFeatures:Xe.feature,oApi:Xe.internal,oStdClasses:Xe.classes,oPagination:Xe.pager}),n.extend(Ye.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Fi="",Fi="",Mi=Fi+"ui-state-default",Li=Fi+"css_right ui-icon ui-icon-",Ni=Fi+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";n.extend(Ye.ext.oJUIClasses,Ye.ext.classes,{sPageButton:"fg-button ui-button "+Mi,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Mi+" sorting_asc",sSortDesc:Mi+" sorting_desc",sSortable:Mi+" sorting",sSortableAsc:Mi+" sorting_asc_disabled",sSortableDesc:Mi+" sorting_desc_disabled",sSortableNone:Mi+" sorting_disabled",sSortJUIAsc:Li+"triangle-1-n",sSortJUIDesc:Li+"triangle-1-s",sSortJUI:Li+"carat-2-n-s",sSortJUIAscAllowed:Li+"carat-1-n",sSortJUIDescAllowed:Li+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Mi,sScrollFoot:"dataTables_scrollFoot "+Mi,sHeaderTH:Mi,sFooterTH:Mi,sJUIHeader:Ni+" ui-corner-tl ui-corner-tr",sJUIFooter:Ni+" ui-corner-bl ui-corner-br"});var $i=Ye.ext.pager;n.extend($i,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(t,e){return["previous",We(t,e),"next"]},full_numbers:function(t,e){return["first","previous",We(t,e),"next","last"]},_numbers:We,numbers_length:7}),n.extend(!0,Ye.ext.renderer,{pageButton:{_:function(t,i,a,s,o,r){var l,c,h=t.oClasses,u=t.oLanguage.oPaginate,d=0,p=function(e,i){var s,f,g,m,v=function(e){he(t,e.data.action,!0)};for(s=0,f=i.length;f>s;s++)if(m=i[s],n.isArray(m))g=n("<"+(m.DT_el||"div")+"/>").appendTo(e),p(g,m);else{switch(c=l="",m){case"ellipsis":e.append("<span>&hellip;</span>");break;case"first":l=u.sFirst,c=m+(o>0?"":" "+h.sPageButtonDisabled);break;case"previous":l=u.sPrevious,c=m+(o>0?"":" "+h.sPageButtonDisabled);break;case"next":l=u.sNext,c=m+(r-1>o?"":" "+h.sPageButtonDisabled);break;case"last":l=u.sLast,c=m+(r-1>o?"":" "+h.sPageButtonDisabled);break;default:l=m+1,c=o===m?h.sPageButtonActive:""}l&&(g=n("<a>",{"class":h.sPageButton+" "+c,"aria-controls":t.sTableId,"data-dt-idx":d,tabindex:t.iTabIndex,id:0===a&&"string"==typeof m?t.sTableId+"_"+m:null}).html(l).appendTo(e),Oe(g,{action:m},v),d++)}};try{var f=n(e.activeElement).data("dt-idx");p(n(i).empty(),s),null!==f&&n(i).find("[data-dt-idx="+f+"]").focus()}catch(g){}}}}),n.extend(Ye.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return ri(t,i)?"num"+i:null},function(t){if(!(!t||t instanceof Date||ti.test(t)&&ei.test(t)))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||ai(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return ri(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return li(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return li(t,i,!0)?"html-num-fmt"+i:null},function(t){return ai(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),n.extend(Ye.ext.type.search,{html:function(t){return ai(t)?t:"string"==typeof t?t.replace(Qe," ").replace(Ze,""):""},string:function(t){return ai(t)?t:"string"==typeof t?t.replace(Qe," "):t}});var Oi=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=oi(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};return n.extend(Xe.type.order,{"date-pre":function(t){return Date.parse(t)||0},"html-pre":function(t){return ai(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return ai(t)?"":"string"==typeof t?t.toLowerCase():t.toString?""+t:""},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0}}),Ue(""),n.extend(!0,Ye.ext.renderer,{header:{_:function(t,e,i,a){n(t.nTable).on("order.dt.DT",function(n,s,o,r){t===s&&(n=i.idx,e.removeClass(i.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass("asc"==r[n]?a.sSortAsc:"desc"==r[n]?a.sSortDesc:i.sSortingClass))})},jqueryui:function(t,e,i,a){n("<div/>").addClass(a.sSortJUIWrapper).append(e.contents()).append(n("<span/>").addClass(a.sSortIcon+" "+i.sSortingClassJUI)).appendTo(e),n(t.nTable).on("order.dt.DT",function(n,s,o,r){t===s&&(n=i.idx,e.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass("asc"==r[n]?a.sSortAsc:"desc"==r[n]?a.sSortDesc:i.sSortingClass),e.find("span."+a.sSortIcon).removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass("asc"==r[n]?a.sSortJUIAsc:"desc"==r[n]?a.sSortJUIDesc:i.sSortingClassJUI))})}}}),Ye.render={number:function(t,e,i,n){return{display:function(a){var s=0>a?"-":"",a=Math.abs(parseFloat(a)),o=parseInt(a,10),a=i?e+(a-o).toFixed(i).substring(2):"";return s+(n||"")+(""+o).replace(/\B(?=(\d{3})+(?!\d))/g,t)+a}}}},n.extend(Ye.ext.internal,{_fnExternApiFunc:qe,_fnBuildAjax:B,_fnAjaxUpdate:z,_fnAjaxParameters:W,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:q,_fnAddColumn:u,_fnColumnOptions:d,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:a,_fnCamelToHungarian:s,_fnLanguageCompat:o,_fnBrowserDetect:c,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==i?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,i){return n.inArray(i,t.aoData[e].anCells)},_fnGetCellData:x,_fnSetCellData:T,_fnSplitObjNotation:S,_fnGetObjectDataFn:C,_fnSetObjectDataFn:k,_fnGetDataMaster:D,_fnClearTable:I,_fnDeleteIndex:A,_fnInvalidate:P,_fnGetRowElements:E,_fnCreateTr:F,_fnBuildHead:L,_fnDrawHead:N,_fnDraw:$,_fnReDraw:O,_fnAddOptionsHtml:R,_fnDetectHeader:j,_fnGetUniqueThs:H,_fnFeatureHtmlFilter:Y,_fnFilterComplete:X,_fnFilterCustom:V,_fnFilterColumn:G,_fnFilter:J,_fnFilterCreateSearch:K,_fnEscapeRegex:Q,_fnFilterData:Z,_fnFeatureHtmlInfo:ie,_fnUpdateInfo:ne,_fnInfoMacros:ae,_fnInitialise:se,_fnInitComplete:oe,_fnLengthChange:re,_fnFeatureHtmlLength:le,_fnFeatureHtmlPaginate:ce,_fnPageChange:he,_fnFeatureHtmlProcessing:ue,_fnProcessingDisplay:de,_fnFeatureHtmlTable:pe,_fnScrollDraw:fe,_fnApplyToChildren:ge,_fnCalculateColumnWidths:me,_fnThrottle:ve,_fnConvertToWidth:be,_fnScrollingWidthAdjust:ye,_fnGetWidestNode:_e,_fnGetMaxLenString:we,_fnStringToCss:xe,_fnScrollBarWidth:Te,_fnSortFlatten:Se,_fnSort:Ce,_fnSortAria:ke,_fnSortListener:De,_fnSortAttachListener:Ie,_fnSortingClasses:Ae,_fnSortData:Pe,_fnSaveState:Ee,_fnLoadState:Fe,_fnSettingsFromNode:Me,_fnLog:Le,_fnMap:Ne,_fnBindAction:Oe,_fnCallbackReg:Re,_fnCallbackFire:je,_fnLengthOverflow:He,_fnRenderer:Be,_fnDataSource:ze,_fnRowAttributes:M,_fnCalculateEnd:function(){}}),n.fn.dataTable=Ye,n.fn.dataTableSettings=Ye.settings,n.fn.dataTableExt=Ye.ext,n.fn.DataTable=function(t){return n(this).dataTable(t).api()},n.each(Ye,function(t,e){n.fn.DataTable[t]=e}),n.fn.dataTable};"function"==typeof define&&define.amd?define("datatables",["jquery"],n):"object"==typeof exports?n(require("jquery")):jQuery&&!jQuery.fn.dataTable&&n(jQuery)}(window,document),EventManager!==void 0&&EventManager.fire("lib:loaded",{lib:"dataTable"});var TableTools;(function(t,e,i){var n=function(n,a){var s={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(t){return"string"==typeof t&&(t=e.getElementById(t)),t.addClass||(t.hide=function(){this.style.display="none"},t.show=function(){this.style.display=""},t.addClass=function(t){this.removeClass(t),this.className+=" "+t},t.removeClass=function(t){this.className=this.className.replace(RegExp("\\s*"+t+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},t.hasClass=function(t){return!!this.className.match(RegExp("\\s*"+t+"\\s*"))}),t},setMoviePath:function(t){this.moviePath=t},dispatch:function(t,e,i){(t=this.clients[t])&&t.receiveEvent(e,i)},register:function(t,e){this.clients[t]=e},getDOMObjectPosition:function(t){var e={left:0,top:0,width:t.width?t.width:t.offsetWidth,height:t.height?t.height:t.offsetHeight};for(""!==t.style.width&&(e.width=t.style.width.replace("px","")),""!==t.style.height&&(e.height=t.style.height.replace("px",""));t;)e.left+=t.offsetLeft,e.top+=t.offsetTop,t=t.offsetParent;return e},Client:function(t){this.handlers={},this.id=s.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,s.register(this.id,this),t&&this.glue(t)}};s.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(t,i){this.domElement=s.$(t);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1);var a=s.getDOMObjectPosition(this.domElement);this.div=e.createElement("div");var o=this.div.style;o.position="absolute",o.left="0px",o.top="0px",o.width=a.width+"px",o.height=a.height+"px",o.zIndex=n,i!==void 0&&""!==i&&(this.div.title=i),0!==a.width&&0!==a.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(a.width,a.height).replace(/&/g,"&amp;"))
},positionElement:function(){var t=s.getDOMObjectPosition(this.domElement),e=this.div.style;e.position="absolute",e.width=t.width+"px",e.height=t.height+"px",0!==t.width&&0!==t.height&&(this.sized=!0,e=this.div.childNodes[0],e.width=t.width,e.height=t.height)},getHTML:function(t,e){var i="",n="id="+this.id+"&width="+t+"&height="+e;if(navigator.userAgent.match(/MSIE/))var a=location.href.match(/^https/i)?"https://":"http://",i=i+('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+a+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+t+'" height="'+e+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+s.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>');else i+='<embed id="'+this.movieId+'" src="'+s.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+t+'" height="'+e+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var t=e.getElementsByTagName("body")[0];try{t.removeChild(this.div)}catch(i){}this.div=this.domElement=null}},reposition:function(t){if(t&&((this.domElement=s.$(t))||this.hide()),this.domElement&&this.div){var t=s.getDOMObjectPosition(this.domElement),e=this.div.style;e.left=""+t.left+"px",e.top=""+t.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(t){this.clipText+=t,this.ready&&this.movie.appendText(t)},setText:function(t){this.clipText=t,this.ready&&this.movie.setText(t)},setCharSet:function(t){this.charSet=t,this.ready&&this.movie.setCharSet(t)},setBomInc:function(t){this.incBom=t,this.ready&&this.movie.setBomInc(t)},setFileName:function(t){this.fileName=t,this.ready&&this.movie.setFileName(t)},setAction:function(t){this.action=t,this.ready&&this.movie.setAction(t)},addEventListener:function(t,e){t=(""+t).toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},setHandCursor:function(t){this.handCursorEnabled=t,this.ready&&this.movie.setHandCursor(t)},setCSSEffects:function(t){this.cssEffects=!!t},receiveEvent:function(i,n){var a,i=(""+i).toLowerCase().replace(/^on/,"");switch(i){case"load":if(this.movie=e.getElementById(this.movieId),!this.movie)return a=this,setTimeout(function(){a.receiveEvent("load",null)},1),void 0;if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return a=this,setTimeout(function(){a.receiveEvent("load",null)},100),this.ready=!0,void 0;this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[i])for(var s=0,o=this.handlers[i].length;o>s;s++){var r=this.handlers[i][s];"function"==typeof r?r(this,n):"object"==typeof r&&2==r.length?r[0][r[1]](this,n):"string"==typeof r&&t[r](this,n)}}},t.ZeroClipboard_TableTools=s;var o=jQuery;return TableTools=function(t,e){return!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'"),this.s={that:this,dt:o.fn.dataTable.Api?new o.fn.dataTable.Api(t).settings()[0]:t.fnSettings(),print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=o.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&o.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},e===void 0&&(e={}),TableTools._aInstances.push(this),this._fnConstruct(e),this},TableTools.prototype={fnGetSelected:function(t){var e,i=[],n=this.s.dt.aoData,a=this.s.dt.aiDisplay;if(t)for(t=0,e=a.length;e>t;t++)n[a[t]]._DTTT_selected&&i.push(n[a[t]].nTr);else for(t=0,e=n.length;e>t;t++)n[t]._DTTT_selected&&i.push(n[t].nTr);return i},fnGetSelectedData:function(){var t,e,i=[],n=this.s.dt.aoData;for(t=0,e=n.length;e>t;t++)n[t]._DTTT_selected&&i.push(this.s.dt.oInstance.fnGetData(t));return i},fnGetSelectedIndexes:function(t){var e,i=[],n=this.s.dt.aoData,a=this.s.dt.aiDisplay;if(t)for(t=0,e=a.length;e>t;t++)n[a[t]]._DTTT_selected&&i.push(a[t]);else for(t=0,e=n.length;e>t;t++)n[t]._DTTT_selected&&i.push(t);return i},fnIsSelected:function(t){return t=this.s.dt.oInstance.fnGetPosition(t),!0===this.s.dt.aoData[t]._DTTT_selected?!0:!1},fnSelectAll:function(t){this._fnRowSelect(t?this.s.dt.aiDisplay:this.s.dt.aoData)},fnSelectNone:function(t){this._fnRowDeselect(this.fnGetSelectedIndexes(t))},fnSelect:function(t){"single"==this.s.select.type&&this.fnSelectNone(),this._fnRowSelect(t)},fnDeselect:function(t){this._fnRowDeselect(t)},fnGetTitle:function(t){var i="";return t.sTitle!==void 0&&""!==t.sTitle?i=t.sTitle:(t=e.getElementsByTagName("title"),t.length>0&&(i=t[0].innerHTML)),4>"Â¡".length?i.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):i.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(t){var e,i,n=this.s.dt.aoColumns,t=this._fnColumnTargets(t.mColumns),a=[],s=0,o=0;for(e=0,i=t.length;i>e;e++)t[e]&&(s=n[e].nTh.offsetWidth,o+=s,a.push(s));for(e=0,i=a.length;i>e;e++)a[e]/=o;return a.join("	")},fnGetTableData:function(t){return this.s.dt?this._fnGetDataTablesData(t):void 0},fnSetText:function(t,e){this._fnFlashSetText(t,e)},fnResizeButtons:function(){for(var t in s.clients)if(t){var e=s.clients[t];e.domElement!==void 0&&e.domElement.parentNode&&e.positionElement()}},fnResizeRequired:function(){for(var t in s.clients)if(t){var e=s.clients[t];if(e.domElement!==void 0&&e.domElement.parentNode==this.dom.container&&!1===e.sized)return!0}return!1},fnPrint:function(t,e){e===i&&(e={}),t===i||t?this._fnPrintStart(e):this._fnPrintEnd()},fnInfo:function(t,e){var i=o("<div/>").addClass(this.classes.print.info).html(t).appendTo("body");setTimeout(function(){i.fadeOut("normal",function(){i.remove()})},e)},fnContainer:function(){return this.dom.container},_fnConstruct:function(t){var i=this;this._fnCustomiseSettings(t),this.dom.container=e.createElement(this.s.tags.container),this.dom.container.className=this.classes.container,"none"!=this.s.select.type&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){o(i.s.dt.nTBody).off("click.DTTT_Select","tr"),o(i.dom.container).empty();var t=o.inArray(i,TableTools._aInstances);-1!==t&&TableTools._aInstances.splice(t,1)}})},_fnCustomiseSettings:function(t){this.s.dt._TableToolsInit===void 0&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=o.extend({},TableTools.DEFAULTS,t),this.s.swfPath=this.s.custom.sSwfPath,s!==void 0&&(s.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass),this.s.tags=this.s.custom.oTags,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(t,e){for(var i,n=0,a=t.length;a>n;n++){if("string"==typeof t[n]){if(TableTools.BUTTONS[t[n]]===void 0){alert("TableTools: Warning - unknown button type: "+t[n]);continue}i=o.extend({},TableTools.BUTTONS[t[n]],!0)}else{if(TableTools.BUTTONS[t[n].sExtends]===void 0){alert("TableTools: Warning - unknown button type: "+t[n].sExtends);continue}i=o.extend({},TableTools.BUTTONS[t[n].sExtends],!0),i=o.extend(i,t[n],!0)}(i=this._fnCreateButton(i,o(e).hasClass(this.classes.collection.container)))&&e.appendChild(i)}},_fnCreateButton:function(t,e){var i=this._fnButtonBase(t,e);if(t.sAction.match(/flash/)){if(!this._fnHasFlash())return!1;this._fnFlashConfig(i,t)}else"text"==t.sAction?this._fnTextConfig(i,t):"div"==t.sAction?this._fnTextConfig(i,t):"collection"==t.sAction&&(this._fnTextConfig(i,t),this._fnCollectionConfig(i,t));return-1!==this.s.dt.iTabIndex&&o(i).attr("tabindex",this.s.dt.iTabIndex).attr("aria-controls",this.s.dt.sTableId).on("keyup.DTTT",function(t){13===t.keyCode&&(t.stopPropagation(),o(this).trigger("click"))}).on("mousedown.DTTT",function(e){t.sAction.match(/flash/)||e.preventDefault()}),i},_fnButtonBase:function(t,i){var n,a,s;i?(n=t.sTag&&"default"!==t.sTag?t.sTag:this.s.tags.collection.button,a=t.sLinerTag&&"default"!==t.sLinerTag?t.sLiner:this.s.tags.collection.liner,s=this.classes.collection.buttons.normal):(n=t.sTag&&"default"!==t.sTag?t.sTag:this.s.tags.button,a=t.sLinerTag&&"default"!==t.sLinerTag?t.sLiner:this.s.tags.liner,s=this.classes.buttons.normal),n=e.createElement(n),a=e.createElement(a);var o=this._fnGetMasterSettings();return n.className=s+" "+t.sButtonClass,n.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+o.buttonCounter),n.appendChild(a),a.innerHTML=t.sButtonText,o.buttonCounter++,n},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var t=TableTools._aInstances,e=0,i=t.length;i>e;e++)if(this.dom.table==t[e].s.dt.nTable)return t[e].s},_fnCollectionConfig:function(t,i){var n=e.createElement(this.s.tags.collection.container);n.style.display="none",n.className=this.classes.collection.container,i._collection=n,e.body.appendChild(n),this._fnButtonDefinations(i.aButtons,n)},_fnCollectionShow:function(i,n){var a=this,s=o(i).offset(),r=n._collection,l=s.left,s=s.top+o(i).outerHeight(),c=o(t).height(),h=o(e).height(),u=o(t).width(),d=o(e).width();r.style.position="absolute",r.style.left=l+"px",r.style.top=s+"px",r.style.display="block",o(r).css("opacity",0);var p=e.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.height=(c>h?c:h)+"px",p.style.width=(u>d?u:d)+"px",p.className=this.classes.collection.background,o(p).css("opacity",0),e.body.appendChild(p),e.body.appendChild(r),c=o(r).outerWidth(),u=o(r).outerHeight(),l+c>d&&(r.style.left=d-c+"px"),s+u>h&&(r.style.top=s-u-o(i).outerHeight()+"px"),this.dom.collection.collection=r,this.dom.collection.background=p,setTimeout(function(){o(r).animate({opacity:1},500),o(p).animate({opacity:.25},500)},10),this.fnResizeButtons(),o(p).click(function(){a._fnCollectionHide.call(a,null,null)})},_fnCollectionHide:function(t,e){!(null!==e&&"collection"==e.sExtends)&&null!==this.dom.collection.collection&&(o(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),o(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){var t=this,e=this.s.dt;o(e.nTable).addClass(this.classes.select.table),"os"===this.s.select.type&&(o(e.nTBody).on("mousedown.DTTT_Select","tr",function(t){t.shiftKey&&o(e.nTBody).css("-moz-user-select","none").one("selectstart.DTTT_Select","tr",function(){return!1})}),o(e.nTBody).on("mouseup.DTTT_Select","tr",function(){o(e.nTBody).css("-moz-user-select","")})),o(e.nTBody).on("click.DTTT_Select",this.s.custom.sRowSelector,function(i){var n="tr"===this.nodeName.toLowerCase()?this:o(this).parents("tr")[0],a=t.s.select,s=t.s.dt.oInstance.fnGetPosition(n);if(n.parentNode==e.nTBody&&null!==e.oInstance.fnGetData(n)){if("os"==a.type)if(i.ctrlKey||i.metaKey)t.fnIsSelected(n)?t._fnRowDeselect(n,i):t._fnRowSelect(n,i);else if(i.shiftKey){var r=t.s.dt.aiDisplay.slice(),l=o.inArray(a.lastRow,r),c=o.inArray(s,r);if(0===t.fnGetSelected().length||-1===l)r.splice(o.inArray(s,r)+1,r.length);else{if(l>c)var h=c,c=l,l=h;r.splice(c+1,r.length),r.splice(0,l)}t.fnIsSelected(n)?(r.splice(o.inArray(s,r),1),t._fnRowDeselect(r,i)):t._fnRowSelect(r,i)}else t.fnIsSelected(n)&&1===t.fnGetSelected().length?t._fnRowDeselect(n,i):(t.fnSelectNone(),t._fnRowSelect(n,i));else t.fnIsSelected(n)?t._fnRowDeselect(n,i):"single"==a.type?(t.fnSelectNone(),t._fnRowSelect(n,i)):"multi"==a.type&&t._fnRowSelect(n,i);a.lastRow=s}}),e.oApi._fnCallbackReg(e,"aoRowCreatedCallback",function(i,n,a){e.aoData[a]._DTTT_selected&&o(i).addClass(t.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(t,e){var i,n,a=this._fnSelectData(t),s=[];for(i=0,n=a.length;n>i;i++)a[i].nTr&&s.push(a[i].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,e,s,!0)){for(i=0,n=a.length;n>i;i++)a[i]._DTTT_selected=!0,a[i].nTr&&o(a[i].nTr).addClass(this.classes.select.row);null!==this.s.select.postSelected&&this.s.select.postSelected.call(this,s),TableTools._fnEventDispatch(this,"select",s,!0)}},_fnRowDeselect:function(t,e){var i,n,a=this._fnSelectData(t),s=[];for(i=0,n=a.length;n>i;i++)a[i].nTr&&s.push(a[i].nTr);if(null===this.s.select.preRowSelect||this.s.select.preRowSelect.call(this,e,s,!1)){for(i=0,n=a.length;n>i;i++)a[i]._DTTT_selected=!1,a[i].nTr&&o(a[i].nTr).removeClass(this.classes.select.row);null!==this.s.select.postDeselected&&this.s.select.postDeselected.call(this,s),TableTools._fnEventDispatch(this,"select",s,!1)}},_fnSelectData:function(t){var e,i,n,a=[];if(t.nodeName)e=this.s.dt.oInstance.fnGetPosition(t),a.push(this.s.dt.aoData[e]);else if(t.length!==void 0)for(i=0,n=t.length;n>i;i++)t[i].nodeName?(e=this.s.dt.oInstance.fnGetPosition(t[i]),a.push(this.s.dt.aoData[e])):"number"==typeof t[i]?a.push(this.s.dt.aoData[t[i]]):a.push(t[i]);else a.push(t);return a},_fnTextConfig:function(t,e){var i=this;null!==e.fnInit&&e.fnInit.call(this,t,e),""!==e.sToolTip&&(t.title=e.sToolTip),o(t).hover(function(){null!==e.fnMouseover&&e.fnMouseover.call(this,t,e,null)},function(){null!==e.fnMouseout&&e.fnMouseout.call(this,t,e,null)}),null!==e.fnSelect&&TableTools._fnEventListen(this,"select",function(n){e.fnSelect.call(i,t,e,n)}),o(t).click(function(n){null!==e.fnClick&&e.fnClick.call(i,t,e,null,n),null!==e.fnComplete&&e.fnComplete.call(i,t,e,null,null),i._fnCollectionHide(t,e)})},_fnHasFlash:function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(t){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==i&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},_fnFlashConfig:function(t,e){var i=this,n=new s.Client;null!==e.fnInit&&e.fnInit.call(this,t,e),n.setHandCursor(!0),"flash_save"==e.sAction?(n.setAction("save"),n.setCharSet("utf16le"==e.sCharSet?"UTF16LE":"UTF8"),n.setBomInc(e.bBomInc),n.setFileName(e.sFileName.replace("*",this.fnGetTitle(e)))):"flash_pdf"==e.sAction?(n.setAction("pdf"),n.setFileName(e.sFileName.replace("*",this.fnGetTitle(e)))):n.setAction("copy"),n.addEventListener("mouseOver",function(){null!==e.fnMouseover&&e.fnMouseover.call(i,t,e,n)}),n.addEventListener("mouseOut",function(){null!==e.fnMouseout&&e.fnMouseout.call(i,t,e,n)}),n.addEventListener("mouseDown",function(){null!==e.fnClick&&e.fnClick.call(i,t,e,n)}),n.addEventListener("complete",function(a,s){null!==e.fnComplete&&e.fnComplete.call(i,t,e,n,s),i._fnCollectionHide(t,e)}),this._fnFlashGlue(n,t,e.sToolTip)},_fnFlashGlue:function(t,i,n){var a=this,s=i.getAttribute("id");e.getElementById(s)?t.glue(i,n):setTimeout(function(){a._fnFlashGlue(t,i,n)},100)},_fnFlashSetText:function(t,e){var i=this._fnChunkData(e,8192);t.clearText();for(var n=0,a=i.length;a>n;n++)t.appendText(i[n])},_fnColumnTargets:function(t){var e,i=[],n=this.s.dt,a=n.aoColumns;if(e=a.length,"function"==typeof t)for(t=t.call(this,n),n=0;e>n;n++)i.push(-1!==o.inArray(n,t)?!0:!1);else if("object"==typeof t){for(n=0;e>n;n++)i.push(!1);for(n=0,e=t.length;e>n;n++)i[t[n]]=!0}else if("visible"==t)for(n=0;e>n;n++)i.push(a[n].bVisible?!0:!1);else if("hidden"==t)for(n=0;e>n;n++)i.push(a[n].bVisible?!1:!0);else if("sortable"==t)for(n=0;e>n;n++)i.push(a[n].bSortable?!0:!1);else for(n=0;e>n;n++)i.push(!0);return i},_fnNewline:function(t){return"auto"==t.sNewLine?navigator.userAgent.match(/Windows/)?"\r\n":"\n":t.sNewLine},_fnGetDataTablesData:function(t){var e,i,n,s,r,l,c=[],h="",u=this.s.dt,d=RegExp(t.sFieldBoundary,"g"),p=this._fnColumnTargets(t.mColumns);if(n=t.bSelectedOnly!==void 0?t.bSelectedOnly:!1,t.bHeader){for(r=[],e=0,i=u.aoColumns.length;i>e;e++)p[e]&&(h=u.aoColumns[e].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),h=this._fnHtmlDecode(h),r.push(this._fnBoundData(h,t.sFieldBoundary,d)));c.push(r.join(t.sFieldSeperator))}n=!0;var f;for(s=this.fnGetSelectedIndexes(),f=(n="none"!==this.s.select.type&&n&&0!==s.length)?s:a.Api?new a.Api(u).rows(t.oSelectorOpts).indexes().flatten().toArray():u.oInstance.$("tr",t.oSelectorOpts).map(function(t,e){return u.oInstance.fnGetPosition(e)}).get(),n=0,s=f.length;s>n;n++){for(l=u.aoData[f[n]].nTr,r=[],e=0,i=u.aoColumns.length;i>e;e++)p[e]&&(h=u.oApi._fnGetCellData(u,f[n],e,"display"),t.fnCellRender?h=t.fnCellRender(h,e,l,f[n])+"":"string"==typeof h?(h=h.replace(/\n/g," "),h=h.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),h=h.replace(/<.*?>/g,"")):h+="",h=h.replace(/^\s+/,"").replace(/\s+$/,""),h=this._fnHtmlDecode(h),r.push(this._fnBoundData(h,t.sFieldBoundary,d)));c.push(r.join(t.sFieldSeperator)),t.bOpenRows&&(e=o.grep(u.aoOpenRows,function(t){return t.nParent===l}),1===e.length&&(h=this._fnBoundData(o("td",e[0].nTr).html(),t.sFieldBoundary,d),c.push(h)))}if(t.bFooter&&null!==u.nTFoot){for(r=[],e=0,i=u.aoColumns.length;i>e;e++)p[e]&&null!==u.aoColumns[e].nTf&&(h=u.aoColumns[e].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),h=this._fnHtmlDecode(h),r.push(this._fnBoundData(h,t.sFieldBoundary,d)));c.push(r.join(t.sFieldSeperator))}return c.join(this._fnNewline(t))},_fnBoundData:function(t,e,i){return""===e?t:e+t.replace(i,e+e)+e},_fnChunkData:function(t,e){for(var i=[],n=t.length,a=0;n>a;a+=e)n>a+e?i.push(t.substring(a,a+e)):i.push(t.substring(a,n));return i},_fnHtmlDecode:function(t){if(-1===t.indexOf("&"))return t;var i=e.createElement("div");return t.replace(/&([^\s]*?);/g,function(t,e){return"#"===t.substr(1,1)?String.fromCharCode(Number(e.substr(1))):(i.innerHTML=t,i.childNodes[0].nodeValue)})},_fnPrintStart:function(i){var n=this,a=this.s.dt;this._fnPrintHideNodes(a.nTable),this.s.print.saveStart=a._iDisplayStart,this.s.print.saveLength=a._iDisplayLength,i.bShowAll&&(a._iDisplayStart=0,a._iDisplayLength=-1,a.oApi._fnCalculateEnd&&a.oApi._fnCalculateEnd(a),a.oApi._fnDraw(a)),(""!==a.oScroll.sX||""!==a.oScroll.sY)&&(this._fnPrintScrollStart(a),o(this.s.dt.nTable).bind("draw.DTTT_Print",function(){n._fnPrintScrollStart(a)}));var s,r=a.aanFeatures;for(s in r)if("i"!=s&&"t"!=s&&1==s.length)for(var l=0,c=r[s].length;c>l;l++)this.dom.print.hidden.push({node:r[s][l],display:"block"}),r[s][l].style.display="none";o(e.body).addClass(this.classes.print.body),""!==i.sInfo&&this.fnInfo(i.sInfo,3e3),i.sMessage&&o("<div/>").addClass(this.classes.print.message).html(i.sMessage).prependTo("body"),this.s.print.saveScroll=o(t).scrollTop(),t.scrollTo(0,0),o(e).bind("keydown.DTTT",function(t){27==t.keyCode&&(t.preventDefault(),n._fnPrintEnd.call(n,t))})},_fnPrintEnd:function(){var i=this.s.dt,n=this.s.print;this._fnPrintShowNodes(),(""!==i.oScroll.sX||""!==i.oScroll.sY)&&(o(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd()),t.scrollTo(0,n.saveScroll),o("div."+this.classes.print.message).remove(),o(e.body).removeClass("DTTT_Print"),i._iDisplayStart=n.saveStart,i._iDisplayLength=n.saveLength,i.oApi._fnCalculateEnd&&i.oApi._fnCalculateEnd(i),i.oApi._fnDraw(i),o(e).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var t=this.s.dt;t.nScrollHead.getElementsByTagName("div")[0].getElementsByTagName("table");var e,i=t.nTable.parentNode;e=t.nTable.getElementsByTagName("thead"),e.length>0&&t.nTable.removeChild(e[0]),null!==t.nTFoot&&(e=t.nTable.getElementsByTagName("tfoot"),e.length>0&&t.nTable.removeChild(e[0])),e=t.nTHead.cloneNode(!0),t.nTable.insertBefore(e,t.nTable.childNodes[0]),null!==t.nTFoot&&(e=t.nTFoot.cloneNode(!0),t.nTable.insertBefore(e,t.nTable.childNodes[1])),""!==t.oScroll.sX&&(t.nTable.style.width=o(t.nTable).outerWidth()+"px",i.style.width=o(t.nTable).outerWidth()+"px",i.style.overflow="visible"),""!==t.oScroll.sY&&(i.style.height=o(t.nTable).outerHeight()+"px",i.style.overflow="visible")},_fnPrintScrollEnd:function(){var t=this.s.dt,e=t.nTable.parentNode;""!==t.oScroll.sX&&(e.style.width=t.oApi._fnStringToCss(t.oScroll.sX),e.style.overflow="auto"),""!==t.oScroll.sY&&(e.style.height=t.oApi._fnStringToCss(t.oScroll.sY),e.style.overflow="auto")},_fnPrintShowNodes:function(){for(var t=this.dom.print.hidden,e=0,i=t.length;i>e;e++)t[e].node.style.display=t[e].display;t.splice(0,t.length)},_fnPrintHideNodes:function(t){for(var e=this.dom.print.hidden,i=t.parentNode,n=i.childNodes,a=0,s=n.length;s>a;a++)if(n[a]!=t&&1==n[a].nodeType){var r=o(n[a]).css("display");"none"!=r&&(e.push({node:n[a],display:r}),n[a].style.display="none")}"BODY"!=i.nodeName.toUpperCase()&&this._fnPrintHideNodes(i)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){for(var t=[],e=0,i=TableTools._aInstances.length;i>e;e++)TableTools._aInstances[e].s.master&&t.push(TableTools._aInstances[e]);return t},TableTools.fnGetInstance=function(t){"object"!=typeof t&&(t=e.getElementById(t));for(var i=0,n=TableTools._aInstances.length;n>i;i++)if(TableTools._aInstances[i].s.master&&TableTools._aInstances[i].dom.table==t)return TableTools._aInstances[i];return null},TableTools._fnEventListen=function(t,e,i){TableTools._aListeners.push({that:t,type:e,fn:i})},TableTools._fnEventDispatch=function(t,e,i,n){for(var a=TableTools._aListeners,s=0,o=a.length;o>s;s++)t.dom.table==a[s].that.dom.table&&a[s].type==e&&a[s].fn(i,n)},TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"	",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,oSelectorOpts:i,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},TableTools.BUTTONS={csv:o.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(t,e,i){this.fnSetText(i,this.fnGetTableData(e))}}),xls:o.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(t,e,i){this.fnSetText(i,this.fnGetTableData(e))}}),copy:o.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(t,e,i){this.fnSetText(i,this.fnGetTableData(e))},fnComplete:function(t,e,i,n){t=n.split("\n").length,e.bHeader&&t--,null!==this.s.dt.nTFoot&&e.bFooter&&t--,this.fnInfo("<h6>Table copied</h6><p>Copied "+t+" row"+(1==t?"":"s")+" to the clipboard.</p>",1500)}}),pdf:o.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(t,e,i){this.fnSetText(i,"title:"+this.fnGetTitle(e)+"\nmessage:"+e.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(e)+"\norientation:"+e.sPdfOrientation+"\nsize:"+e.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(e))}}),print:o.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.</p>",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(t,e){this.fnPrint(!0,e)}}),text:o.extend({},TableTools.buttonBase),select:o.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){0!==this.fnGetSelected().length?o(t).removeClass(this.classes.buttons.disabled):o(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){o(t).addClass(this.classes.buttons.disabled)}}),select_single:o.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){1==this.fnGetSelected().length?o(t).removeClass(this.classes.buttons.disabled):o(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){o(t).addClass(this.classes.buttons.disabled)}}),select_all:o.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(){this.fnSelectAll()},fnSelect:function(t){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?o(t).addClass(this.classes.buttons.disabled):o(t).removeClass(this.classes.buttons.disabled)}}),select_none:o.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(){this.fnSelectNone()},fnSelect:function(t){0!==this.fnGetSelected().length?o(t).removeClass(this.classes.buttons.disabled):o(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){o(t).addClass(this.classes.buttons.disabled)}}),ajax:o.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(t,e){var i=this.fnGetTableData(e);o.ajax({url:e.sAjaxUrl,data:[{name:"tableData",value:i}],success:e.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(){alert("Ajax complete")}}),div:o.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:o.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(t,e){this._fnCollectionShow(t,e)}})},TableTools.buttons=TableTools.BUTTONS,TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}},TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}},TableTools.DEFAULTS={sSwfPath:"../swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sRowSelector:"tr",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}},TableTools.defaults=TableTools.DEFAULTS,TableTools.prototype.CLASS="TableTools",TableTools.version="2.2.3",o.fn.dataTable.Api&&o.fn.dataTable.Api.register("tabletools()",function(){var t=null;return this.context.length>0&&(t=TableTools.fnGetInstance(this.context[0].nTable)),t}),"function"==typeof o.fn.dataTable&&"function"==typeof o.fn.dataTableExt.fnVersionCheck&&o.fn.dataTableExt.fnVersionCheck("1.9.0")?o.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e=t.oInit;return new TableTools(t.oInstance,e?e.tableTools||e.oTableTools||{}:{}).dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools requires DataTables 1.9.0 or newer - www.datatables.net/download"),o.fn.DataTable.TableTools=TableTools,"function"==typeof n.fn.dataTable&&"function"==typeof n.fn.dataTableExt.fnVersionCheck&&n.fn.dataTableExt.fnVersionCheck("1.9.0")?n.fn.dataTableExt.aoFeatures.push({fnInit:function(t){return t=new TableTools(t.oInstance,t.oInit.oTableTools!==void 0?t.oInit.oTableTools:{}),TableTools._aInstances.push(t),t.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download"),n.fn.dataTable.TableTools=TableTools,n.fn.DataTable.TableTools=TableTools};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.TableTools&&n(jQuery,jQuery.fn.dataTable)})(window,document),function(){"use strict";var t=this,e=t.Chart,i=function(t){return this.canvas=t.canvas,this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height,this.aspectRatio=this.width/this.height,n.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var n=i.helpers={},a=n.each=function(t,e,i){var n=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var a;for(a=0;t.length>a;a++)e.apply(i,[t[a],a].concat(n))}else for(var s in t)e.apply(i,[t[s],s].concat(n))},s=n.clone=function(t){var e={};return a(t,function(i,n){t.hasOwnProperty(n)&&(e[n]=i)}),e},o=n.extend=function(t){return a(Array.prototype.slice.call(arguments,1),function(e){a(e,function(i,n){e.hasOwnProperty(n)&&(t[n]=i)})}),t},r=n.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),o.apply(null,t)},l=n.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var i=0;t.length>i;i++)if(t[i]===e)return i;return-1},c=(n.where=function(t,e){var i=[];return n.each(t,function(t){e(t)&&i.push(t)}),i},n.findNextWhere=function(t,e,i){i||(i=-1);for(var n=i+1;t.length>n;n++){var a=t[n];if(e(a))return a}},n.findPreviousWhere=function(t,e,i){i||(i=t.length);for(var n=i-1;n>=0;n--){var a=t[n];if(e(a))return a}},n.inherits=function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=c,t&&o(i.prototype,t),i.__super__=e.prototype,i}),h=n.noop=function(){},u=n.uid=function(){var t=0;
return function(){return"chart-"+t++}}(),d=n.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=n.amd="function"==typeof t.define&&t.define.amd,f=n.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=n.max=function(t){return Math.max.apply(Math,t)},m=n.min=function(t){return Math.min.apply(Math,t)},v=(n.cap=function(t,e,i){if(f(e)){if(t>e)return e}else if(f(i)&&i>t)return i;return t},n.getDecimalPlaces=function(t){return 0!==t%1&&f(t)?(""+t).split(".")[1].length:0}),b=n.radians=function(t){return t*(Math.PI/180)},y=(n.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(i*i+n*n),s=2*Math.PI+Math.atan2(n,i);return 0>i&&0>n&&(s+=2*Math.PI),{angle:s,distance:a}},n.aliasPixel=function(t){return 0===t%2?0:.5}),_=(n.splineCurve=function(t,e,i,n){var a=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),s=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),o=n*a/(a+s),r=n*s/(a+s);return{inner:{x:e.x-o*(i.x-t.x),y:e.y-o*(i.y-t.y)},outer:{x:e.x+r*(i.x-t.x),y:e.y+r*(i.y-t.y)}}},n.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),w=(n.calculateScaleRange=function(t,e,i,n,a){var s=2,o=Math.floor(e/(1.5*i)),r=s>=o,l=g(t),c=m(t);l===c&&(l+=.5,c>=.5&&!n?c-=.5:l+=.5);for(var h=Math.abs(l-c),u=_(h),d=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=n?0:Math.floor(c/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),b=Math.round(f/v);(b>o||o>2*b)&&!r;)if(b>o)v*=2,b=Math.round(f/v),0!==b%1&&(r=!0);else if(a&&u>=0){if(0!==v/2%1)break;v/=2,b=Math.round(f/v)}else v/=2,b=Math.round(f/v);return r&&(b=s,v=f/b),{steps:b,stepValue:v,min:p,max:p+b*v}},n.template=function(t,e){function i(t,e){var i=/\W/.test(t)?Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):n[t]=n[t];return e?i(e):i}if(t instanceof Function)return t(e);var n={};return i(t,e)}),x=(n.generateLabels=function(t,e,i,n){var s=Array(e);return labelTemplateString&&a(s,function(e,a){s[a]=w(t,{value:i+n*(a+1)})}),s},n.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return 1>(t/=.5)?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return 1>(t/=.5)?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return 1>(t/=.5)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return 1>(t/=.5)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),Math.abs(1)>n?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-(n*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i)))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1==(t/=1)?1:(i||(i=.3),Math.abs(1)>n?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.3*1.5),Math.abs(1)>n?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),1>t?-.5*n*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i):.5*n*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/i)+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return 1>(t/=.5)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-x.easeOutBounce(1-t)},easeOutBounce:function(t){return 1/2.75>(t/=1)?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*x.easeInBounce(2*t):.5*x.easeOutBounce(2*t-1)+.5}}),T=n.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),S=(n.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),n.animationLoop=function(t,e,i,n,a,s){var o=0,r=x[i]||x.linear,l=function(){o++;var i=o/e,c=r(i);t.call(s,c,i,o),n.call(s,c,i),e>o?s.animationFrame=T(l):a.apply(s)};T(l)},n.getRelativePosition=function(t){var e,i,n=t.originalEvent||t,a=t.currentTarget||t.srcElement,s=a.getBoundingClientRect();return n.touches?(e=n.touches[0].clientX-s.left,i=n.touches[0].clientY-s.top):(e=n.clientX-s.left,i=n.clientY-s.top),{x:e,y:i}},n.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}),C=n.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=h},k=(n.bindEvents=function(t,e,i){t.events||(t.events={}),a(e,function(e){t.events[e]=function(){i.apply(t,arguments)},S(t.chart.canvas,e,t.events[e])})},n.unbindEvents=function(t,e){a(e,function(e,i){C(t.chart.canvas,i,e)})}),D=n.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},I=n.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},A=(n.getMaximumSize=n.getMaximumWidth,n.retinaScale=function(t){var e=t.ctx,i=t.canvas.width,n=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=i+"px",e.canvas.style.height=n+"px",e.canvas.height=n*window.devicePixelRatio,e.canvas.width=i*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),P=n.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},E=n.fontString=function(t,e,i){return e+" "+t+"px "+i},F=n.longestText=function(t,e,i){t.font=e;var n=0;return a(i,function(e){var i=t.measureText(e).width;n=i>n?i:n}),n},M=n.drawRoundedRectangle=function(t,e,i,n,a,s){t.beginPath(),t.moveTo(e+s,i),t.lineTo(e+n-s,i),t.quadraticCurveTo(e+n,i,e+n,i+s),t.lineTo(e+n,i+a-s),t.quadraticCurveTo(e+n,i+a,e+n-s,i+a),t.lineTo(e+s,i+a),t.quadraticCurveTo(e,i+a,e,i+a-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+s,i),t.closePath()};i.instances={},i.Type=function(t,e,n){this.options=e,this.chart=n,this.id=u(),i.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},o(i.Type.prototype,{initialize:function(){return this},clear:function(){return P(this.chart),this},stop:function(){return n.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,i=D(this.chart.canvas),n=this.options.maintainAspectRatio?i/this.chart.aspectRatio:I(this.chart.canvas);return e.width=this.chart.width=i,e.height=this.chart.height=n,A(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:h,render:function(t){return t&&this.reflow(),this.options.animation&&!t?n.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return w(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events),delete i.instances[this.id]},showTooltip:function(t,e){this.activeElements===void 0&&(this.activeElements=[]);var s=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(a(t,function(t,i){t!==this.activeElements[i]&&(e=!0)},this),e)}.call(this,t);if(s||e){if(this.activeElements=t,this.draw(),t.length>0)if(this.datasets&&this.datasets.length>1){for(var o,r,c=this.datasets.length-1;c>=0&&(o=this.datasets[c].points||this.datasets[c].bars||this.datasets[c].segments,r=l(o,t[0]),-1===r);c--);var h=[],u=[],d=function(){var t,e,i,a,s,o=[],l=[],c=[];return n.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[r]&&t[r].hasValue()&&o.push(t[r])}),n.each(o,function(t){l.push(t.x),c.push(t.y),h.push(n.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),s=m(c),i=g(c),a=m(l),e=g(l),{x:a>this.chart.width/2?a:e,y:(s+i)/2}}.call(this,r);new i.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:h,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else a(t,function(t){var e=t.tooltipPosition();new i.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:w(this.options.tooltipTemplate,t),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(t){var e=this,n=function(){return e.apply(this,arguments)};if(n.prototype=s(e.prototype),o(n.prototype,t),n.extend=i.Type.extend,t.name||e.prototype.name){var a=t.name||e.prototype.name,l=i.defaults[e.prototype.name]?s(i.defaults[e.prototype.name]):{};i.defaults[a]=o(l,t.defaults),i.types[a]=n,i.prototype[a]=function(t,e){var s=r(i.defaults.global,i.defaults[a],e||{});return new n(t,s,this)}}else d("Name not provided for this chart, so it hasn't been registered");return e},i.Element=function(t){o(this,t),this.initialize.apply(this,arguments),this.save()},o(i.Element.prototype,{initialize:function(){},restore:function(t){return t?a(t,function(t){this[t]=this._saved[t]},this):o(this,this._saved),this},save:function(){return this._saved=s(this),delete this._saved._saved,this},update:function(t){return a(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return a(t,function(t,i){this[i]=(t-this._saved[i])*e+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),i.Element.extend=c,i.Point=i.Element.extend({display:!0,inRange:function(t,e){var i=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),i.Arc=i.Element.extend({inRange:function(t,e){var i=n.getAngleFromPoint(this,{x:t,y:e}),a=i.angle>=this.startAngle&&i.angle<=this.endAngle,s=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return a&&s},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,i=this.x-e,n=this.x+e,a=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(i+=s,n-=s,a+=s),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(i,this.base),t.lineTo(i,a),t.lineTo(n,a),t.lineTo(n,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&this.x+this.width/2>=t&&e>=this.y&&this.base>=e}}),i.Tooltip=i.Element.extend({draw:function(){var t=this.chart.ctx;t.font=E(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=2,i=t.measureText(this.text).width+2*this.xPadding,n=this.fontSize+2*this.yPadding,a=n+this.caretHeight+e;this.x+i/2>this.chart.width?this.xAlign="left":0>this.x-i/2&&(this.xAlign="right"),0>this.y-a&&(this.yAlign="below");var s=this.x-i/2,o=this.y-a;switch(t.fillStyle=this.fillColor,this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":o=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":s=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}M(t,s,o,i,n,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,s+i/2,o+n/2)}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=E(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=E(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=F(this.ctx,this.font,this.labels)+this.fontSize+3,i=g([e,t]);this.width=i+2*this.xPadding;var n=this.height/2;0>this.y-n?this.y=n:this.y+n>this.chart.height&&(this.y=this.chart.height-n),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,i=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){M(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,n.each(this.labels,function(e,i){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[i].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(w(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?F(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),this.yLabelWidth>t&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,i=this.ctx.measureText(this.xLabels[0]).width,n=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=n/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth+10?i/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var a,s=F(this.ctx,this.font,this.xLabels);this.xLabelWidth=s;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&90>=this.xLabelRotation&&this.xLabelRotation>0;)a=Math.cos(b(this.xLabelRotation)),t=a*i,e=a*n,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=a*s;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*s+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:h,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=e/(this.valuesCount-(this.offsetGridLines?0:1)),n=i*t+this.xScalePaddingLeft;return this.offsetGridLines&&(n+=i/2),Math.round(n)},update:function(t){n.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,a(this.yLabels,function(a,s){var o=this.endPoint-e*s,r=Math.round(o);t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(a,i-10,o),t.beginPath(),s>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),r+=n.aliasPixel(t.lineWidth),t.moveTo(i,r),t.lineTo(this.width,r),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i-5,r),t.lineTo(i,r),t.stroke(),t.closePath()},this),a(this.xLabels,function(e,i){var n=this.calculateX(i)+y(this.lineWidth),a=this.calculateX(i-(this.offsetGridLines?.5:0))+y(this.lineWidth),s=this.xLabelRotation>0;t.beginPath(),i>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),t.moveTo(a,this.endPoint),t.lineTo(a,this.startPoint-3),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(a,this.endPoint),t.lineTo(a,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(n,s?this.endPoint+12:this.endPoint+8),t.rotate(-1*b(this.xLabelRotation)),t.font=this.font,t.textAlign=s?"right":"center",t.textBaseline=s?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;this.steps>=e;e++)this.yLabels.push(w(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,i,n,a,s,o,r,l,c,h,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=E(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;this.valuesCount>e;e++)t=this.getPointPosition(e,d),i=this.ctx.measureText(w(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(n=i/2,t.x+n>p&&(p=t.x+n,a=e),g>t.x-n&&(g=t.x-n,o=e)):this.valuesCount/2>e?t.x+i>p&&(p=t.x+i,a=e):e>this.valuesCount/2&&g>t.x-i&&(g=t.x-i,o=e);l=g,c=Math.ceil(p-this.width),s=this.getIndexAngle(a),r=this.getIndexAngle(o),h=c/Math.sin(s+Math.PI/2),u=l/Math.sin(r+Math.PI/2),h=f(h)?h:0,u=f(u)?u:0,this.drawingArea=d-(u+h)/2,this.setCenterPoint(u,h)},setCenterPoint:function(t,e){var i=this.width-e-this.drawingArea,n=t+this.drawingArea;this.xCenter=(n+i)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var i=this.getIndexAngle(t);return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(a(this.yLabels,function(e,i){if(i>0){var n,a=i*(this.drawingArea/this.steps),s=this.yCenter-a;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,a,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var o=0;this.valuesCount>o;o++)n=this.getPointPosition(o,this.calculateCenterOffset(this.min+i*this.stepValue)),0===o?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=E(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-r/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,s)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var i=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke(),t.closePath()}var n=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=E(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var s=this.labels.length,o=this.labels.length/2,r=o/2,l=r>e||e>s-r,c=e===r||e===s-r;t.textAlign=0===e?"center":e===o?"center":o>e?"left":"right",t.textBaseline=c?"middle":l?"bottom":"top",t.fillText(this.labels[e],n.x,n.y)}}}}}),n.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){a(i.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),t.Chart=i,i.noConflict=function(){return t.Chart=e,i}}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:n,initialize:function(t){var n=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,i){var a=this.calculateBaseWidth(),s=this.calculateX(i)-a/2,o=this.calculateBarWidth(t);return s+o*e+e*n.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*n.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*n.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),i.each(t.datasets,function(e){var n={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(n),i.each(e.data,function(i,a){n.bars.push(new this.BarClass({value:i,label:t.labels[a],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,n){i.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,n,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){i.each(this.datasets,function(e,n){i.each(e.bars,t,this,n)},this)},getBarsAtEvent:function(t){for(var e,n=[],a=i.getRelativePosition(t),s=function(t){n.push(t.bars[e])},o=0;this.datasets.length>o;o++)for(e=0;this.datasets[o].bars.length>e;e++)if(this.datasets[o].bars[e].inRange(a.x,a.y))return i.each(this.datasets,s),n;return n},buildScale:function(t){var e=this,n=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},a={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(a,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(a)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){i.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear(),this.chart.ctx,this.scale.draw(e),i.each(this.datasets,function(t,n){i.each(t.bars,function(t,i){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,n,i),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:n,initialize:function(t){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],n=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(n.x,n.y)&&e.push(t)},this),e},addData:function(t,e,i){var n=e||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),i||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(t){t.restore(["fillColor"])}),i.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===i&&(t.startAngle=1.5*Math.PI),this.segments.length-1>i&&(this.segments[i+1].startAngle=t.endAngle)
},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:i.merge(n,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:n,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var n={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(n),i.each(e.data,function(i,a){n.points.push(new this.PointClass({value:i,label:t.labels[a],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){i.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],n=i.getRelativePosition(t);return i.each(this.datasets,function(t){i.each(t.points,function(t){t.inRange(n.x,n.y)&&e.push(t)})},this),e},buildScale:function(t){var n=this,a=function(){var t=[];return n.eachPoints(function(e){t.push(e.value)}),t},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=i.calculateScaleRange(a(),t,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,e)},xLabels:t,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(s,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(s)},addData:function(t,e){i.each(t,function(t,i){this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var n=this.chart.ctx,a=function(t){return null!==t.value},s=function(t,e,n){return i.findNextWhere(e,a,n)||t},o=function(t,e,n){return i.findPreviousWhere(e,a,n)||t};this.scale.draw(e),i.each(this.datasets,function(t){var r=i.where(t.points,a);i.each(t.points,function(t,i){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(i)},e)},this),this.options.bezierCurve&&i.each(r,function(t,e){var n=e>0&&r.length-1>e?this.options.bezierCurveTension:0;t.controlPoints=i.splineCurve(o(t,r,e),t,s(t,r,e),n),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=t.strokeColor,n.beginPath(),i.each(r,function(t,e){if(0===e)n.moveTo(t.x,t.y);else if(this.options.bezierCurve){var i=o(t,r,e);n.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else n.lineTo(t.x,t.y)},this),n.stroke(),this.options.datasetFill&&r.length>0&&(n.lineTo(r[r.length-1].x,this.scale.endPoint),n.lineTo(r[0].x,this.scale.endPoint),n.fillStyle=t.fillColor,n.closePath(),n.fill()),i.each(r,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers,n={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:n,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),i.each(t,function(t,e){this.addData(t,e,!0)},this),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];i.each(this.segments,function(t){t.restore(["fillColor"])}),i.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],n=i.getRelativePosition(t);return i.each(this.segments,function(t){t.inRange(n.x,n.y)&&e.push(t)},this),e},addData:function(t,e,i){var n=e||this.segments.length;this.segments.splice(n,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(t){var e=i.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,i.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];i.each(t,function(t){e.push(t.value)});var n=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,n,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),i.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),i.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),i.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),i.each(this.segments,function(t,i){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===i&&(t.startAngle=1.5*Math.PI),this.segments.length-1>i&&(this.segments[i+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,i=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),i.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),i.each(t.datasets,function(e){var n={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(n),i.each(e.data,function(i,a){var s;this.scale.animation||(s=this.scale.getPointPosition(a,this.scale.calculateCenterOffset(i))),n.points.push(new this.PointClass({value:i,label:t.labels[a],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){i.each(this.datasets,function(e){i.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=i.getRelativePosition(t),n=i.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),a=2*Math.PI/this.scale.valuesCount,s=Math.round((n.angle-1.5*Math.PI)/a),o=[];return(s>=this.scale.valuesCount||0>s)&&(s=0),n.distance<=this.scale.drawingArea&&i.each(this.datasets,function(t){o.push(t.points[s])}),o},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return i.each(t,function(t){t.data?e=e.concat(t.data):i.each(t.points,function(t){e.push(t.value)})}),e}(),n=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(e,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,n)},addData:function(t,e){this.scale.valuesCount++,i.each(t,function(t,i){var n=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[i].points.push(new this.PointClass({value:t,label:e,x:n.x,y:n.y,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),i.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,n=this.chart.ctx;this.clear(),this.scale.draw(),i.each(this.datasets,function(t){i.each(t.points,function(t,i){t.hasValue()&&t.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(t.value)),e)},this),n.lineWidth=this.options.datasetStrokeWidth,n.strokeStyle=t.strokeColor,n.beginPath(),i.each(t.points,function(t,e){0===e?n.moveTo(t.x,t.y):n.lineTo(t.x,t.y)},this),n.closePath(),n.stroke(),n.fillStyle=t.fillColor,n.fill(),i.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);